<?xml version="1.0" encoding="UTF-8"?>
<queryservice xmlns="http://www.anyframejava.org/schema/query/mapping"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.anyframejava.org/schema/query/mapping http://www.anyframejava.org/schema/query/anyframe-query-mapping-1.0.xsd ">
	
	<queries>
		
		<query id="list.listTempApproval">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DOC_TYPE, ENF_TYPE, 
					   TO_CHAR(REGIST_DATE, 'yyyy-mm-dd hh24:mi:ss') REGIST_DATE, ATTACH_COUNT, URGENCY_YN, ELECTRON_DOC_YN
					   ,SECURITY_PASS,SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
				       		   ,(select min(READ_DATE) from TGW_APP_LINE where doc_id = TEMP.doc_id and APPROVER_ID = :vo.userId) as READ_DATE
				       		   
				FROM TGW_APP_DOC_TEMP TEMP
				WHERE TEMP.COMP_ID = :vo.compId 
				AND TEMP.REGISTER_ID = :vo.userId
				AND NOT EXISTS (
						 SELECT DOC_ID FROM TGW_APP_DOC B
						 			   WHERE B.DELETE_YN = 'N' 
						 			   AND TEMP.DOC_ID = B.DOC_ID
				             		   AND TEMP.COMP_ID = B.COMP_ID
				             		   AND B.COMP_ID = :vo.compId
				             		   AND B.DOC_STATE IN ( {{vo.docAppState}} )
				             		   AND B.DRAFTER_ID = :vo.userId
				             	 )
				AND TEMP.DELETE_YN = 'N' 
				AND TEMP.DOC_STATE IN ( {{vo.docAppState}} )
				AND TEMP.BIZ_SYSTEM_CODE IS NULL 
				
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND  UPPER(TEMP.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchSaveDate"))
						AND TEMP.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
					#end 
				#end
				
				AND TEMP.ELECTRON_DOC_YN = 'Y'
				AND TEMP.BATCH_DRAFT_NUMBER = 1
				
				ORDER BY TEMP.DRAFT_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listBizDraft">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DOC_TYPE, A.ENF_TYPE, 
					   TO_CHAR(A.REGIST_DATE, 'yyyy-mm-dd hh24:mi:ss') REGIST_DATE, A.ATTACH_COUNT, 
					   A.BIZ_SYSTEM_CODE, B.BIZ_SYSTEM_NAME, A.URGENCY_YN, A.ELECTRON_DOC_YN					
				FROM TGW_APP_DOC_TEMP A, TGW_BIZ_SYSTEM B, TGW_BIZ_PROC C  
				WHERE A.COMP_ID = :vo.compId 
				AND A.DOC_ID = C.DOC_ID
				AND A.COMP_ID = B.COMP_ID				
				AND A.BIZ_SYSTEM_CODE = B.BIZ_SYSTEM_CODE
				AND A.DRAFTER_ID = :vo.userId
				AND A.DELETE_YN = 'N'
				AND A.DOC_STATE IN ( {{vo.docAppState}} )
				AND C.EX_PROC_TYPE = :vo.procType
				AND B.BIZ_TYPE_CODE = C.BIZ_TYPE_CODE
				AND C.EX_PROC_STATE = :vo.procState 
				
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND  UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchBizDate"))
						AND A.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
					#end 
				#end
				
				AND ELECTRON_DOC_YN = 'Y'
				AND BATCH_DRAFT_NUMBER = 1
				
				ORDER BY A.REGIST_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listApprovalReject">
			<statement>
			<![CDATA[
						SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME, 
					       		 DRAFTER_ID, DRAFTER_NAME, TO_CHAR(LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
					       		 '' SENDER_DEPT_ID, '' SENDER_DEPT_NAME, '' SENDER_COMP_ID, '' SENDER_COMP_NAME,
					       		 'Y' RETURN_DOC_YN, URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE,
					       		 TO_CHAR(DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, TRANSFER_YN, TEMP_YN
					       		  ,SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, ATTACH_COUNT,
				       		   (select approver_id from TGW_APP_LINE where doc_id = TGW_APP_DOC.doc_id and proc_type='APT002') as rejector_id,
				       		   (select approver_name from TGW_APP_LINE where doc_id = TGW_APP_DOC.doc_id and proc_type='APT002') as rejector_name,
							   (select TO_CHAR(process_date, 'yyyy-mm-dd hh24:mi:ss') from TGW_APP_LINE where doc_id = TGW_APP_DOC.doc_id and proc_type='APT002') as reject_date
							   ,(select min(READ_DATE) from TGW_APP_LINE where doc_id = TGW_APP_DOC.doc_id and APPROVER_ID = :vo.userId) as READ_DATE
				       		   
					      FROM TGW_APP_DOC
					      WHERE COMP_ID = :vo.compId 
					      AND DRAFTER_ID = :vo.userId
					      AND DOC_STATE = :vo.docReturnAppState
					      AND BATCH_DRAFT_NUMBER = 1
					      AND DELETE_YN = 'N'
					      	
					      #if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDraftDate"))
								AND LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
							#end  
						  #end
						  
					      AND ELECTRON_DOC_YN = 'Y'	
					      AND TRANSFER_YN = 'N'
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listApprovalDelete">
			<statement>
			<![CDATA[
						SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME, 
					       		 DRAFTER_ID, DRAFTER_NAME, TO_CHAR(LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
					       		 '' SENDER_DEPT_ID, '' SENDER_DEPT_NAME, '' SENDER_COMP_ID, '' SENDER_COMP_NAME,
					       		 'Y' RETURN_DOC_YN, URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE,
					       		 TO_CHAR(DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, TRANSFER_YN, TEMP_YN
					       		  ,SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, ATTACH_COUNT,
							   (select TO_CHAR(use_date, 'yyyy-mm-dd hh24:mi:ss') from (select * from TGW_DOC_HIS order by use_date desc) where doc_id = TGW_APP_DOC.doc_id and used_type='DHU007' and rownum = 1) as delete_date
							   ,(select min(READ_DATE) from TGW_APP_LINE where doc_id = TGW_APP_DOC.doc_id and APPROVER_ID = :vo.userId) as READ_DATE
					      FROM TGW_APP_DOC
					      WHERE COMP_ID = :vo.compId 
					      AND DRAFTER_ID = :vo.userId
					      AND DELETE_YN = 'Y'
					      AND DOC_STATE = 'APP100' -- 정확한건 아니지만 다른 상태의 삭제 데이터는 HIS 테이블에 이력이 남질 않는다.
					      #if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDraftDate"))
								AND LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
							#end  
						  #end
						  
					      AND ELECTRON_DOC_YN = 'Y'	
					      AND TRANSFER_YN = 'N'
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listApprovalWait">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,  
					   DRAFTER_ID, DRAFTER_NAME, LAST_UPDATE_DATE,
					   SENDER_DEPT_ID, SENDER_DEPT_NAME, SENDER_COMP_ID, SENDER_COMP_NAME,
					   RETURN_DOC_YN, URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE, DRAFT_DATE, TRANSFER_YN, TEMP_YN
					    ,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE, ATTACH_COUNT
					    ,READ_DATE
				FROM (  
				       SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
				       		  A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
				       		  '' SENDER_DEPT_ID, '' SENDER_DEPT_NAME, '' SENDER_COMP_ID, '' SENDER_COMP_NAME,
				       		  'N' RETURN_DOC_YN, A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE, 
				       		  TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.TEMP_YN
				       		  , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, A.ATTACH_COUNT
				       		   ,B.READ_DATE
				      
				       FROM TGW_APP_DOC A, TGW_APP_LINE B
				       WHERE A.COMP_ID = :vo.compId
				       AND B.DOC_ID = A.DOC_ID 
				       AND B.COMP_ID = A.COMP_ID        
				       
					   AND A.DOC_STATE IN ( {{vo.docAppState}} )
					   AND A.DELETE_YN = 'N'  						
					   AND A.BATCH_DRAFT_NUMBER = 1			  			
					   AND A.ELECTRON_DOC_YN = 'Y'						
					   AND A.TRANSFER_YN = 'N'						
                       AND B.COMP_ID  = :vo.compId											
                       AND A.TRANSFER_YN = A.DELETE_YN
                        
					   AND (
					   			(
					   				B.PROC_TYPE = :vo.apprProcType
					   				AND ( B.APPROVER_ID = :vo.userId OR NVL(B.REPRESENTATIVE_ID, '') = :vo.userId )
					   				AND B.TEMP_YN = 'N'
					   			)
					   			OR
					   			(
					   				B.PROC_TYPE = :vo.processorProcType AND B.PROCESSOR_ID = :vo.userId
					   				AND B.TEMP_YN = 'Y'
					   			)
					   			
					   	   )
					   
					   #if($vo.mobileYn.equals("Y"))
					   		AND A.DOUBLE_YN = 'N'
					   #end
				
					   #if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDraftDate"))
								AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
							#end  
					  #end
					  
					  
					  #if($vo.deptAdminYn.equals("Y") && $vo.mobileYn.equals("N"))
					  
						  UNION
						  
						  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
					       		  A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
					       		  '' SENDER_DEPT_ID, '' SENDER_DEPT_NAME, '' SENDER_COMP_ID, '' SENDER_COMP_NAME,
					       		  'N' RETURN_DOC_YN, A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE,
					       		  TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.TEMP_YN
					       		   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, A.ATTACH_COUNT
				       		   ,B.READ_DATE
					       FROM TGW_APP_DOC A, TGW_APP_LINE B
					       WHERE A.COMP_ID = :vo.compId 
					       AND A.DOC_ID = B.DOC_ID 
						   AND A.COMP_ID = B.COMP_ID 
					       
						   AND A.DOC_STATE IN ( {{vo.docAppStateDept}} )
						   AND B.PROC_TYPE IN ( {{vo.procType}} )   
						   AND B.APPROVER_DEPT_ID = :vo.deptId
						   AND A.DELETE_YN = 'N'
						   AND A.BATCH_DRAFT_NUMBER = 1
						   
						   #if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDraftDate"))
									AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
								#end  
						  #end
						  
						  AND A.ELECTRON_DOC_YN = 'Y'
						  AND B.TEMP_YN = 'N'
						  AND A.TRANSFER_YN = 'N'
					   
					  #end
					  
					  
					  #if($vo.mobileYn.equals("N"))
					  
						  UNION
						  
						  SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME, 
					       		 DRAFTER_ID, DRAFTER_NAME, TO_CHAR(LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
					       		 '' SENDER_DEPT_ID, '' SENDER_DEPT_NAME, '' SENDER_COMP_ID, '' SENDER_COMP_NAME,
					       		 'Y' RETURN_DOC_YN, URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE,
					       		 TO_CHAR(DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, TRANSFER_YN, TEMP_YN
					       		  ,SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, ATTACH_COUNT,
				       		   (select min(READ_DATE) from TGW_APP_LINE where doc_id = TGW_APP_DOC.doc_id and APPROVER_ID = :vo.userId) as READ_DATE
					      FROM TGW_APP_DOC
					      WHERE COMP_ID = :vo.compId 
					      AND DRAFTER_ID = :vo.userId
					      AND DOC_STATE = :vo.docReturnAppState
					      AND BATCH_DRAFT_NUMBER = 1
					      AND DELETE_YN = 'N'
					      	
					      #if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDraftDate"))
								AND LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
							#end  
						  #end
						  
					      AND ELECTRON_DOC_YN = 'Y'	
					      AND TRANSFER_YN = 'N'
				     
					  
					  
					  
						  UNION 
						  	
						  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPT_DEPT_ID, A.ACCEPT_DEPT_NAME,  
							  	 A.ACCEPTER_ID, A.ACCEPTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
							  	 A.SENDER_DEPT_ID, A.SENDER_DEPT_NAME, A.SENDER_COMP_ID, A.SENDER_COMP_NAME,
							  	 'N' RETURN_DOC_YN, A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE
							  	 , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, 'N' TEMP_YN
							  	  , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, A.ATTACH_COUNT
				       		   ,B.READ_DATE
						  FROM TGW_ENF_DOC A, TGW_ENF_LINE B
						  WHERE A.COMP_ID = :vo.compId
						  AND A.DOC_ID = B.DOC_ID
						  AND A.COMP_ID = B.COMP_ID						  
						  AND A.DELETE_YN = 'N' 
						  AND A.TRANSFER_YN = 'N'
						  AND A.UNREGIST_YN = 'N' 
						  
						  AND A.DOC_STATE IN ( {{vo.docEnfState}} )					  
						  AND ( B.PROCESSOR_ID = :vo.userId OR NVL(B.REPRESENTATIVE_ID, '') = :vo.userId )
						  	
						  
						  AND B.PROC_TYPE = :vo.apprProcType 
						  AND B.PROCESS_DATE = TO_DATE('9999-12-31 23:59:59','YYYY-MM-DD HH24:MI:SS')  
	  					  
						  #if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDraftDate"))
								AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
							#end  
						  #end
						  
						  #if($vo.recvObject.equals("2"))
						  
							  UNION
							  
							  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPT_DEPT_ID, A.ACCEPT_DEPT_NAME,  
								  	 A.ACCEPTER_ID, A.ACCEPTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
								  	 A.SENDER_DEPT_ID, A.SENDER_DEPT_NAME, A.SENDER_COMP_ID, A.SENDER_COMP_NAME,
								  	 'N' RETURN_DOC_YN, A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE
								  	 , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, 'N' TEMP_YN
								  	  , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, A.ATTACH_COUNT
				       		   ,B.READ_DATE
							  FROM TGW_ENF_DOC A, TGW_ENF_RECV B
							  WHERE B.RECV_COMP_ID = :vo.compId
							  AND A.DOC_ID = B.DOC_ID
							  AND A.COMP_ID = B.COMP_ID					  
							  AND A.DOC_STATE IN ( {{vo.docEnfReciveState}} )
							  AND B.RECV_USER_ID = :vo.userId	
							  AND A.TRANSFER_YN = 'N'	
							  AND A.DELETE_YN = 'N' 
	/* TUNNING ADD JTH8172*/  AND A.RECEIVE_DATE > TO_DATE('2000','YYYY')  	
							  AND A.UNREGIST_YN = 'N' 				    
		  					  
							  #if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDraftDate"))
									AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
								#end  
							  #end
							  
						 #end
						  
						  
						  
						  UNION
						  
						  SELECT DOC_ID, COMP_ID, TITLE, ACCEPT_DEPT_ID, ACCEPT_DEPT_NAME,  
								  	 ACCEPTER_ID, ACCEPTER_NAME, TO_CHAR(LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
								  	 SENDER_DEPT_ID, SENDER_DEPT_NAME, SENDER_COMP_ID, SENDER_COMP_NAME,
								  	 'N' RETURN_DOC_YN, URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE
								  	 , TO_CHAR(ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, TRANSFER_YN, 'N' TEMP_YN
								  	  ,SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, ATTACH_COUNT
				       		   , (select min(READ_DATE) from TGW_APP_LINE where doc_id = TGW_ENF_DOC.doc_id and APPROVER_ID = :vo.userId) AS READ_DATE
							  FROM TGW_ENF_DOC 
							  WHERE COMP_ID = :vo.compId
							  AND DELETE_YN = 'N'
							  AND DOC_STATE IN ( {{vo.docEnfDisplyWaitState}} )
							  AND ACCEPT_DEPT_ID = :vo.deptId
							  
							  #if($vo.deptAdminYn.equals("N"))
							  	AND ACCEPTER_ID = :vo.userId
							  #end
							  
							  AND TRANSFER_YN = 'N'
							  AND UNREGIST_YN = 'N' 
							  
							  #if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDraftDate"))
									AND LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
								#end  
							  #end

						 
						 #end
					)
					ORDER BY LAST_UPDATE_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		
		<query id="list.listApprovalWaitToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM ( 
					SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,  
						   DRAFTER_ID, DRAFTER_NAME, LAST_UPDATE_DATE,
						   SENDER_DEPT_ID, SENDER_DEPT_NAME, SENDER_COMP_ID, SENDER_COMP_NAME,
						   RETURN_DOC_YN, URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE, DRAFT_DATE, TRANSFER_YN, TEMP_YN 
					FROM (  
					       SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
					       		  A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
					       		  '' SENDER_DEPT_ID, '' SENDER_DEPT_NAME, '' SENDER_COMP_ID, '' SENDER_COMP_NAME,
					       		  'N' RETURN_DOC_YN, A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE, 
					       		  TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.TEMP_YN
					       FROM TGW_APP_DOC A, TGW_APP_LINE B
					       WHERE A.COMP_ID = :vo.compId
					       AND B.DOC_ID = A.DOC_ID 
					       AND B.COMP_ID = A.COMP_ID        
					       
						   AND A.DOC_STATE IN ( {{vo.docAppState}} )
						   AND A.DELETE_YN = 'N'  						
						   AND A.BATCH_DRAFT_NUMBER = 1			  			
						   AND A.ELECTRON_DOC_YN = 'Y'						
						   AND A.TRANSFER_YN = 'N'						
	                       AND B.COMP_ID  = :vo.compId											
	                       AND A.TRANSFER_YN = A.DELETE_YN
	                        
						   AND (
						   			(
						   				B.PROC_TYPE = :vo.apprProcType
						   				AND ( B.APPROVER_ID = :vo.userId OR NVL(B.REPRESENTATIVE_ID, '') = :vo.userId )
						   				AND B.TEMP_YN = 'N'
						   			)
						   			OR
						   			(
						   				B.PROC_TYPE = :vo.processorProcType AND B.PROCESSOR_ID = :vo.userId
						   				AND B.TEMP_YN = 'Y'
						   			)
						   			
						   	   )
						   
					
						   #if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDraftDate"))
									AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
								#end  
						  #end
						  
						  
						  
						  
						  #if($vo.deptAdminYn.equals("Y") && $vo.mobileYn.equals("N"))
						  
							  UNION
							  
							  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
						       		  A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
						       		  '' SENDER_DEPT_ID, '' SENDER_DEPT_NAME, '' SENDER_COMP_ID, '' SENDER_COMP_NAME,
						       		  'N' RETURN_DOC_YN, A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE,
						       		  TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.TEMP_YN
						       FROM TGW_APP_DOC A, TGW_APP_LINE B
						       WHERE A.COMP_ID = :vo.compId 
						       AND A.DOC_ID = B.DOC_ID 
							   AND A.COMP_ID = B.COMP_ID 
						       
							   AND A.DOC_STATE IN ( {{vo.docAppStateDept}} )
							   AND B.PROC_TYPE IN ( {{vo.procType}} )   
							   AND B.APPROVER_DEPT_ID = :vo.deptId
							   AND A.DELETE_YN = 'N'
							   AND A.BATCH_DRAFT_NUMBER = 1
							   
							   #if (!$vo.searchType.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
									#elseif ($vo.searchType.equals("searchDraftDate"))
										AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
									#end  
							  #end
							  
							  AND A.ELECTRON_DOC_YN = 'Y'
							  AND B.TEMP_YN = 'N'
							  AND A.TRANSFER_YN = 'N'
						   
						  #end
						  
						  
						  #if($vo.mobileYn.equals("N"))
						  
							  UNION
							  
							  SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME, 
						       		 DRAFTER_ID, DRAFTER_NAME, TO_CHAR(LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
						       		 '' SENDER_DEPT_ID, '' SENDER_DEPT_NAME, '' SENDER_COMP_ID, '' SENDER_COMP_NAME,
						       		 'Y' RETURN_DOC_YN, URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE,
						       		 TO_CHAR(DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, TRANSFER_YN, TEMP_YN
						      FROM TGW_APP_DOC
						      WHERE COMP_ID = :vo.compId 
						      AND DRAFTER_ID = :vo.userId
						      AND DOC_STATE = :vo.docReturnAppState
						      AND BATCH_DRAFT_NUMBER = 1
						      AND DELETE_YN = 'N'
						      	
						      #if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDraftDate"))
									AND LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
								#end  
							  #end
							  
						      AND ELECTRON_DOC_YN = 'Y'	
						      AND TRANSFER_YN = 'N'
					     
						  
						  
						  
							  UNION 
							  	
							  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPT_DEPT_ID, A.ACCEPT_DEPT_NAME,  
								  	 A.ACCEPTER_ID, A.ACCEPTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
								  	 A.SENDER_DEPT_ID, A.SENDER_DEPT_NAME, A.SENDER_COMP_ID, A.SENDER_COMP_NAME,
								  	 'N' RETURN_DOC_YN, A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE
								  	 , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, 'N' TEMP_YN
							  FROM TGW_ENF_DOC A, TGW_ENF_LINE B
							  WHERE A.COMP_ID = :vo.compId
							  AND A.DOC_ID = B.DOC_ID
							  AND A.COMP_ID = B.COMP_ID						  
							  AND A.DELETE_YN = 'N' 
							  AND A.TRANSFER_YN = 'N'
							  AND A.UNREGIST_YN = 'N' 
							  
							  AND A.DOC_STATE IN ( {{vo.docEnfState}} )					  
							  AND ( B.PROCESSOR_ID = :vo.userId OR NVL(B.REPRESENTATIVE_ID, '') = :vo.userId )
							  	
							  
							  AND B.PROC_TYPE = :vo.apprProcType 
							  AND B.PROCESS_DATE = TO_DATE('9999-12-31 23:59:59','YYYY-MM-DD HH24:MI:SS')  
		  					  
							  #if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDraftDate"))
									AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
								#end  
							  #end
							  
							  
							  #if($vo.recvObject.equals("2"))
								  UNION
								  
								  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPT_DEPT_ID, A.ACCEPT_DEPT_NAME,  
									  	 A.ACCEPTER_ID, A.ACCEPTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
									  	 A.SENDER_DEPT_ID, A.SENDER_DEPT_NAME, A.SENDER_COMP_ID, A.SENDER_COMP_NAME,
									  	 'N' RETURN_DOC_YN, A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE
									  	 , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, 'N' TEMP_YN
								  FROM TGW_ENF_DOC A, TGW_ENF_RECV B
								  WHERE B.RECV_COMP_ID = :vo.compId
								  AND A.DOC_ID = B.DOC_ID
								  AND A.COMP_ID = B.COMP_ID					  
								  AND A.DOC_STATE IN ( {{vo.docEnfReciveState}} )
								  AND B.RECV_USER_ID = :vo.userId	
								  AND A.TRANSFER_YN = 'N'	
								  AND A.DELETE_YN = 'N' 
		/* TUNNING ADD JTH8172*/  AND A.RECEIVE_DATE > TO_DATE('2000','YYYY') 
								  AND A.UNREGIST_YN = 'N'  					    
			  					  
								  #if (!$vo.searchType.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
									#elseif ($vo.searchType.equals("searchDraftDate"))
										AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
									#end  
								  #end
							#end
							  
							  
							  
							  UNION
							  
							  SELECT DOC_ID, COMP_ID, TITLE, ACCEPT_DEPT_ID, ACCEPT_DEPT_NAME,  
									  	 ACCEPTER_ID, ACCEPTER_NAME, TO_CHAR(LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
									  	 SENDER_DEPT_ID, SENDER_DEPT_NAME, SENDER_COMP_ID, SENDER_COMP_NAME,
									  	 'N' RETURN_DOC_YN, URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE
									  	 , TO_CHAR(ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, TRANSFER_YN, 'N' TEMP_YN
								  FROM TGW_ENF_DOC 
								  WHERE COMP_ID = :vo.compId
								  AND DELETE_YN = 'N'
								  AND DOC_STATE IN ( {{vo.docEnfDisplyWaitState}} )
								  AND ACCEPT_DEPT_ID = :vo.deptId
								  
								  #if($vo.deptAdminYn.equals("N"))
								  	AND ACCEPTER_ID = :vo.userId
								  #end
								  
								  AND TRANSFER_YN = 'N'
								  AND UNREGIST_YN = 'N'
								  
								  #if (!$vo.searchType.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
									#elseif ($vo.searchType.equals("searchDraftDate"))
										AND LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
									#end  
								  #end
	
							 
							 #end
						)
						ORDER BY LAST_UPDATE_DATE DESC
					) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
					
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.approvalWaitDocCount">
			<statement>
			<![CDATA[

				SELECT COUNT(1) CNT  FROM (
			       SELECT * FROM
			       (  
				       SELECT A.DOC_ID				       
				       FROM TGW_APP_DOC A, TGW_APP_LINE B
				       WHERE A.COMP_ID = :vo.compId
				       AND B.DOC_ID = A.DOC_ID 
				       AND B.COMP_ID = A.COMP_ID        
				       
					   AND A.DOC_STATE IN ( {{vo.docAppState}} )
					   AND A.DELETE_YN = 'N'  						
					   AND A.BATCH_DRAFT_NUMBER = 1			  			
					   AND A.ELECTRON_DOC_YN = 'Y'						
					   AND A.TRANSFER_YN = 'N'						
                       AND B.COMP_ID  = :vo.compId											
                       AND A.TRANSFER_YN = A.DELETE_YN
                        
					   AND (
					   			(
					   				B.PROC_TYPE = :vo.apprProcType
					   				AND ( B.APPROVER_ID = :vo.userId OR NVL(B.REPRESENTATIVE_ID, '') = :vo.userId )
					   				AND B.TEMP_YN = 'N'
					   			)
					   			OR
					   			(
					   				B.PROC_TYPE = :vo.processorProcType AND B.PROCESSOR_ID = :vo.userId
					   				AND B.TEMP_YN = 'Y'
					   			)
					   			
					   	   )
					   
				
					   #if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDraftDate"))
								AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
							#end  
					  #end
					  
					  
					  
					  
					  #if($vo.deptAdminYn.equals("Y") && $vo.mobileYn.equals("N"))
					  
						  UNION
						  
						  SELECT A.DOC_ID
					       FROM TGW_APP_DOC A, TGW_APP_LINE B
					       WHERE A.COMP_ID = :vo.compId 
					       AND A.DOC_ID = B.DOC_ID 
						   AND A.COMP_ID = B.COMP_ID 
					       
						   AND A.DOC_STATE IN ( {{vo.docAppStateDept}} )
						   AND B.PROC_TYPE IN ( {{vo.procType}} )   
						   AND B.APPROVER_DEPT_ID = :vo.deptId
						   AND A.DELETE_YN = 'N'
						   AND A.BATCH_DRAFT_NUMBER = 1
						   
						   #if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDraftDate"))
									AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
								#end  
						  #end
						  
						  AND A.ELECTRON_DOC_YN = 'Y'
						  AND B.TEMP_YN = 'N'
						  AND A.TRANSFER_YN = 'N'
					   
					  #end
					  
					  
					  #if($vo.mobileYn.equals("N"))
					  
						  UNION
						  
						  SELECT /*+ INDEX(A IDX_TGW_APP_DOC_09) */ DOC_ID
						  
					      FROM TGW_APP_DOC A
					      WHERE COMP_ID = :vo.compId 
					      AND DRAFTER_ID = :vo.userId
					      AND DOC_STATE = :vo.docReturnAppState
					      AND BATCH_DRAFT_NUMBER = 1
					      AND DELETE_YN = 'N'
					      	
					      #if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDraftDate"))
								AND LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
							#end  
						  #end
						  
					      AND ELECTRON_DOC_YN = 'Y'	
					      AND TRANSFER_YN = 'N'
				     
					  
					  
					  
						  UNION ALL
						  	
						  SELECT /*+ INDEX(B IDX_TGW_ENF_LINE_05) */ A.DOC_ID
						  
						  FROM TGW_ENF_DOC A, TGW_ENF_LINE B
						  WHERE A.COMP_ID = :vo.compId
						  AND A.DOC_ID = B.DOC_ID
						  AND A.COMP_ID = B.COMP_ID						  
						  AND A.DELETE_YN = 'N' 
						  AND A.TRANSFER_YN = 'N'
						  AND A.UNREGIST_YN = 'N' 
						  
						  AND A.DOC_STATE IN ( {{vo.docEnfState}} )					  
						  AND ( B.PROCESSOR_ID = :vo.userId OR NVL(B.REPRESENTATIVE_ID, '') = :vo.userId )
						  	
						  
						  AND B.PROC_TYPE = :vo.apprProcType 
						  AND B.PROCESS_DATE = TO_DATE('9999-12-31 23:59:59','YYYY-MM-DD HH24:MI:SS')  
	  					  
						  #if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDraftDate"))
								AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
							#end  
						  #end
						  
						  #if($vo.recvObject.equals("2"))
							  UNION
							  
							  SELECT A.DOC_ID
	
							  FROM TGW_ENF_DOC A, TGW_ENF_RECV B
							  WHERE B.RECV_COMP_ID = :vo.compId
							  AND A.DOC_ID = B.DOC_ID
							  AND A.COMP_ID = B.COMP_ID					  
							  AND A.DOC_STATE IN ( {{vo.docEnfReciveState}} )
							  AND B.RECV_USER_ID = :vo.userId	
							  AND A.TRANSFER_YN = 'N'	
							  AND A.DELETE_YN = 'N' 
	/* TUNNING ADD JTH8172*/  AND A.RECEIVE_DATE > TO_DATE('2000','YYYY') 
							  AND A.UNREGIST_YN = 'N'  					    
		  					  
							  #if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDraftDate"))
									AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
								#end  
							  #end
						#end
						  
						  
						  
						  UNION
						  
						  SELECT DOC_ID
						  
							  FROM TGW_ENF_DOC 
							  WHERE COMP_ID = :vo.compId
							  AND DELETE_YN = 'N'
							  AND DOC_STATE IN ( {{vo.docEnfDisplyWaitState}} )
							  AND ACCEPT_DEPT_ID = :vo.deptId
							  
							  #if($vo.deptAdminYn.equals("N"))
							  	AND ACCEPTER_ID = :vo.userId
							  #end
							  
							  AND TRANSFER_YN = 'N'
							  AND UNREGIST_YN = 'N'
							  
							  #if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDraftDate"))
									AND LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
								#end  
							  #end

						 
						 #end
					)
					
				)
					
				
			]]>
			</statement>
		</query>
		
		<query id="list.listProgressDoc">
			<statement>
			<![CDATA[
				SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,  
					   DRAFTER_ID, DRAFTER_NAME, LAST_UPDATE_DATE,
					   PROCESSOR_ID, PROCESSOR_NAME, PROCESSOR_POS, PROCESSOR_DEPT_ID, PROCESSOR_DEPT_NAME, 
					   URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE, DRAFT_DATE, TRANSFER_YN, ATTACH_COUNT, TEMP_YN, 
					   SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE, READ_DATE
				FROM (  
				       SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
				       		  A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
				       		  A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME, 
				       		  A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE, B.READ_DATE
				       		  , TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.ATTACH_COUNT, A.TEMP_YN
				       		  , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE, TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
				       FROM TGW_APP_DOC A, TGW_APP_LINE B
				       WHERE A.COMP_ID = :vo.compId
				       AND A.DOC_ID = B.DOC_ID   
				       AND A.COMP_ID = B.COMP_ID				       
					   AND A.DOC_STATE NOT IN ( {{vo.docAppState}} ) 					   
					   AND NVL(B.PROC_TYPE,' ') NOT IN ( {{vo.procType}} )
					   
					   AND ( B.APPROVER_ID IN ( :vo.userId ) OR NVL(B.REPRESENTATIVE_ID, '') IN ( :vo.userId ) )
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#end 
						#end	
											
					  AND A.BATCH_DRAFT_NUMBER = 1
					  AND A.DELETE_YN = 'N'
					  AND B.TEMP_YN = 'N'
					  AND A.TRANSFER_YN = 'N'
					  AND A.APPROVAL_DATE = TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
					  AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					  
					  #if($vo.mobileYn.equals("N"))					  
						  UNION 
						  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPT_DEPT_ID, A.ACCEPT_DEPT_NAME,  
							  	 A.ACCEPTER_ID, A.ACCEPTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
							  	 A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME,
							  	 A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE, B.READ_DATE
							  	 , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, A.ATTACH_COUNT, 'N' TEMP_YN
							  	  , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE, TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
						  FROM TGW_ENF_DOC A, TGW_ENF_LINE B
						  WHERE A.COMP_ID = :vo.compId 
						  AND A.DOC_ID = B.DOC_ID
						  AND A.COMP_ID = B.COMP_ID						  
						  AND A.DELETE_YN = 'N'
						  AND A.TRANSFER_YN = 'N'
						  AND A.UNREGIST_YN = 'N' 						  
						  AND A.DOC_STATE IN ( {{vo.docEnfState}} )	
					   	  AND NVL(B.PROC_TYPE,' ') NOT IN ( {{vo.procType}} )
					   	  	
						  AND ( B.PROCESSOR_ID IN ( :vo.userId ) OR NVL(B.REPRESENTATIVE_ID, '') IN ( :vo.userId ) )						  
						  #if (!$vo.searchWord.equals(""))
						  	#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
							#end 
						  #end						  
						  AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					#end
					)
					ORDER BY LAST_UPDATE_DATE DESC
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<!-- 결재 경로상의 사용자 중 결재 전 사용자가 결재진행함에서 결재문서를 조회할 수 없도록 수정 -->
		<query id="list.listProgressDocOption383">
			<statement>
			<![CDATA[
				SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,  
					   DRAFTER_ID, DRAFTER_NAME, LAST_UPDATE_DATE,
					   PROCESSOR_ID, PROCESSOR_NAME, PROCESSOR_POS, PROCESSOR_DEPT_ID, PROCESSOR_DEPT_NAME, 
					   URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE, DRAFT_DATE, TRANSFER_YN, ATTACH_COUNT, TEMP_YN, 
					   SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE, READ_DATE
				FROM (  
				       SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
				       		  A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
				       		  A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME, 
				       		  A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE, B.READ_DATE
				       		  , TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.ATTACH_COUNT, A.TEMP_YN
				       		  , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE, TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
				       FROM TGW_APP_DOC A, TGW_APP_LINE B
				       WHERE A.COMP_ID = :vo.compId
				       AND A.DOC_ID = B.DOC_ID   
				       AND A.COMP_ID = B.COMP_ID				       
					   AND A.DOC_STATE NOT IN ( {{vo.docAppState}} ) 					   
					   AND B.PROC_TYPE NOT IN ( {{vo.procType}} )
					   
					   AND ( B.APPROVER_ID IN ( :vo.userId ) OR NVL(B.REPRESENTATIVE_ID, '') IN ( :vo.userId ) )
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#end 
						#end	
											
					  AND A.BATCH_DRAFT_NUMBER = 1
					  AND A.DELETE_YN = 'N'
					  AND B.TEMP_YN = 'N'
					  AND A.TRANSFER_YN = 'N'
					  AND A.APPROVAL_DATE = TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
					  AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					  
					  #if($vo.mobileYn.equals("N"))					  
						  UNION 
						  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPT_DEPT_ID, A.ACCEPT_DEPT_NAME,  
							  	 A.ACCEPTER_ID, A.ACCEPTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
							  	 A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME,
							  	 A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE, B.READ_DATE
							  	 , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, A.ATTACH_COUNT, 'N' TEMP_YN
							  	  , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE, TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
						  FROM TGW_ENF_DOC A, TGW_ENF_LINE B
						  WHERE A.COMP_ID = :vo.compId 
						  AND A.DOC_ID = B.DOC_ID
						  AND A.COMP_ID = B.COMP_ID						  
						  AND A.DELETE_YN = 'N'
						  AND A.TRANSFER_YN = 'N'
						  AND A.UNREGIST_YN = 'N' 						  
						  AND A.DOC_STATE IN ( {{vo.docEnfState}} )	
					   	  AND B.PROC_TYPE NOT IN ( {{vo.procType}} )
					   	  	
						  AND ( B.PROCESSOR_ID IN ( :vo.userId ) OR NVL(B.REPRESENTATIVE_ID, '') IN ( :vo.userId ) )						  
						  #if (!$vo.searchWord.equals(""))
						  	#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
							#end 
						  #end						  
						  AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					#end
					)
					ORDER BY LAST_UPDATE_DATE DESC
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listProgressDocToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM ( 
					SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,  
						   DRAFTER_ID, DRAFTER_NAME, LAST_UPDATE_DATE, READ_DATE
						   PROCESSOR_ID, PROCESSOR_NAME, PROCESSOR_POS, PROCESSOR_DEPT_ID, PROCESSOR_DEPT_NAME, 
						   URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE, DRAFT_DATE, TRANSFER_YN, ATTACH_COUNT, TEMP_YN 
					FROM (  
					       SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
					       		  A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
					       		  A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME, 
					       		  A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE
					       		  , TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.ATTACH_COUNT, A.TEMP_YN
					       		  , B.READ_DATE
					       FROM TGW_APP_DOC A, TGW_APP_LINE B
					       WHERE A.COMP_ID = :vo.compId
					       AND A.DOC_ID = B.DOC_ID   
					       AND A.COMP_ID = B.COMP_ID				       
						   AND A.DOC_STATE NOT IN ( {{vo.docAppState}} ) 
						   AND NVL(B.PROC_TYPE,' ') NOT IN ( {{vo.procType}} )
						   AND ( B.APPROVER_ID IN ( :vo.userId ) OR NVL(B.REPRESENTATIVE_ID, '') IN ( :vo.userId ) )
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end	
												
						  AND A.BATCH_DRAFT_NUMBER = 1
						  AND A.DELETE_YN = 'N'
						  AND B.TEMP_YN = 'N'
						  AND A.TRANSFER_YN = 'N'
						  AND A.APPROVAL_DATE = TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
						  AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					  
						  #if($vo.mobileYn.equals("N"))					  
							  UNION 
							  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPT_DEPT_ID, A.ACCEPT_DEPT_NAME,  
								  	 A.ACCEPTER_ID, A.ACCEPTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
								  	 A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME,
								  	 A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE
								  	 , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, A.ATTACH_COUNT, 'N' TEMP_YN
					       		  , B.READ_DATE
							  FROM TGW_ENF_DOC A, TGW_ENF_LINE B
							  WHERE A.COMP_ID = :vo.compId 
							  AND A.DOC_ID = B.DOC_ID
							  AND A.COMP_ID = B.COMP_ID						  
							  AND A.DELETE_YN = 'N'
							  AND A.TRANSFER_YN = 'N'	
							  AND A.UNREGIST_YN = 'N' 					  
							  AND A.DOC_STATE IN ( {{vo.docEnfState}} )		
							  AND NVL(B.PROC_TYPE,' ') NOT IN ( {{vo.procType}} )  	
							  AND ( B.PROCESSOR_ID IN ( :vo.userId ) OR NVL(B.REPRESENTATIVE_ID, '') IN ( :vo.userId ) )						  
							  #if (!$vo.searchWord.equals(""))
							  	#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							  #end						  
							  AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						#end
						)
						ORDER BY LAST_UPDATE_DATE DESC
					) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.progressDocCount">
			<statement>
			<![CDATA[
			SELECT COUNT(1) CNT  FROM (
			       SELECT * FROM
			       (
				       SELECT 
				       		A.DOC_ID
				       FROM   TGW_APP_DOC A
				       		, TGW_APP_LINE B
				       WHERE A.COMP_ID = :vo.compId
				         AND A.DOC_ID = B.DOC_ID   
				         AND A.COMP_ID = B.COMP_ID					       
					     AND A.DOC_STATE NOT IN ( {{vo.docAppState}} ) 
					     AND NVL(B.PROC_TYPE,' ') NOT IN ( {{vo.procType}} )
					     AND ( B.APPROVER_ID IN ( :vo.userId ) OR NVL(B.REPRESENTATIVE_ID, '') IN ( :vo.userId ) ) 
						
					     AND A.BATCH_DRAFT_NUMBER = 1
					     AND A.DELETE_YN = 'N'
					     AND B.TEMP_YN = 'N'
					     AND A.TRANSFER_YN = 'N'
					     AND A.APPROVAL_DATE = TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
					     AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')	  
					  #if($vo.mobileYn.equals("N"))
						  UNION ALL
						  SELECT 
						  		A.DOC_ID
						  FROM    TGW_ENF_DOC A
						  		, TGW_ENF_LINE B
						  WHERE A.COMP_ID = :vo.compId 
						    AND A.DOC_ID = B.DOC_ID
						    AND A.COMP_ID = B.COMP_ID						  
						    AND A.DELETE_YN = 'N'
						    AND A.TRANSFER_YN = 'N'	
						    AND A.UNREGIST_YN = 'N' 						  
						    AND A.DOC_STATE IN ( {{vo.docEnfState}} )
						    AND NVL(B.PROC_TYPE,' ') NOT IN ( {{vo.procType}} )
						    AND ( B.PROCESSOR_ID IN ( :vo.userId ) OR NVL(B.REPRESENTATIVE_ID, '') IN ( :vo.userId ) )
						    AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					#end
				 )
			)
			]]>
			</statement>
		</query>
		
		<query id="list.listAssistantDoc">
			<statement>
			<![CDATA[
				SELECT DISTINCT(DOC_ID), COMP_ID, TITLE, ATTACH_COUNT, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME, 
				       DRAFTER_ID, DRAFTER_NAME, DRAFT_DATE, URGENCY_YN, ELECTRON_DOC_YN, BATCH_DRAFT_NUMBER, 
				       TRANSFER_YN, DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, UNREGIST_YN, 
				       APPROVER_ID, APPROVER_NAME, DOC_STATE,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE
				FROM (
						SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT,  
							   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, A.DRAFTER_ID, A.DRAFTER_NAME, 
							   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
							   A.URGENCY_YN, A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
							   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.UNREGIST_YN, 
							   A.APPROVER_ID, A.APPROVER_NAME, A.DOC_STATE, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
						FROM TGW_APP_DOC A, TGW_APP_LINE B
						WHERE A.COMP_ID =  :vo.compId 
						AND A.DOC_ID = B.DOC_ID
						AND A.COMP_ID = B.COMP_ID	
						AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/						
						AND A.DOC_STATE NOT IN ( {{vo.docAppState}} )
						AND B.APPROVER_DEPT_ID = :vo.deptId
						AND B.ASK_TYPE IN ( {{vo.askType}} )
						AND B.PROC_TYPE = :vo.procType
						AND A.DELETE_YN = 'N'
						AND B.TEMP_YN = 'N'
						AND A.ELECTRON_DOC_YN = 'Y'
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDeptName"))
								AND UPPER(A.DRAFTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')  
							#end 
						#end
						
						AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					    AND B.PROCESS_DATE = TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss') 
					    
					    #if (!$vo.chiefId.equals(""))
					    
						    UNION
						    
						    SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT,  
								   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, A.DRAFTER_ID, A.DRAFTER_NAME, 
								   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
								   A.URGENCY_YN, A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
								   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.UNREGIST_YN, 
								   A.APPROVER_ID, A.APPROVER_NAME, A.DOC_STATE, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
							FROM TGW_APP_DOC A, TGW_APP_LINE B
							WHERE A.COMP_ID =  :vo.compId 
							AND A.DOC_ID = B.DOC_ID
							AND A.COMP_ID = B.COMP_ID	
							AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
							AND A.DOC_STATE NOT IN ( {{vo.docAppState}} )
							AND B.ASK_TYPE IN ({{vo.askType2}})
							AND A.DELETE_YN = 'N'
							AND B.TEMP_YN = 'N'
							AND A.ELECTRON_DOC_YN = 'Y'
							AND B.APPROVER_ID = :vo.chiefId 
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchDeptName"))
									AND UPPER(A.DRAFTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')  
								#end 
							#end
							
							AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						    
						#end	
					    
					    
					 )
			  	ORDER BY DRAFT_DATE DESC, BATCH_DRAFT_NUMBER DESC   
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listSendWait">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DOC_TYPE, 
					   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER,   
					   A.DRAFTER_ID, A.DRAFTER_NAME, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
					   DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) RECV_DEPT_NAMES, 
					   LENGTH (B.RECEIVERS)- LENGTH (REPLACE (B.RECEIVERS, ',')) RECV_DEPT_CNT,  
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.URGENCY_YN, 

					   A.DOC_STATE,	

					   						   
					    TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.SECURITY_PASS,
					    A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				        TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE	
				        ,(select min(READ_DATE) from TGW_APP_LINE where doc_id = A.doc_id and APPROVER_ID = :vo.userId) AS READ_DATE	
				FROM TGW_APP_DOC A, TGW_SEND_INFO B
				
				#if($vo.deptAdminYn.equals("Y"))
					, TGW_OWN_DEPT C
				#end
				
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID	
				
				#if($vo.deptAdminYn.equals("Y"))
					AND A.COMP_ID = C.COMP_ID
					AND A.DOC_ID = C.DOC_ID
				#end	
						 
				AND A.DOC_STATE IN ( {{vo.docAppState}} )
				#if($vo.sealType.equals("Y"))  /* 발송대기함에서 기안/발송담당자 발송의 경우 심사완료건을 목록에 포함// jth8172 2012 신결재 TF */
		        AND 0 < ( DECODE(DECODE(A.DOC_STATE,'APP620',1,'APP625',1,0),1,
                			NVL(( SELECT COUNT(SEAL_TYPE)
                        	      FROM   TGW_SEND_INFO
                        		  WHERE  COMP_ID = :vo.compId
                          		  AND    DOC_ID = A.DOC_ID
                          		  AND    TEMP_YN = 'N' ) , 0),1)) 
        		#end 
			 
				#if($vo.deptAdminYn.equals("N"))
					AND A.DRAFTER_ID = :vo.userId
				#else
					AND ( A.DRAFTER_ID = :vo.userId OR C.OWN_DEPT_ID = :vo.deptId )
				#end 
				
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchRecvDeptName"))
						AND DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchCompleteDate"))
						AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
					#end 
				#end
				
				AND A.DELETE_YN = 'N'
				AND A.ELECTRON_DOC_YN = 'Y'
				AND A.TRANSFER_YN = 'N'
				AND B.TEMP_YN = 'N' 
				
				ORDER BY APPROVAL_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listSendWaitToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
					SELECT A.DOC_ID, 
						   A.COMP_ID, 
						   A.TITLE, 
						   A.DOC_TYPE, 
						   A.DRAFTER_ID, 
						   A.DRAFTER_NAME,
						   A.URGENCY_YN, 
						   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
						   A.ELECTRON_DOC_YN,
						   A.TRANSFER_YN, 
						   A.SECURITY_PASS, 
                           A.SECURITY_YN, 
                     	   TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE, 
                     	   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
					FROM TGW_APP_DOC A, TGW_SEND_INFO B
					
					#if($vo.deptAdminYn.equals("Y"))
						, TGW_OWN_DEPT C
					#end
					
					WHERE A.COMP_ID = :vo.compId
					AND A.DOC_ID = B.DOC_ID
					AND A.COMP_ID = B.COMP_ID	
					
					#if($vo.deptAdminYn.equals("Y"))
						AND A.COMP_ID = C.COMP_ID
						AND A.DOC_ID = C.DOC_ID
					#end	
							 
					AND A.DOC_STATE IN ( {{vo.docAppState}} )
					#if($vo.sealType.equals("Y"))  /* 발송대기함에서 기안/발송담당자 발송의 경우 심사완료건을 목록에 포함// jth8172 2012 신결재 TF */
			        AND 0 < ( DECODE(DECODE(A.DOC_STATE,'APP620',1,'APP625',1,0),1,
	                			NVL(( SELECT COUNT(SEAL_TYPE)
	                        	      FROM   TGW_SEND_INFO
	                        		  WHERE  COMP_ID = :vo.compId
	                          		  AND    DOC_ID = A.DOC_ID
	                          		  AND    TEMP_YN = 'N' ) , 0),1)) 
	        		#end 
				 
					#if($vo.deptAdminYn.equals("N"))
						AND A.DRAFTER_ID = :vo.userId
					#else
						AND ( A.DRAFTER_ID = :vo.userId OR C.OWN_DEPT_ID = :vo.deptId )
					#end 
										
					AND A.DELETE_YN = 'N'
					AND A.ELECTRON_DOC_YN = 'Y'
					AND A.TRANSFER_YN = 'N'
					AND B.TEMP_YN = 'N' 				
					ORDER BY APPROVAL_DATE DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize	
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.sendWaitCount">
			<statement>
			<![CDATA[

				SELECT COUNT(A.DOC_ID) CNT 				
				FROM TGW_APP_DOC A, TGW_SEND_INFO B
				
				#if($vo.deptAdminYn.equals("Y"))
					, TGW_OWN_DEPT C
				#end
				
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID	
				
				#if($vo.deptAdminYn.equals("Y"))
					AND A.COMP_ID = C.COMP_ID
					AND A.DOC_ID = C.DOC_ID
				#end
							 
				AND A.DOC_STATE IN ( {{vo.docAppState}} )

				#if($vo.sealType.equals("Y"))  /* 발송대기함에서 기안/발송담당자 발송의 경우 심사완료건을 목록에 포함// jth8172 2012 신결재 TF */
		        AND 0 < ( DECODE(DECODE(A.DOC_STATE,'APP620',1,'APP625',1,0),1,
                			NVL(( SELECT COUNT(SEAL_TYPE)
                        	      FROM   TGW_SEND_INFO
                        		  WHERE  COMP_ID = :vo.compId
                          		  AND    DOC_ID = A.DOC_ID
                          		  AND    TEMP_YN = 'N' ) , 0),1)) 
				#end 
				
				#if($vo.deptAdminYn.equals("N"))
					AND A.DRAFTER_ID = :vo.userId
				#else
					AND ( A.DRAFTER_ID = :vo.userId OR C.OWN_DEPT_ID = :vo.deptId )
				#end 
				
				AND A.DELETE_YN = 'N'
				AND A.ELECTRON_DOC_YN = 'Y'
				AND A.TRANSFER_YN = 'N'
				AND B.TEMP_YN = 'N' 
				
			]]>
			</statement>
		</query>
		
		
		<query id="list.listSendJudge">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DOC_TYPE, 
					   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER,   
					   A.DRAFTER_ID, A.DRAFTER_NAME, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
					   DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) RECV_DEPT_NAMES, 
					   LENGTH (B.RECEIVERS)- LENGTH (REPLACE (B.RECEIVERS, ',')) RECV_DEPT_CNT,  
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.URGENCY_YN,
					   CASE WHEN ( A.DOC_STATE = :vo.docJudgeState OR A.DOC_STATE = :vo.docJudgeDeptState ) THEN
					   		CASE WHEN ( SELECT COUNT(SEAL_TYPE) 
            					       FROM TGW_SEND_INFO
            					       WHERE COMP_ID =  :vo.compId 
            			   				AND DOC_ID = A.DOC_ID
            			   				AND TEMP_YN = 'N' ) > 0  THEN :vo.docReplaceJudgeState 
            			   ELSE A.DOC_STATE
            			   END
            			ELSE A.DOC_STATE
					   	END DOC_STATE, 
					   	A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.SECURITY_PASS, A.SECURITY_YN, 
					   	TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				        TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE					
				FROM TGW_APP_DOC A, TGW_SEND_INFO B, TGW_OWN_DEPT C 
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID
				AND A.COMP_ID = C.COMP_ID
				AND A.DOC_ID = C.DOC_ID			
				
				
				#if($vo.deptAdminYn.equals("N"))
					AND A.DOC_STATE IN ( {{vo.docAppState}} )
					AND C.OWN_DEPT_ID IN ( {{vo.deptId}} )
				#else
					AND 
					(
						A.DOC_STATE IN ( {{vo.docAppState}} )
						AND C.OWN_DEPT_ID IN ( {{vo.deptId}} )
					OR
						A.DOC_STATE IN ( {{vo.docAppStateDept}} )
						AND (0, C.OWN_DEPT_ID) IN ( {{vo.rowDeptId}} )
					)					
				#end
				 
 
				
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchRecvDeptName"))
						AND DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchCompleteDate"))
						AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')					
					#end 
				#end
				
				AND A.DELETE_YN = 'N' 
				AND A.ELECTRON_DOC_YN = 'Y'
				AND A.TRANSFER_YN = 'N'
				AND B.TEMP_YN = 'N' 
				
				ORDER BY APPROVAL_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.sendJudgeCount">
			<statement>
			<![CDATA[

				SELECT COUNT(A.DOC_ID) CNT 					
				FROM TGW_APP_DOC A, TGW_SEND_INFO B, TGW_OWN_DEPT C 
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID			
				AND A.COMP_ID = C.COMP_ID
				AND A.DOC_ID = C.DOC_ID
				
				
				#if($vo.deptAdminYn.equals("N"))
					AND A.DOC_STATE IN ( {{vo.docAppState}} )
					AND C.OWN_DEPT_ID IN ( {{vo.deptId}} )
				#else
					AND 
					(
						A.DOC_STATE IN ( {{vo.docAppState}} )
						AND C.OWN_DEPT_ID IN ( {{vo.deptId}} )
					OR
						A.DOC_STATE IN ( {{vo.docAppStateDept}} )
						AND (0, C.OWN_DEPT_ID) IN ( {{vo.rowDeptId}} )
					)					
				#end

				
				AND A.DELETE_YN = 'N' 
				AND A.ELECTRON_DOC_YN = 'Y'
				AND A.TRANSFER_YN = 'N'
				AND B.TEMP_YN = 'N'				
				
			]]>
			</statement>
		</query>
				
		<query id="list.listDistributionWait">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ENF_TYPE, A.DOC_NUMBER,   
					   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME, 
					   TO_CHAR(A.SEND_DATE, 'yyyy-mm-dd hh24:mi:ss') SEND_DATE, 
					   TO_CHAR(A.RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE, 
					   A.ATTACH_COUNT, A.URGENCY_YN, 
					   A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.ORIGIN_COMP_ID,					
					   B.REF_DEPT_ID AS ACCEPT_DEPT_ID,  B.REF_DEPT_NAME AS ACCEPT_DEPT_NAME, B.RECEIVER_ORDER					
				FROM TGW_ENF_DOC A, TGW_ENF_RECV B
				
				WHERE B.RECV_COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID	
				AND B.ENF_TYPE IN ( {{vo.enfType}} )
				AND B.RECV_DEPT_ID = :vo.deptId	
				AND B.RECEIVER_ORDER > 0						/* TUNNING ADD JTH8172*/
				AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/    		 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchSendDeptName"))
						AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
					#end 
				#end
				
				AND A.DELETE_YN = 'N' 
				AND A.TRANSFER_YN = 'N'
				AND (
					 (B.REF_DEPT_ID IS NULL AND A.DISTRIBUTE_YN IN ('T', 'TT')) 
				#if ($vo.listType.equals("OPT107OPT119"))
					 OR B.RECV_STATE IN ( 'ENF110' )
				#end
					)
				
				ORDER BY A.SEND_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.enforce.vo.EnfDocVO" />
		</query>
		
		<query id="list.listDistributionWaitToList">
			<statement>
			<![CDATA[
				SELECT INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM ( 
						SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ENF_TYPE, A.DOC_NUMBER,   
							   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME, 
							   TO_CHAR(A.SEND_DATE, 'yyyy-mm-dd hh24:mi:ss') SEND_DATE, 
							   TO_CHAR(A.RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE, 
							   A.ATTACH_COUNT, A.URGENCY_YN, 
							   A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.ORIGIN_COMP_ID, 
							   B.REF_DEPT_ID AS ACCEPT_DEPT_ID,  B.REF_DEPT_NAME AS ACCEPT_DEPT_NAME, B.RECEIVER_ORDER					
						FROM TGW_ENF_DOC A, TGW_ENF_RECV B
						
						WHERE B.RECV_COMP_ID = :vo.compId
						AND A.DOC_ID = B.DOC_ID
						AND A.COMP_ID = B.COMP_ID	
						AND B.ENF_TYPE IN ( {{vo.enfType}} )
						AND B.RECV_DEPT_ID = :vo.deptId	
						AND B.RECEIVER_ORDER > 0						/* TUNNING ADD JTH8172*/
						AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/    		 
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchSendDeptName"))
								AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
							#end 
						#end
						
						AND A.DELETE_YN = 'N' 
						AND A.TRANSFER_YN = 'N'
						AND (
							 (B.REF_DEPT_ID IS NULL AND A.DISTRIBUTE_YN IN ('T', 'TT')) 
						#if ($vo.listType.equals("OPT107OPT119"))
							 OR B.RECV_STATE IN ( 'ENF110' )
						#end
							)
						
						ORDER BY A.SEND_DATE DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.enforce.vo.EnfDocVO" />
		</query>
		
		<query id="list.listDistributionWaitToListPortlet">
			<statement>
			<![CDATA[
				SELECT INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM ( 
						SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ENF_TYPE, A.DOC_NUMBER,   
							   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME, 
							   TO_CHAR(A.SEND_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.ATTACH_COUNT, 
							   TO_CHAR(A.RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE, 
							   A.URGENCY_YN, 
							   A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.ORIGIN_COMP_ID, 
							   B.REF_DEPT_ID AS ACCEPT_DEPT_ID,  B.REF_DEPT_NAME AS ACCEPT_DEPT_NAME, B.RECEIVER_ORDER					
						FROM TGW_ENF_DOC A, TGW_ENF_RECV B
						
						WHERE B.RECV_COMP_ID = :vo.compId
						AND A.DOC_ID = B.DOC_ID
						AND A.COMP_ID = B.COMP_ID	
						AND B.ENF_TYPE IN ( {{vo.enfType}} )
						AND B.RECV_DEPT_ID = :vo.deptId	
						AND B.RECEIVER_ORDER > 0						/* TUNNING ADD JTH8172*/
						AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/    		 
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchSendDeptName"))
								AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
							#end 
						#end
						
						AND A.DELETE_YN = 'N' 
						AND A.TRANSFER_YN = 'N'
						AND (
							 (B.REF_DEPT_ID IS NULL AND A.DISTRIBUTE_YN IN ('T', 'TT')) 
						#if ($vo.listType.equals("OPT107OPT119"))
							 OR B.RECV_STATE IN ( 'ENF110' )
						#end
							)
						
						ORDER BY A.SEND_DATE DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listDistributionWaitCount">
			<statement>
			<![CDATA[

				SELECT COUNT(A.DOC_ID) CNT					
				FROM TGW_ENF_DOC A, TGW_ENF_RECV B				
				WHERE B.RECV_COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID	
				AND B.ENF_TYPE IN ( {{vo.enfType}} )
				AND B.RECV_DEPT_ID = :vo.deptId	
				AND B.RECEIVER_ORDER > 0						/* TUNNING ADD JTH8172*/
				AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/    		 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchSendDeptName"))
						AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
					#end 
				#end
				
				AND A.DELETE_YN = 'N' 
				AND A.TRANSFER_YN = 'N'
				AND (
					 (B.REF_DEPT_ID IS NULL AND A.DISTRIBUTE_YN IN ('T', 'TT')) 
				#if ($vo.listType.equals("OPT107OPT119"))
					 OR B.RECV_STATE IN ( 'ENF110' )
				#end
					)
				
			]]>
			</statement>
		</query>
		
		<query id="list.listDistributionRemind">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ENF_TYPE, A.DOC_NUMBER,   
					   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME, 
					   TO_CHAR(A.RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
					   A.ELECTRON_DOC_YN, A.TRANSFER_YN, A.ORIGIN_COMP_ID,
					   B.REF_DEPT_ID AS ACCEPT_DEPT_ID,  B.REF_DEPT_NAME AS ACCEPT_DEPT_NAME, B.RECEIVER_ORDER					
				FROM TGW_ENF_DOC A, TGW_ENF_RECV B
				
				WHERE B.RECV_COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID
				/*
				AND A.DOC_STATE IN ( {{vo.docEnfState}} )
				*/
				AND B.RECV_STATE IN ( {{vo.docEnfState}} )
				AND B.ENF_TYPE IN ( {{vo.enfType}} )
				AND B.RECV_DEPT_ID = :vo.deptId
				AND A.TRANSFER_YN = 'N'
				AND B.RECEIVER_ORDER >0	/* TUNNING ADD JTH8172*/
				AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/ 
				 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchSendDeptName"))
						AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
					#end 
				#end
								
				AND A.DELETE_YN = 'N' 
				
				ORDER BY A.RECEIVE_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.enforce.vo.EnfDocVO" />
		</query>
		
		<query id="list.listReceiveWait">
			<statement>
			<![CDATA[
				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DOC_NUMBER,  
					   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME, 
					   TO_CHAR(A.DISTRIBUTE_DATE, 'yyyy-mm-dd hh24:mi:ss') DISTRIBUTE_DATE, A.ATTACH_COUNT, B.ENF_TYPE, 
					   A.URGENCY_YN, A.ELECTRON_DOC_YN, 
					   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, A.ORIGIN_COMP_ID,
					   TO_CHAR(A.RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE, B.RECEIVER_ORDER 
					   					
				FROM TGW_ENF_DOC A, TGW_ENF_RECV B
				
				WHERE B.RECV_COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID
				/*
				AND A.DOC_STATE IN ( {{vo.docEnfState}} )
				*/
				AND B.RECV_STATE IN ( {{vo.docEnfState}} )
				AND A.TRANSFER_YN = 'N'
				AND 
				(
					(
					 B.ENF_TYPE IN ( {{vo.enfType}} )
					 AND B.RECV_DEPT_ID IN ( {{vo.deptId}} )
					 AND B.REF_DEPT_ID IS NULL  					 
					) 
					OR 
					(
					  B.REF_DEPT_ID IN ( {{vo.deptId}} ) 
					) 					
				
				)
				 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchSendDeptName"))
						AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
					#end 
				#end
				
				AND A.ACCEPT_DATE = TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
				AND B.RECEIVER_ORDER > 0						/* TUNNING ADD JTH8172*/
				AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/ 
				AND A.DELETE_YN = 'N' 
  					    
				ORDER BY A.LAST_UPDATE_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.enforce.vo.EnfDocVO" />
		</query>
		
		<query id="list.listReceiveWaitToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
					SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DOC_NUMBER,  
						   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME, 
						   TO_CHAR(A.DISTRIBUTE_DATE, 'yyyy-mm-dd hh24:mi:ss') DISTRIBUTE_DATE, A.ATTACH_COUNT, B.ENF_TYPE, 
						   A.URGENCY_YN, A.ELECTRON_DOC_YN, 
						   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, A.ORIGIN_COMP_ID,
						   TO_CHAR(A.RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE, B.RECEIVER_ORDER 
						   					
					FROM TGW_ENF_DOC A, TGW_ENF_RECV B
					
					WHERE B.RECV_COMP_ID = :vo.compId
					AND A.DOC_ID = B.DOC_ID
					AND A.COMP_ID = B.COMP_ID
					/*
					AND A.DOC_STATE IN ( {{vo.docEnfState}} )
					*/
					AND B.RECV_STATE IN ( {{vo.docEnfState}} )
					AND A.TRANSFER_YN = 'N'
					AND 
					(
						(
						 B.ENF_TYPE IN ( {{vo.enfType}} )
						 AND B.RECV_DEPT_ID IN ( {{vo.deptId}} )
						 AND B.REF_DEPT_ID IS NULL  					 
						) 
						OR 
						(
						  B.REF_DEPT_ID IN ( {{vo.deptId}} ) 
						) 					
					
					)
					 
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchSendDeptName"))
							AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
						#end 
					#end
					
					AND A.ACCEPT_DATE = TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
					AND B.RECEIVER_ORDER > 0						/* TUNNING ADD JTH8172*/
					AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/ 
					AND A.DELETE_YN = 'N' 
	  					    
					ORDER BY A.LAST_UPDATE_DATE DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize	
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.receiveWaitCount">
			<statement>
			<![CDATA[
				SELECT COUNT(A.DOC_ID) CNT 					
				FROM TGW_ENF_DOC A, TGW_ENF_RECV B
				
				WHERE B.RECV_COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID
				/*
				AND A.DOC_STATE IN ( {{vo.docEnfState}} )
				*/
				AND B.RECV_STATE IN ( {{vo.docEnfState}} )
				AND A.TRANSFER_YN = 'N'
				AND 
				(
					(
					 B.ENF_TYPE IN ( {{vo.enfType}} )
					 AND B.RECV_DEPT_ID IN ( {{vo.deptId}} )
					 AND B.REF_DEPT_ID IS NULL  					 
					) 
					OR 
					(
					  B.REF_DEPT_ID IN ( {{vo.deptId}} ) 
					) 
									
				)
				 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchSendDeptName"))
						AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
					#end 
				#end
				
				AND A.ACCEPT_DATE = TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
				AND B.RECEIVER_ORDER > 0						/* TUNNING ADD JTH8172*/
				AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/ 
				AND A.DELETE_YN = 'N' 
				
			]]>
			</statement>
		</query>
		
		<query id="list.listDraft">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.PROCESSOR_NAME, A.PROCESSOR_ID, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
					   A.APPROVER_DEPT_ID, A.APPROVER_DEPT_NAME, A.APPROVER_ID, A.APPROVER_NAME, 
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
					   A.TRANSFER_YN, A.ELECTRON_DOC_YN,  
					   CASE WHEN ( A.DOC_STATE = :vo.docJudgeState OR A.DOC_STATE = :vo.docJudgeDeptState ) THEN
					   		CASE WHEN ( SELECT COUNT(SEAL_TYPE) 
            					       FROM TGW_SEND_INFO
            					       WHERE COMP_ID =  :vo.compId 
            			   				AND DOC_ID = A.DOC_ID
            			   				AND TEMP_YN = 'N' ) > 0  THEN :vo.docReplaceJudgeState 
            			   ELSE A.DOC_STATE
            			   END
            			ELSE A.DOC_STATE
					   	END DOC_STATE
					   , A.UNREGIST_YN	
					   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				        TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
				#if(!$vo.searchApprovalName.equals("") 
					&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("")  || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("")  ) 
				   )
				   	,LINE.READ_DATE
					FROM TGW_APP_DOC A, TGW_APP_LINE LINE
				#else
					,(select min(READ_DATE) from TGW_APP_LINE where doc_id = A.doc_id and APPROVER_ID = :vo.userId) AS READ_DATE
					FROM TGW_APP_DOC A
				#end
				WHERE A.COMP_ID = :vo.compId 
				AND A.DRAFTER_ID = :vo.userId				
				-- 자신이 기안한 문서를 문서 상태와 상관없이 다 보여줘야 한다.  AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR TRANSFER_YN = 'Y' )
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchApproval"))
						AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
					AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
				#end
				
				#if(!$vo.bindingId.equals(""))
					AND A.BINDING_ID = :vo.bindingId
				#end
				
				#if ($vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'Y'
				#else
					#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
					#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'Y'
					#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'N'
					#end
				#end
				
				#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
					AND A.ENF_TYPE = :vo.searchDetType
				#end
				
				#if(!$vo.searchApprovalName.equals("") 
					&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("")  ) 
				   )
					 
                   AND A.DOC_ID = LINE.DOC_ID
                   AND A.COMP_ID = LINE.COMP_ID
                   AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
                   AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
			                  	  
				#end
				
				
				AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/	
				AND A.DELETE_YN = 'N'
				
				AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY A.DRAFT_DATE DESC, A.BATCH_DRAFT_NUMBER DESC 
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listApprovalComplete">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, ATTACH_COUNT,   
					   DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME, DRAFTER_ID, DRAFTER_NAME, DRAFT_DATE, 
					   URGENCY_YN, ELECTRON_DOC_YN, BATCH_DRAFT_NUMBER, TRANSFER_YN,
					   DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, DOC_STATE, UNREGIST_YN
					   ,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE,ender_name,end_date
					   ,READ_DATE
				FROM (
						#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
						
							SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT,  
							(select APPROVER_NAME from (select doc_id, APPROVER_NAME from TGW_APP_LINE  where ask_type!='ART054' order by line_order desc) where doc_id = A.doc_id and rownum = 1) as ender_name,
							(select TO_CHAR(PROCESS_DATE, 'yyyy-mm-dd hh24:mi:ss') from (select doc_id, PROCESS_DATE from TGW_APP_LINE  where ask_type!='ART054' order by line_order desc) where doc_id = A.doc_id and rownum = 1) as end_date,
								   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, A.DRAFTER_ID, A.DRAFTER_NAME, 
								   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
								   A.URGENCY_YN, A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
								   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, 
								   CASE WHEN ( A.DOC_STATE = :vo.docJudgeState OR A.DOC_STATE = :vo.docJudgeDeptState ) THEN
								   		CASE WHEN ( SELECT COUNT(SEAL_TYPE) 
			            					       FROM TGW_SEND_INFO
			            					       WHERE COMP_ID =  :vo.compId 
			            			   				AND DOC_ID = A.DOC_ID
			            			   				AND TEMP_YN = 'N' ) > 0  THEN :vo.docReplaceJudgeState 
			            			   ELSE A.DOC_STATE
			            			   END
			            			ELSE A.DOC_STATE
								   	END DOC_STATE
								   , A.UNREGIST_YN
								   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE,
				       		   B.READ_DATE
							FROM TGW_APP_DOC A, TGW_APP_LINE B
							WHERE A.COMP_ID = :vo.compId 
							AND A.DOC_ID = B.DOC_ID
							AND A.COMP_ID = B.COMP_ID	
							AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/						
							AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
							AND ( B.APPROVER_ID IN ( :vo.userId ) OR  B.REPRESENTATIVE_ID IN ( :vo.userId ) )
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if (!$vo.docType.equals(""))
								AND A.DOC_TYPE = :vo.docType 
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end						
							
							#if($vo.mobileYn.equals("Y"))
								AND A.ELECTRON_DOC_YN = 'Y' 
							#else
								#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end
							#end						
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") && (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) )
								 AND A.DOC_ID IN (
				                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
				                     WHERE A.DOC_ID = LINE.DOC_ID
				                     AND A.COMP_ID = LINE.COMP_ID
				                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
			                     	 AND  LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						         )         	  
							#end
							
							AND A.DELETE_YN = 'N'
							AND B.TEMP_YN = 'N'
							AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
						#end
						
						#if($vo.mobileYn.equals("N"))
						
							#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
								UNION
							#end 
							
							#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
							
								SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT, 
								(select PROCESSOR_NAME from (select doc_id, PROCESSOR_NAME from TGW_ENF_LINE where ask_type!='ART054' order by line_order desc) where doc_id = A.doc_id and rownum = 1) as ender_name,
								(select TO_CHAR(PROCESS_DATE, 'yyyy-mm-dd hh24:mi:ss') from (select doc_id, PROCESS_DATE from TGW_ENF_LINE where ask_type!='ART054' order by line_order desc) where doc_id = A.doc_id and rownum = 1) as end_date,
									   A.SENDER_DEPT_ID DRAFTER_DEPT_ID, A.SENDER_DEPT_NAME DRAFTER_DEPT_NAME, 
									   A.SENDER_ID DRAFTER_ID, A.SENDER_NAME DRAFTER_NAME, 
									   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
									   A.URGENCY_YN, A.ELECTRON_DOC_YN, 0 BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
									   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.DOC_STATE, A.UNREGIST_YN
									   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		           TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
				       		           ,B.READ_DATE
									   
								FROM TGW_ENF_DOC A, TGW_ENF_LINE B
								WHERE A.COMP_ID = :vo.compId
								AND A.DOC_ID = B.DOC_ID
								AND A.COMP_ID = B.COMP_ID
								AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
								AND ( B.PROCESSOR_ID IN ( :vo.userId ) OR  B.REPRESENTATIVE_ID IN ( :vo.userId ) )
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.SENDER_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if (!$vo.docType.equals(""))
									AND A.DOC_TYPE = :vo.docType 
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
								#end						
								
								#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end						
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
								   )
									
				                     AND (B.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR B.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
				                     AND B.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	 
								#end
								
								AND A.DELETE_YN = 'N' 
								AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND B.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							#end
						
						#end 
					)
					ORDER BY DRAFT_DATE DESC, BATCH_DRAFT_NUMBER DESC
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listRepresentativeComplete">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, ATTACH_COUNT,   
					   DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME, DRAFTER_ID, DRAFTER_NAME, DRAFT_DATE, 
					   URGENCY_YN, ELECTRON_DOC_YN, BATCH_DRAFT_NUMBER, TRANSFER_YN,
					   DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, DOC_STATE, UNREGIST_YN
					   ,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE, REPRESENTATIVE_NAME, REPRESENTATIVE_ID
				FROM (
						#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
						
							SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT,  
								   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, A.DRAFTER_ID, A.DRAFTER_NAME, 
								   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
								   A.URGENCY_YN, A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
								   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, 
								   CASE WHEN ( A.DOC_STATE = :vo.docJudgeState OR A.DOC_STATE = :vo.docJudgeDeptState ) THEN
								   		CASE WHEN ( SELECT COUNT(SEAL_TYPE) 
			            					       FROM TGW_SEND_INFO
			            					       WHERE COMP_ID =  :vo.compId 
			            			   				AND DOC_ID = A.DOC_ID
			            			   				AND TEMP_YN = 'N' ) > 0  THEN :vo.docReplaceJudgeState 
			            			   ELSE A.DOC_STATE
			            			   END
			            			ELSE A.DOC_STATE
								   	END DOC_STATE
								   , A.UNREGIST_YN
								   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, B.REPRESENTATIVE_NAME, B.REPRESENTATIVE_ID
							FROM TGW_APP_DOC A, TGW_APP_LINE B
							WHERE A.COMP_ID = :vo.compId 
							AND A.DOC_ID = B.DOC_ID
							AND A.COMP_ID = B.COMP_ID	
							AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/						
							AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
							AND ( B.APPROVER_ID IN ( :vo.userId ) and B.REPRESENTATIVE_ID is not null and B.REPRESENTATIVE_ID != :vo.userId ) 
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if (!$vo.docType.equals(""))
								AND A.DOC_TYPE = :vo.docType 
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end						
							
							#if($vo.mobileYn.equals("Y"))
								AND A.ELECTRON_DOC_YN = 'Y' 
							#else
								#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end
							#end						
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") && (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) )
								 AND A.DOC_ID IN (
				                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
				                     WHERE A.DOC_ID = LINE.DOC_ID
				                     AND A.COMP_ID = LINE.COMP_ID
				                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
			                     	 AND  LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						         )         	  
							#end
							
							AND A.DELETE_YN = 'N'
							AND B.TEMP_YN = 'N'
							AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
						#end
						
						#if($vo.mobileYn.equals("N"))
						
							#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
								UNION
							#end 
							
							#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
							
								SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT, 
									   A.SENDER_DEPT_ID DRAFTER_DEPT_ID, A.SENDER_DEPT_NAME DRAFTER_DEPT_NAME, 
									   A.SENDER_ID DRAFTER_ID, A.SENDER_NAME DRAFTER_NAME, 
									   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
									   A.URGENCY_YN, A.ELECTRON_DOC_YN, 0 BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
									   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.DOC_STATE, A.UNREGIST_YN
									   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		           TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE, B.REPRESENTATIVE_NAME, B.REPRESENTATIVE_ID
									   
								FROM TGW_ENF_DOC A, TGW_ENF_LINE B
								WHERE A.COMP_ID = :vo.compId
								AND A.DOC_ID = B.DOC_ID
								AND A.COMP_ID = B.COMP_ID
								AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
								AND ( B.PROCESSOR_ID IN ( :vo.userId ) and B.REPRESENTATIVE_ID is not null and B.REPRESENTATIVE_ID != :vo.userId ) 
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.SENDER_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if (!$vo.docType.equals(""))
									AND A.DOC_TYPE = :vo.docType 
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
								#end						
								
								#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end						
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
								   )
									
				                     AND (B.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR B.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
				                     AND B.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	 
								#end
								
								AND A.DELETE_YN = 'N' 
								AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND B.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							#end
						
						#end 
					)
					ORDER BY DRAFT_DATE DESC, BATCH_DRAFT_NUMBER DESC
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listApprovalCompleteToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM ( 
					SELECT DOC_ID, COMP_ID, TITLE, ATTACH_COUNT,   
						   DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME, DRAFTER_ID, DRAFTER_NAME, DRAFT_DATE, 
						   URGENCY_YN, ELECTRON_DOC_YN, BATCH_DRAFT_NUMBER, TRANSFER_YN,
						   DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, UNREGIST_YN
						   ,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE
					FROM (
							#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
							
								SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT,  
									   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, A.DRAFTER_ID, A.DRAFTER_NAME, 
									   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
									   A.URGENCY_YN, A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
									   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.UNREGIST_YN
									   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		  		 TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
								FROM TGW_APP_DOC A, TGW_APP_LINE B
								WHERE A.COMP_ID = :vo.compId 
								AND A.DOC_ID = B.DOC_ID
								AND A.COMP_ID = B.COMP_ID	
								AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/						
								AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
								AND ( B.APPROVER_ID IN ( :vo.userId ) OR  B.REPRESENTATIVE_ID IN ( :vo.userId ) )
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
								#end						
								
								#if($vo.mobileYn.equals("Y"))
									AND A.ELECTRON_DOC_YN = 'Y' 
								#else
									#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND A.ELECTRON_DOC_YN = 'Y'
									#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND A.ELECTRON_DOC_YN = 'N'
									#end
								#end						
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("")  || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
									
				                     AND (B.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR B.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
				                     AND B.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  
								#end
								
								AND A.DELETE_YN = 'N'
								AND B.TEMP_YN = 'N'
								AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND B.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
							#end
							
							#if($vo.mobileYn.equals("N"))
							
								#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
									UNION
								#end 
								
								#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
								
									SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT, 
										   A.SENDER_DEPT_ID DRAFTER_DEPT_ID, A.SENDER_DEPT_NAME DRAFTER_DEPT_NAME, 
									   	   A.SENDER_ID DRAFTER_ID, A.SENDER_NAME DRAFTER_NAME,  
										   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
										   A.URGENCY_YN, A.ELECTRON_DOC_YN, 0 BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
										   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.UNREGIST_YN 
										   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
									FROM TGW_ENF_DOC A, TGW_ENF_LINE B
									WHERE A.COMP_ID = :vo.compId
									AND A.DOC_ID = B.DOC_ID
									AND A.COMP_ID = B.COMP_ID
									AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
									AND ( B.PROCESSOR_ID IN ( :vo.userId ) OR  B.REPRESENTATIVE_ID IN ( :vo.userId ) )
									
									#if (!$vo.searchWord.equals(""))
										#if ($vo.searchType.equals("searchTitle"))
											AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
										#elseif ($vo.searchType.equals("searchDrafter"))
											AND A.SENDER_NAME LIKE '%' || :vo.searchWord || '%'
										#end 
									#end
									
									#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
									#end
									
									#if(!$vo.bindingId.equals(""))
										AND A.BINDING_ID = :vo.bindingId
									#end						
									
									#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND A.ELECTRON_DOC_YN = 'Y'
									#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND A.ELECTRON_DOC_YN = 'N'
									#end						
									
									#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND A.ENF_TYPE = :vo.searchDetType
									#end
									
									#if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
									   )
										
					                     AND (B.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR B.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
					                     AND B.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	 
									#end
									
									AND A.DELETE_YN = 'N' 
									AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
									AND B.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								#end
							
							#end 
						)
						ORDER BY DRAFT_DATE DESC, BATCH_DRAFT_NUMBER DESC
					) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listReceiveComplete">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, ENF_TYPE, 
					   DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER,  
					   SENDER_COMP_NAME, SENDER_DEPT_NAME, 
					   TO_CHAR(ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, ACCEPTER_ID, ACCEPTER_NAME, 
					   ATTACH_COUNT, URGENCY_YN, ELECTRON_DOC_YN, TRANSFER_YN, UNREGIST_YN			
					   ,nvl((select min(READ_DATE) from TGW_APP_LINE where doc_id = TGW_ENF_DOC.doc_id and APPROVER_ID = :vo.userId),sysdate) as READ_DATE		
				FROM TGW_ENF_DOC 
				
				WHERE COMP_ID = :vo.compId					
				AND ACCEPT_DEPT_ID = :vo.deptId
				
				#if($vo.mobileYn.equals("Y"))
					AND DOC_STATE IN ( {{vo.docEnfState}} )
					AND TRANSFER_YN = 'N'
				#else
					AND ( DOC_STATE IN ( {{vo.docEnfState}} ) OR TRANSFER_YN = 'Y' )
				#end
				
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchDeptName"))
						AND UPPER(SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') 
					#elseif ($vo.searchType.equals("searchSenderDocNumber"))
						AND DOC_NUMBER LIKE '%' || :vo.searchWord || '%' 
					#end 
				#end
				
				#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
					AND SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
				#end
				
				#if(!$vo.bindingId.equals(""))
					AND BINDING_ID = :vo.bindingId
				#end
				
				#if ($vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
				#else
					#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
					#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
						AND ELECTRON_DOC_YN = 'Y'
					#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
						AND ELECTRON_DOC_YN = 'N'
					#end
				#end
				
				AND DELETE_YN = 'N' 	
				AND ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
								
				ORDER BY ACCEPT_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.enforce.vo.EnfDocVO" />
		</query>
		
		<query id="list.listReceiveCompleteToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM ( 
					SELECT DOC_ID, COMP_ID, TITLE, ENF_TYPE, 
						   DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER,  
						   SENDER_COMP_NAME, SENDER_DEPT_NAME, 
						   TO_CHAR(ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, ACCEPTER_ID DRAFTER_ID, ACCEPTER_NAME DRAFTER_NAME, 
						   ATTACH_COUNT, URGENCY_YN, ELECTRON_DOC_YN, TRANSFER_YN					
					FROM TGW_ENF_DOC 
					
					WHERE COMP_ID = :vo.compId					
					AND ACCEPT_DEPT_ID = :vo.deptId
					
					#if($vo.mobileYn.equals("Y"))
						AND DOC_STATE IN ( {{vo.docEnfState}} )
						AND TRANSFER_YN = 'N'
					#else
						AND ( DOC_STATE IN ( {{vo.docEnfState}} ) OR TRANSFER_YN = 'Y' )
					#end
					
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDrafter"))
							AND ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%' 
						#end 
					#end
					
					#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
						AND SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
					#end
					
					#if(!$vo.bindingId.equals(""))
						AND BINDING_ID = :vo.bindingId
					#end
					
					#if ($vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
					#else
						#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
						#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
							AND ELECTRON_DOC_YN = 'Y'
						#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							AND ELECTRON_DOC_YN = 'N'
						#end
					#end
					
					AND DELETE_YN = 'N' 	
					AND ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
									
					ORDER BY ACCEPT_DATE DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listDisplay">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,  
					   DRAFTER_ID, DRAFTER_NAME, DRAFT_DATE, ATTACH_COUNT, URGENCY_YN, 
					   PUB_READ_DATE, ELECTRON_DOC_YN, TRANSFER_YN, SENDER_COMP_NAME, ENF_TYPE, UNREGIST_YN
					   ,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE					   
				FROM ( 
						#if($vo.optAppDocDisplayYn.equals("Y"))	
						
							#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
							
								#if($vo.optAppDocDisplayInfo.equals("A"))
								
									SELECT B.DOC_ID, B.COMP_ID, B.TITLE,  
										   B.DRAFTER_DEPT_ID, B.DRAFTER_DEPT_NAME, B.DRAFTER_ID, B.DRAFTER_NAME, 
										   TO_CHAR(B.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
										   B.ATTACH_COUNT, B.URGENCY_YN, TO_CHAR(A.PUB_READ_DATE, 'yyyy-mm-dd hh24:mi:ss') PUB_READ_DATE
										   , B.ELECTRON_DOC_YN, B.TRANSFER_YN, '' SENDER_COMP_NAME, B.ENF_TYPE, B.UNREGIST_YN
										   , B.SECURITY_PASS, B.SECURITY_YN, TO_CHAR(B.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   			  TO_CHAR(B.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
									FROM TGW_PUB_READER A, TGW_APP_DOC B, TGW_SEND_INFO C
									
									WHERE B.COMP_ID = :vo.compId
									AND B.DOC_ID = A.DOC_ID
									AND B.COMP_ID = A.COMP_ID
									AND B.COMP_ID = C.COMP_ID(+)
									AND B.DOC_ID = C.DOC_ID(+)
									AND A.USING_TYPE = :vo.optAppDocDpiCode
									AND A.PUB_READER_ID = :vo.userId
									AND B.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
									
									AND B.DOC_STATE IN ( {{vo.docAppState}} )
									
									
									#if($vo.mobileYn.equals("Y"))
										AND B.TRANSFER_YN = 'N'
									#end
									 
									
									#if (!$vo.searchWord.equals(""))
										#if ($vo.searchType.equals("searchTitle"))
											AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
										#elseif ($vo.searchType.equals("searchDrafter"))
											AND B.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%' 
										#elseif ($vo.searchType.equals("searchDeptName"))
											AND ( C.RECEIVERS LIKE '%' || :vo.searchWord || '%' OR  UPPER(B.DRAFTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
										#end 
									#end
									
									#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
									#end
									
									#if(!$vo.bindingId.equals(""))
										AND B.BINDING_ID = :vo.bindingId
									#end						
									
	
									#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'Y'
									#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'N'
									#end
														
									
									#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND B.ENF_TYPE = :vo.searchDetType
									#end
									
									#if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
									   )
										AND B.DOC_ID IN (
									                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
									                     WHERE A.DOC_ID = LINE.DOC_ID
									                     AND A.COMP_ID = LINE.COMP_ID
									                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
									                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	  )
									#end
									
									AND A.DELETE_YN = 'N'
									AND B.DELETE_YN = 'N' 
									AND B.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
	
									#if($vo.webServiceYn.equals("Y") ) 
										AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
									#end
									
									#if(!$vo.displayYn.equals("ALL") )
										#if($vo.displayYn.equals("Y") )
											AND A.PUB_READ_DATE < TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#else
											AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#end 
									#end
									
								#else
								
									SELECT B.DOC_ID, B.COMP_ID, B.TITLE,  
										   B.DRAFTER_DEPT_ID, B.DRAFTER_DEPT_NAME, B.DRAFTER_ID, B.DRAFTER_NAME, 
										   TO_CHAR(B.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
										   B.ATTACH_COUNT, B.URGENCY_YN, TO_CHAR(A.PUB_READ_DATE, 'yyyy-mm-dd hh24:mi:ss') PUB_READ_DATE
										   , B.ELECTRON_DOC_YN, B.TRANSFER_YN, '' SENDER_COMP_NAME, B.ENF_TYPE, B.UNREGIST_YN
										    , B.SECURITY_PASS, B.SECURITY_YN, TO_CHAR(B.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   			  TO_CHAR(B.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
									FROM TGW_PUB_READER A, TGW_APP_DOC B, TGW_SEND_INFO C								
									WHERE B.COMP_ID = :vo.compId
									AND B.DOC_ID = A.DOC_ID
									AND B.COMP_ID = A.COMP_ID
									AND B.COMP_ID = C.COMP_ID(+)
									AND B.DOC_ID = C.DOC_ID(+)
									AND A.USING_TYPE = :vo.optAppDocDpiCode
									AND A.PUB_READER_ID = :vo.userId
									AND B.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
									
									AND B.DOC_STATE IN ( {{vo.docAppState}} )
									
									
									#if($vo.mobileYn.equals("Y"))
										AND B.TRANSFER_YN = 'N'
									#end
									 
									
									#if (!$vo.searchWord.equals(""))
										#if ($vo.searchType.equals("searchTitle"))
											AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
										#elseif ($vo.searchType.equals("searchDrafter"))
											AND B.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%' 
										#elseif ($vo.searchType.equals("searchDeptName"))
											AND ( C.RECEIVERS LIKE '%' || :vo.searchWord || '%' OR  UPPER(B.DRAFTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
										#end
									#end
									
									#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
									#end
									
									#if(!$vo.bindingId.equals(""))
										AND B.BINDING_ID = :vo.bindingId
									#end						
									
	
									#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'Y'
									#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'N'
									#end
														
									
									#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND B.ENF_TYPE = :vo.searchDetType
									#end
									
									#if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
									   )
										AND B.DOC_ID IN (
									                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
									                     WHERE A.DOC_ID = LINE.DOC_ID
									                     AND A.COMP_ID = LINE.COMP_ID
									                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
									                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	  )
									#end
									
									AND A.DELETE_YN = 'N'
									AND B.DELETE_YN = 'N' 
									AND B.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
	
									#if($vo.webServiceYn.equals("Y") ) 
										AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
									#end
									
									#if(!$vo.displayYn.equals("ALL") )
										#if($vo.displayYn.equals("Y") )
											AND A.PUB_READ_DATE < TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#else
											AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#end 
									#end
									
									UNION
									
									SELECT B.DOC_ID, B.COMP_ID, B.TITLE,  
										   B.DRAFTER_DEPT_ID, B.DRAFTER_DEPT_NAME, B.DRAFTER_ID, B.DRAFTER_NAME, 
										   TO_CHAR(B.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
										   B.ATTACH_COUNT, B.URGENCY_YN, TO_CHAR(A.PUB_READ_DATE, 'yyyy-mm-dd hh24:mi:ss') PUB_READ_DATE
										   , B.ELECTRON_DOC_YN, B.TRANSFER_YN, '' SENDER_COMP_NAME, B.ENF_TYPE, B.UNREGIST_YN
										    , B.SECURITY_PASS, B.SECURITY_YN, TO_CHAR(B.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   			  TO_CHAR(B.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
									FROM TGW_PUB_READER A, TGW_APP_DOC B, TGW_SEND_INFO C
									
									WHERE B.COMP_ID = :vo.compId
									AND B.DOC_ID = A.DOC_ID
									AND B.COMP_ID = A.COMP_ID
									AND B.COMP_ID = C.COMP_ID(+)
									AND B.DOC_ID = C.DOC_ID(+)
									AND A.USING_TYPE = :vo.optAppDocDpiCode
									AND A.PUB_READER_ID = :vo.userId
									AND B.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
									
									AND B.DOC_STATE IN ( {{vo.docAppStateDept}} )
									AND B.BATCH_DRAFT_NUMBER = 1
									
									
									
									#if($vo.mobileYn.equals("Y"))
										AND B.TRANSFER_YN = 'N'
									#end
									 
									
									#if (!$vo.searchWord.equals(""))
										#if ($vo.searchType.equals("searchTitle"))
											AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
										#elseif ($vo.searchType.equals("searchDrafter"))
											AND B.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%' 
										#elseif ($vo.searchType.equals("searchDeptName"))
											AND ( C.RECEIVERS LIKE '%' || :vo.searchWord || '%' OR  UPPER(B.DRAFTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
										#end 
									#end
									
									#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
									#end
									
									#if(!$vo.bindingId.equals(""))
										AND B.BINDING_ID = :vo.bindingId
									#end						
									
	
									#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'Y'
									#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'N'
									#end
														
									
									#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND B.ENF_TYPE = :vo.searchDetType
									#end
									
									#if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
									   )
										AND B.DOC_ID IN (
									                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
									                     WHERE A.DOC_ID = LINE.DOC_ID
									                     AND A.COMP_ID = LINE.COMP_ID
									                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
									                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	  )
									#end
									
									AND A.DELETE_YN = 'N'
									AND B.DELETE_YN = 'N' 
									AND B.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
	
									#if($vo.webServiceYn.equals("Y") ) 
										AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
									#end
									
									#if(!$vo.displayYn.equals("ALL") )
										#if($vo.displayYn.equals("Y") )
											AND A.PUB_READ_DATE < TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#else
											AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#end 
									#end
										 
								#end
								
								
							#end
							
						#end
						
						#if($vo.optAppDocDisplayYn.equals("Y") && $vo.optEnfDocDisplayYn.equals("Y"))
							#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) && $vo.mobileYn.equals("N") )
								UNION ALL
							#end
						#end
						
						#if($vo.optEnfDocDisplayYn.equals("Y"))
						
							#if( ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D")) && $vo.mobileYn.equals("N") )
							
								SELECT B.DOC_ID, B.COMP_ID, B.TITLE,  
									   B.SENDER_DEPT_ID DRAFTER_DEPT_ID, B.SENDER_DEPT_NAME DRAFTER_DEPT_NAME, 
									   B.SENDER_ID DRAFTER_ID, B.SENDER_NAME DRAFTER_NAME, 
									   TO_CHAR(B.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
									   B.ATTACH_COUNT, B.URGENCY_YN, TO_CHAR(A.PUB_READ_DATE, 'yyyy-mm-dd hh24:mi:ss') PUB_READ_DATE
									   , B.ELECTRON_DOC_YN, B.TRANSFER_YN, B.SENDER_COMP_NAME, B.ENF_TYPE, B.UNREGIST_YN,'','','',''
								FROM TGW_PUB_READER A, TGW_ENF_DOC B
								
								WHERE B.COMP_ID = :vo.compId
								AND B.DOC_ID = A.DOC_ID
								AND B.COMP_ID = A.COMP_ID
								AND A.USING_TYPE = :vo.optEnfDocDpiCode
								AND A.PUB_READER_ID = :vo.userId
								AND B.RECEIVE_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/	
								
								
								#if($vo.optEnfDocDisplayInfo.equals("A"))
									AND B.DOC_STATE IN ( {{vo.docEnfState}} )
								#end
								
								#if($vo.mobileYn.equals("Y"))
									AND B.TRANSFER_YN = 'N'
								#end
								 
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND B.SENDER_NAME LIKE '%' || :vo.searchWord || '%'
									#elseif ($vo.searchType.equals("searchDeptName")) 
										AND ( UPPER(B.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') OR B.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%' )
									#elseif ($vo.searchType.equals("searchSenderDocNumber"))
										AND B.DOC_NUMBER LIKE '%' || :vo.searchWord || '%'
									#end 
									
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND B.BINDING_ID = :vo.bindingId
								#end						
								
								
								#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND B.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND B.ELECTRON_DOC_YN = 'N'
								#end
													
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND B.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
								   )
									AND B.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
								#end								
								
								AND B.DELETE_YN = 'N'
								AND A.DELETE_YN = 'N'
								AND B.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								
								#if($vo.webServiceYn.equals("Y") )
									AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59' /**P*/,'yyyy-MM-dd hh24:mi:ss')
								#end 
								
								#if(!$vo.displayYn.equals("ALL") )
									#if($vo.displayYn.equals("Y") )
										AND A.PUB_READ_DATE < TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
									#else
										AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
									#end 
								#end 
								
							#end
							
						#end
				
				)
								
				ORDER BY DRAFT_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listDisplayToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
					SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,  
						   DRAFTER_ID, DRAFTER_NAME, DRAFT_DATE, ATTACH_COUNT, URGENCY_YN, 
						   PUB_READ_DATE, ELECTRON_DOC_YN, TRANSFER_YN					   
					FROM ( 
							#if($vo.optAppDocDisplayYn.equals("Y"))	
							
								#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
								
									#if($vo.optAppDocDisplayInfo.equals("A"))
									
										SELECT B.DOC_ID, B.COMP_ID, B.TITLE,  
											   B.DRAFTER_DEPT_ID, B.DRAFTER_DEPT_NAME, B.DRAFTER_ID, B.DRAFTER_NAME, 
											   TO_CHAR(B.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
											   B.ATTACH_COUNT, B.URGENCY_YN, TO_CHAR(A.PUB_READ_DATE, 'yyyy-mm-dd hh24:mi:ss') PUB_READ_DATE
											   , B.ELECTRON_DOC_YN, B.TRANSFER_YN
										FROM TGW_PUB_READER A, TGW_APP_DOC B, TGW_SEND_INFO C
										
										WHERE B.COMP_ID = :vo.compId
										AND B.DOC_ID = A.DOC_ID
										AND B.COMP_ID = A.COMP_ID
										AND B.COMP_ID = C.COMP_ID(+)
										AND B.DOC_ID = C.DOC_ID(+)
										AND A.USING_TYPE = :vo.optAppDocDpiCode
										AND A.PUB_READER_ID = :vo.userId
										AND B.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
										
										AND B.DOC_STATE IN ( {{vo.docAppState}} )
										
										
										#if($vo.mobileYn.equals("Y"))
											AND B.TRANSFER_YN = 'N'
										#end
										 
										
										#if (!$vo.searchWord.equals(""))
											#if ($vo.searchType.equals("searchTitle"))
												AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
											#elseif ($vo.searchType.equals("searchDrafter"))
												AND B.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%' 
											#elseif ($vo.searchType.equals("searchRecvDeptName"))
												AND C.RECEIVERS LIKE '%' || :vo.searchWord || '%' 											
											#end 
										#end
										
										#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
											AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
										#end
										
										#if(!$vo.bindingId.equals(""))
											AND B.BINDING_ID = :vo.bindingId
										#end						
										
		
										#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
											AND B.ELECTRON_DOC_YN = 'Y'
										#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
											AND B.ELECTRON_DOC_YN = 'N'
										#end
															
										
										#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
											AND B.ENF_TYPE = :vo.searchDetType
										#end
										
										#if(!$vo.searchApprovalName.equals("") 
											&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
										   )
											AND B.DOC_ID IN (
										                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
										                     WHERE A.DOC_ID = LINE.DOC_ID
										                     AND A.COMP_ID = LINE.COMP_ID
										                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
										                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
									                  	  )
										#end
										
										AND A.DELETE_YN = 'N'
										AND B.DELETE_YN = 'N' 
										AND B.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
		
										#if($vo.webServiceYn.equals("Y") ) 
											AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#end
										
										#if(!$vo.displayYn.equals("") )
											#if($vo.displayYn.equals("Y") )
												AND A.PUB_READ_DATE < TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
											#else
												AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
											#end 
										#end
										
									#else
									
										SELECT B.DOC_ID, B.COMP_ID, B.TITLE,  
											   B.DRAFTER_DEPT_ID, B.DRAFTER_DEPT_NAME, B.DRAFTER_ID, B.DRAFTER_NAME, 
											   TO_CHAR(B.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
											   B.ATTACH_COUNT, B.URGENCY_YN, TO_CHAR(A.PUB_READ_DATE, 'yyyy-mm-dd hh24:mi:ss') PUB_READ_DATE
											   , B.ELECTRON_DOC_YN, B.TRANSFER_YN
										FROM TGW_PUB_READER A, TGW_APP_DOC B, TGW_SEND_INFO C
										
										WHERE B.COMP_ID = :vo.compId
										AND B.DOC_ID = A.DOC_ID
										AND B.COMP_ID = A.COMP_ID
										AND B.COMP_ID = C.COMP_ID(+)
										AND B.DOC_ID = C.DOC_ID(+)
										AND A.USING_TYPE = :vo.optAppDocDpiCode
										AND A.PUB_READER_ID = :vo.userId
										AND B.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
										
										AND B.DOC_STATE IN ( {{vo.docAppState}} )
										
										
										#if($vo.mobileYn.equals("Y"))
											AND B.TRANSFER_YN = 'N'
										#end
										 
										
										#if (!$vo.searchWord.equals(""))
											#if ($vo.searchType.equals("searchTitle"))
												AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
											#elseif ($vo.searchType.equals("searchDrafter"))
												AND B.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%' 
											#elseif ($vo.searchType.equals("searchRecvDeptName"))
												AND C.RECEIVERS LIKE '%' || :vo.searchWord || '%' 
											#end 
										#end
										
										#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
											AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
										#end
										
										#if(!$vo.bindingId.equals(""))
											AND B.BINDING_ID = :vo.bindingId
										#end						
										
		
										#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
											AND B.ELECTRON_DOC_YN = 'Y'
										#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
											AND B.ELECTRON_DOC_YN = 'N'
										#end
															
										
										#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
											AND B.ENF_TYPE = :vo.searchDetType
										#end
										
										#if(!$vo.searchApprovalName.equals("") 
											&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
										   )
											AND B.DOC_ID IN (
										                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
										                     WHERE A.DOC_ID = LINE.DOC_ID
										                     AND A.COMP_ID = LINE.COMP_ID
										                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
										                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
									                  	  )
										#end
										
										AND A.DELETE_YN = 'N'
										AND B.DELETE_YN = 'N' 
										AND B.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
		
										#if($vo.webServiceYn.equals("Y") ) 
											AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#end
										
										#if(!$vo.displayYn.equals("") )
											#if($vo.displayYn.equals("Y") )
												AND A.PUB_READ_DATE < TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
											#else
												AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
											#end 
										#end
										
										UNION
										
										SELECT B.DOC_ID, B.COMP_ID, B.TITLE,  
											   B.DRAFTER_DEPT_ID, B.DRAFTER_DEPT_NAME, B.DRAFTER_ID, B.DRAFTER_NAME, 
											   TO_CHAR(B.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
											   B.ATTACH_COUNT, B.URGENCY_YN, TO_CHAR(A.PUB_READ_DATE, 'yyyy-mm-dd hh24:mi:ss') PUB_READ_DATE
											   , B.ELECTRON_DOC_YN, B.TRANSFER_YN
										FROM TGW_PUB_READER A, TGW_APP_DOC B, TGW_SEND_INFO C
										
										WHERE B.COMP_ID = :vo.compId
										AND B.DOC_ID = A.DOC_ID
										AND B.COMP_ID = A.COMP_ID
										AND B.COMP_ID = C.COMP_ID(+)
										AND B.DOC_ID = C.DOC_ID(+)
										AND A.USING_TYPE = :vo.optAppDocDpiCode
										AND A.PUB_READER_ID = :vo.userId
										AND B.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
										
										AND B.DOC_STATE IN ( {{vo.docAppStateDept}} )
										AND B.BATCH_DRAFT_NUMBER = 1
										
										
										
										#if($vo.mobileYn.equals("Y"))
											AND B.TRANSFER_YN = 'N'
										#end
										 
										
										#if (!$vo.searchWord.equals(""))
											#if ($vo.searchType.equals("searchTitle"))
												AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
											#elseif ($vo.searchType.equals("searchDrafter"))
												AND B.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
											#elseif ($vo.searchType.equals("searchRecvDeptName"))
												AND C.RECEIVERS LIKE '%' || :vo.searchWord || '%'  
											#end 
										#end
										
										#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
											AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
										#end
										
										#if(!$vo.bindingId.equals(""))
											AND B.BINDING_ID = :vo.bindingId
										#end						
										
		
										#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
											AND B.ELECTRON_DOC_YN = 'Y'
										#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
											AND B.ELECTRON_DOC_YN = 'N'
										#end
															
										
										#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
											AND B.ENF_TYPE = :vo.searchDetType
										#end
										
										#if(!$vo.searchApprovalName.equals("") 
											&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("")  || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
										   )
											AND B.DOC_ID IN (
										                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
										                     WHERE A.DOC_ID = LINE.DOC_ID
										                     AND A.COMP_ID = LINE.COMP_ID
										                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
										                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
									                  	  )
										#end
										
										AND A.DELETE_YN = 'N'
										AND B.DELETE_YN = 'N' 
										AND B.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
		
										#if($vo.webServiceYn.equals("Y") ) 
											AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#end
										
										#if(!$vo.displayYn.equals("") )
											#if($vo.displayYn.equals("Y") )
												AND A.PUB_READ_DATE < TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
											#else
												AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
											#end 
										#end
											 
									#end
									
									
								#end
								
							#end
							
							#if($vo.optAppDocDisplayYn.equals("Y") && $vo.optEnfDocDisplayYn.equals("Y"))
								#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) && $vo.mobileYn.equals("N") )
									UNION ALL
								#end
							#end
							
							#if($vo.optEnfDocDisplayYn.equals("Y"))
							
								#if( ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D")) && $vo.mobileYn.equals("N") )
								
									SELECT B.DOC_ID, B.COMP_ID, B.TITLE,  
										   B.SENDER_DEPT_ID DRAFTER_DEPT_ID, B.SENDER_DEPT_NAME DRAFTER_DEPT_NAME, 
										   B.SENDER_ID DRAFTER_ID, B.SENDER_NAME DRAFTER_NAME, 
										   TO_CHAR(B.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
										   B.ATTACH_COUNT, B.URGENCY_YN, TO_CHAR(A.PUB_READ_DATE, 'yyyy-mm-dd hh24:mi:ss') PUB_READ_DATE
										   , B.ELECTRON_DOC_YN, B.TRANSFER_YN
									FROM TGW_PUB_READER A, TGW_ENF_DOC B
									
									WHERE B.COMP_ID = :vo.compId
									AND B.DOC_ID = A.DOC_ID
									AND B.COMP_ID = A.COMP_ID
									AND A.USING_TYPE = :vo.optEnfDocDpiCode
									AND A.PUB_READER_ID = :vo.userId
									AND B.RECEIVE_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/	
									
									
									#if($vo.optEnfDocDisplayInfo.equals("A"))
										AND B.DOC_STATE IN ( {{vo.docEnfState}} )
									#end
									
									#if($vo.mobileYn.equals("Y"))
										AND B.TRANSFER_YN = 'N'
									#end
									 
									
									#if (!$vo.searchWord.equals(""))
										#if ($vo.searchType.equals("searchTitle"))
											AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
										#elseif ($vo.searchType.equals("searchDrafter"))
											AND B.SENDER_NAME LIKE '%' || :vo.searchWord || '%' 
										#elseif ($vo.searchType.equals("searchRecvDeptName"))
											AND UPPER(B.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') 
										#end 
									#end
									
									#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
									#end
									
									#if(!$vo.bindingId.equals(""))
										AND B.BINDING_ID = :vo.bindingId
									#end						
									
									
									#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'Y'
									#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'N'
									#end
														
									
									#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND B.ENF_TYPE = :vo.searchDetType
									#end
									
									#if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
									   )
										AND B.DOC_ID IN (
									                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
									                     WHERE A.DOC_ID = LINE.DOC_ID
									                     AND A.COMP_ID = LINE.COMP_ID
									                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
									                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	  )
									#end								
									
									AND B.DELETE_YN = 'N'
									AND A.DELETE_YN = 'N'
									AND B.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
									
									#if($vo.webServiceYn.equals("Y") )
										AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59' /**P*/,'yyyy-MM-dd hh24:mi:ss')
									#end 
									
									#if(!$vo.displayYn.equals("") )
										#if($vo.displayYn.equals("Y") )
											AND A.PUB_READ_DATE < TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#else
											AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
										#end 
									#end 
									
								#end
								
							#end
					
					)
									
					ORDER BY DRAFT_DATE DESC
					
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.displayDocCount">
			<statement>
			<![CDATA[
			
				
				SELECT COUNT(1) CNT FROM 
					(
					SELECT * FROM 
					(
					
						#if($vo.optAppDocDisplayYn.equals("Y"))	
						
							#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
							
								#if($vo.optAppDocDisplayInfo.equals("A"))
									SELECT B.DOC_ID
									FROM TGW_PUB_READER A, TGW_APP_DOC B
									
									WHERE B.COMP_ID = :vo.compId
									AND B.DOC_ID = A.DOC_ID
									AND B.COMP_ID = A.COMP_ID
									AND A.USING_TYPE = :vo.optAppDocDpiCode
									AND A.PUB_READER_ID = :vo.userId
									AND B.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
									AND B.DOC_STATE IN ( {{vo.docAppState}} )
									 
									
									#if (!$vo.searchWord.equals(""))
										#if ($vo.searchType.equals("searchTitle"))
											AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
										#elseif ($vo.searchType.equals("searchDrafter"))
											AND B.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%' 
										#end 
									#end
									
									#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
									#end
									
									#if(!$vo.bindingId.equals(""))
										AND B.BINDING_ID = :vo.bindingId
									#end						
									
		
									#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'Y'
									#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'N'
									#end
														
									
									#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND B.ENF_TYPE = :vo.searchDetType
									#end
									
									#if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
									   )
										AND B.DOC_ID IN (
									                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
									                     WHERE A.DOC_ID = LINE.DOC_ID
									                     AND A.COMP_ID = LINE.COMP_ID
									                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
									                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	  )
									#end
									
									AND A.DELETE_YN = 'N'
									AND B.DELETE_YN = 'N' 
									AND B.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')								
									AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
									
								#else
									
									SELECT B.DOC_ID
									FROM TGW_PUB_READER A, TGW_APP_DOC B
									
									WHERE B.COMP_ID = :vo.compId
									AND B.DOC_ID = A.DOC_ID
									AND B.COMP_ID = A.COMP_ID
									AND A.USING_TYPE = :vo.optAppDocDpiCode
									AND A.PUB_READER_ID = :vo.userId
									AND B.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
									AND B.DOC_STATE IN ( {{vo.docAppState}} )
									 
									
									#if (!$vo.searchWord.equals(""))
										#if ($vo.searchType.equals("searchTitle"))
											AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
										#elseif ($vo.searchType.equals("searchDrafter"))
											AND B.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%' 
										#end 
									#end
									
									#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
									#end
									
									#if(!$vo.bindingId.equals(""))
										AND B.BINDING_ID = :vo.bindingId
									#end						
									
		
									#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'Y'
									#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'N'
									#end
														
									
									#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND B.ENF_TYPE = :vo.searchDetType
									#end
									
									#if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
									   )
										AND B.DOC_ID IN (
									                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
									                     WHERE A.DOC_ID = LINE.DOC_ID
									                     AND A.COMP_ID = LINE.COMP_ID
									                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
									                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	  )
									#end
									
									AND A.DELETE_YN = 'N'
									AND B.DELETE_YN = 'N' 
									AND B.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')								
									AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
									
									UNION ALL
									
									SELECT B.DOC_ID
									FROM TGW_PUB_READER A, TGW_APP_DOC B
									
									WHERE B.COMP_ID = :vo.compId
									AND B.DOC_ID = A.DOC_ID
									AND B.COMP_ID = A.COMP_ID
									AND A.USING_TYPE = :vo.optAppDocDpiCode
									AND A.PUB_READER_ID = :vo.userId
									AND B.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
									AND B.DOC_STATE IN ( {{vo.docAppStateDept}} )
									AND B.BATCH_DRAFT_NUMBER = 1
									 
									
									#if (!$vo.searchWord.equals(""))
										#if ($vo.searchType.equals("searchTitle"))
											AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
										#elseif ($vo.searchType.equals("searchDrafter"))
											AND B.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%' 
										#end 
									#end
									
									#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
									#end
									
									#if(!$vo.bindingId.equals(""))
										AND B.BINDING_ID = :vo.bindingId
									#end						
									
		
									#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'Y'
									#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND B.ELECTRON_DOC_YN = 'N'
									#end
														
									
									#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND B.ENF_TYPE = :vo.searchDetType
									#end
									
									#if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
									   )
										AND B.DOC_ID IN (
									                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
									                     WHERE A.DOC_ID = LINE.DOC_ID
									                     AND A.COMP_ID = LINE.COMP_ID
									                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
									                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	  )
									#end
									
									AND A.DELETE_YN = 'N'
									AND B.DELETE_YN = 'N' 
									AND B.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')								
									AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
									
								#end
								
							#end
							
						#end
						
						#if($vo.optAppDocDisplayYn.equals("Y") && $vo.optEnfDocDisplayYn.equals("Y"))
							#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
								UNION ALL
							#end
						#end
						
						#if($vo.optEnfDocDisplayYn.equals("Y"))
						
							#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
							
								SELECT B.DOC_ID
								FROM TGW_PUB_READER A, TGW_ENF_DOC B
								
								WHERE B.COMP_ID = :vo.compId
								AND B.DOC_ID = A.DOC_ID
								AND B.COMP_ID = A.COMP_ID
								AND A.USING_TYPE = :vo.optEnfDocDpiCode
								AND A.PUB_READER_ID = :vo.userId
								AND B.RECEIVE_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/	
								
								
								#if($vo.optEnfDocDisplayInfo.equals("A"))
									AND B.DOC_STATE IN ( {{vo.docEnfState}} )
								#end
								 
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND B.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%' 
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND B.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND B.BINDING_ID = :vo.bindingId
								#end						
								
								
								#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND B.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND B.ELECTRON_DOC_YN = 'N'
								#end
													
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND B.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
									AND B.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
								#end								
								
								AND B.DELETE_YN = 'N'
								AND A.DELETE_YN = 'N'
								AND B.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND A.PUB_READ_DATE = TO_DATE( '9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
								
							#end
							
						#end
					)
				)
				
								
				
				
			]]>
			</statement>
		</query>
		
		<query id="list.listRear">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
					   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, A.APPROVER_ID, A.APPROVER_NAME, 
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
					   A.TRANSFER_YN, A.ELECTRON_DOC_YN, B.PROC_TYPE, A.UNREGIST_YN, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
				       ,B.READ_DATE
				FROM TGW_APP_DOC A, TGW_APP_LINE B
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID
				AND B.APPROVER_ID = :vo.userId				
				AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
				AND B.ASK_TYPE IN ( {{vo.askType}} )
				--AND B.PROC_TYPE IN ( {{vo.procType}} )
				AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchApproval"))
						AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				AND A.DELETE_YN = 'N'
				AND A.ELECTRON_DOC_YN = 'Y'
				AND B.TEMP_YN = 'N'
				AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY A.DRAFT_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listRearToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
					SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
						   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, A.APPROVER_ID, A.APPROVER_NAME, 
						   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
						   A.TRANSFER_YN, A.ELECTRON_DOC_YN, B.PROC_TYPE 
					FROM TGW_APP_DOC A, TGW_APP_LINE B
					WHERE A.COMP_ID = :vo.compId
					AND A.DOC_ID = B.DOC_ID
					AND A.COMP_ID = B.COMP_ID
					AND B.APPROVER_ID = :vo.userId				
					AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
					AND B.ASK_TYPE IN ( {{vo.askType}} )
					--AND B.PROC_TYPE IN ( {{vo.procType}} )
					AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDrafter"))
							AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchApproval"))
							AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
						#end 
					#end
					
					AND A.DELETE_YN = 'N'
					AND A.ELECTRON_DOC_YN = 'Y'
					AND B.TEMP_YN = 'N'
					AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
					ORDER BY A.DRAFT_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
					
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		
		<query id="list.rearCount">
			<statement>
			<![CDATA[

				SELECT COUNT(A.DOC_ID) CNT 
				FROM TGW_APP_DOC A, TGW_APP_LINE B
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID
				AND B.APPROVER_ID = :vo.userId				
				AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
				AND B.ASK_TYPE IN ( {{vo.askType}} )
				--AND B.PROC_TYPE IN ( {{vo.procType}} )
				AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchApproval"))
						AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				AND A.DELETE_YN = 'N'
				AND A.ELECTRON_DOC_YN = 'Y'
				AND B.TEMP_YN = 'N'
				AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
			]]>
			</statement>
		</query>
		
		<query id="list.listExamReading">
			<statement>
			<![CDATA[
				SELECT DOC_ID, COMP_ID, TITLE, DEPT_CATEGORY, SUBSERIAL_NUMBER,
					   DRAFTER_ID, DRAFTER_NAME, DRAFTER_DEPT_NAME, DRAFT_DATE,
					   APPROVER_ID, APPROVER_NAME, APPROVAL_DATE, ATTACH_COUNT, URGENCY_YN, 
					   TRANSFER_YN, ELECTRON_DOC_YN, AUDIT_READ_YN, AUDIT_READ_REASON, UNREGIST_YN, BATCH_DRAFT_NUMBER
					   ,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE
				FROM (
						#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) 
						
							SELECT A.DOC_ID, A.COMP_ID, A.TITLE, 
								   A.DEPT_CATEGORY||'-'||A.SERIAL_NUMBER DEPT_CATEGORY, A.SUBSERIAL_NUMBER,
								   A.DRAFTER_ID, A.DRAFTER_NAME, A.DRAFTER_DEPT_NAME, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
								   A.APPROVER_ID, A.APPROVER_NAME, 
								   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
								   A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.AUDIT_READ_YN, A.AUDIT_READ_REASON, A.UNREGIST_YN, A.BATCH_DRAFT_NUMBER
								   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		      TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE  
							FROM TGW_APP_DOC A, TGW_OWN_DEPT B
							WHERE A.COMP_ID = :vo.compId
							AND B.DOC_ID = A.DOC_ID 
							AND B.COMP_ID = A.COMP_ID 
							AND A.DRAFT_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/
							--AND B.OWN_DEPT_ID > ''							/* TUNNING ADD JTH8172*/
							--AND A.DOC_ID LIKE 'APP%'
							AND B.OWN_YN = 'Y' 
											 
							#if (!$vo.deptId.equals(""))
								AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
							#else
								AND B.OWN_DEPT_ID IN (
								
									SELECT TARGET_ID 
									FROM TGW_AUDIT_DEPT 
									WHERE AUDITOR_ID = :vo.userId 
									AND COMP_ID = :vo.compId 
									AND TARGET_ID != 'N' 
									AND AUDITOR_TYPE = :vo.auditorType
								)
							#end
			
							AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchApproval"))
									AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end
							
							
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end
							
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							#if (!$vo.searchWordDeptName.equals(""))
								AND UPPER(B.OWN_DEPT_NAME) LIKE UPPER('%' || :vo.searchWordDeptName || '%')
							#end
							
							
							AND A.DELETE_YN = 'N'
							--AND A.AUDIT_READ_YN = 'Y'
							AND A.SERIAL_NUMBER > 0
							AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
						#end
						
						#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
							UNION ALL
						#end
						
						
						#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
						
							SELECT A.DOC_ID, A.COMP_ID, A.TITLE, 
								   A.DEPT_CATEGORY||'-'||A.SERIAL_NUMBER DEPT_CATEGORY, A.SUBSERIAL_NUMBER,
								   A.SENDER_ID DRAFTER_ID, A.SENDER_NAME DRAFTER_NAME, A.SENDER_DEPT_NAME DRAFTER_DEPT_NAME, TO_CHAR(A.REGIST_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
								   '' APPROVER_ID, '' APPROVER_NAME, 
								   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
								   A.TRANSFER_YN, A.ELECTRON_DOC_YN, 'Y' AUDIT_READ_YN, '' AUDIT_READ_REASON, A.UNREGIST_YN, 1 BATCH_DRAFT_NUMBER,'','','',''  
							FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
							
							WHERE A.COMP_ID = :vo.compId
							AND B.DOC_ID = A.DOC_ID 
							AND B.COMP_ID = A.COMP_ID 
							--AND B.OWN_DEPT_ID > ''							/* TUNNING ADD JTH8172*/
							--AND A.DOC_ID LIKE 'APP%'
							AND B.OWN_YN = 'Y' 
											 
							#if (!$vo.deptId.equals(""))
								AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
							#else
								AND B.OWN_DEPT_ID IN (
								
									SELECT TARGET_ID 
									FROM TGW_AUDIT_DEPT 
									WHERE AUDITOR_ID = :vo.userId 
									AND COMP_ID = :vo.compId 
									AND TARGET_ID != 'N' 
									AND AUDITOR_TYPE = :vo.auditorType
								)
							#end
			
							AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.SENDER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchApproval"))
									AND A.PROCESSOR_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end
							
							
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end
							
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
							#end
							
							#if (!$vo.searchWordDeptName.equals(""))
								AND UPPER(B.OWN_DEPT_NAME) LIKE UPPER('%' || :vo.searchWordDeptName || '%')
							#end
							
							
							AND A.DELETE_YN = 'N'
							--AND A.AUDIT_READ_YN = 'Y'
							AND A.SERIAL_NUMBER > 0
							AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
						#end
					
				)	
				
				#if ($vo.searchType.equals("searchTypeAuditReadYn") && (!$vo.searchAuditReadY.equals("") || !$vo.searchAuditReadN.equals("") ) )
					#if($vo.searchAuditReadY.equals("Y") && !$vo.searchAuditReadN.equals("Y"))
						WHERE AUDIT_READ_YN = 'Y'
					#elseif(!$vo.searchAuditReadY.equals("Y") && $vo.searchAuditReadN.equals("Y"))
						WHERE AUDIT_READ_YN = 'N'
					#end
				#end
				
				ORDER BY DRAFT_DATE DESC, BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listAuditDept">
			<statement>
			<![CDATA[

				SELECT AUDITOR_ID, TARGET_ID 
				FROM TGW_AUDIT_DEPT 
				WHERE COMP_ID = :vo.compId
				AND AUDITOR_ID = :vo.auditorId
				#if (!$vo.auditorType.equals(""))
					AND AUDITOR_TYPE = :vo.auditorType
				#end
				AND TARGET_ID != 'N'
				
			]]>
			</statement>
			<result class="com.sds.acube.app.env.vo.AuditDeptVO" />
		</query>
		
		<query id="list.auditDeptCount">
			<statement>
			<![CDATA[

				SELECT COUNT(TARGET_ID) CNT 
				FROM TGW_AUDIT_DEPT 
				WHERE COMP_ID = :vo.compId
				AND AUDITOR_ID = :vo.auditorId
				#if (!$vo.auditorType.equals(""))
					AND AUDITOR_TYPE = :vo.auditorType
				#end
				
				
			]]>
			</statement>
		</query>
		
		<query id="list.listOfficer">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_ID, DRAFTER_NAME, DRAFT_DATE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,
					   APPROVER_ID, APPROVER_NAME, APPROVAL_DATE, ATTACH_COUNT, URGENCY_YN, ELECTRON_DOC_YN, TRANSFER_YN, 
					   BATCH_DRAFT_NUMBER, UNREGIST_YN,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE
				FROM (	 
				
				#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )   
					SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
						   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
						   A.APPROVER_ID, A.APPROVER_NAME, 
						   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
						   A.ELECTRON_DOC_YN, A.TRANSFER_YN, A.BATCH_DRAFT_NUMBER, A.UNREGIST_YN
						   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
					FROM TGW_APP_DOC A, TGW_OWN_DEPT B
					WHERE A.COMP_ID = :vo.compId
					AND A.DOC_ID = B.DOC_ID 
					AND A.COMP_ID = B.COMP_ID
					AND B.OWN_YN = 'Y' 
					
					#if (!$vo.deptId.equals(""))
						AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
					#else
						AND B.OWN_DEPT_ID IN (
						
							SELECT TARGET_ID 
							FROM TGW_AUDIT_DEPT 
							WHERE AUDITOR_ID = :vo.userId 
							AND COMP_ID = :vo.compId 
							AND TARGET_ID != 'N' 
							AND AUDITOR_TYPE = 'O'
						)
					#end
					
					AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDrafter"))
							AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchApproval"))
							AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchDeptName"))
							AND UPPER(A.DRAFTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#end 
					#end
					
					#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
						AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
					#end
					
					#if(!$vo.bindingId.equals(""))
						AND A.BINDING_ID = :vo.bindingId
					#end						
					
					#if ($vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'Y'
					#else
						#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
						#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
							AND A.ELECTRON_DOC_YN = 'Y'
						#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							AND A.ELECTRON_DOC_YN = 'N'
						#end
					#end						
					
					#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
						AND A.ENF_TYPE = :vo.searchDetType
					#end
					
					#if(!$vo.searchApprovalName.equals("") 
						&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
					   )
						AND A.DOC_ID IN (
					                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
					                     WHERE A.DOC_ID = LINE.DOC_ID
					                     AND A.COMP_ID = LINE.COMP_ID
					                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
					                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
				                  	  )
					#end
					
					AND A.DELETE_YN = 'N'
					AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				#end
				
				#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
					UNION
				#end
				
				#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
				
					SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.SENDER_ID DRAFTER_ID, A.SENDER_NAME DRAFTER_NAME, 
						   TO_CHAR(A.SEND_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
						   A.SENDER_DEPT_ID DRAFTER_DEPT_ID,  A.SENDER_DEPT_NAME DRAFTER_DEPT_NAME,
						   D.PROCESSOR_ID APPROVER_ID, D.PROCESSOR_NAME APPROVER_NAME, 
						   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
						   A.ELECTRON_DOC_YN, A.TRANSFER_YN, 0 BATCH_DRAFT_NUMBER, A.UNREGIST_YN,'','','',''
					FROM TGW_ENF_DOC A, TGW_OWN_DEPT B, 
									(
										 SELECT MAX(ORIGIN.DOC_ID) DOC_ID 
										 FROM TGW_ENF_DOC ORIGIN, TGW_OWN_DEPT DEPT
										 WHERE ORIGIN.COMP_ID = :vo.compId									 
										 AND ORIGIN.DOC_ID = DEPT.DOC_ID
										 
										 #if (!$vo.deptId.equals(""))
											AND DEPT.OWN_DEPT_ID IN ( {{vo.deptId}} )
										 #else
											AND DEPT.OWN_DEPT_ID IN (
												
												SELECT TARGET_ID 
												FROM TGW_AUDIT_DEPT 
												WHERE AUDITOR_ID = :vo.userId 
												AND COMP_ID = :vo.compId 
												AND TARGET_ID != 'N' 
												AND AUDITOR_TYPE = 'O' 
												 
											)
										 #end
										 
										 AND ( ORIGIN.DOC_STATE IN ( {{vo.docEnfState}} ) OR ORIGIN.TRANSFER_YN = 'Y' )
										 AND ORIGIN.DELETE_YN = 'N'
										 AND ORIGIN.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
										 AND DEPT.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
										 GROUP BY DECODE(ELECTRON_DOC_YN,'Y',ORIGIN.ORIGIN_DOC_ID,'N',ORIGIN.DOC_ID)
										 
									) C,
									TGW_ENF_LINE D
					WHERE A.COMP_ID = :vo.compId
					AND A.DOC_ID = B.DOC_ID
					AND A.COMP_ID = B.COMP_ID
					AND B.OWN_YN = 'Y' 
					AND A.DOC_ID = D.DOC_ID(+)
					AND A.COMP_ID = D.COMP_ID(+)
					AND 'ART070' = D.ASK_TYPE(+) 
					AND 'APT001' = D.PROC_TYPE(+)
					AND A.LAST_UPDATE_DATE = D.PROCESS_DATE(+)
					 				
					#if (!$vo.deptId.equals(""))
						AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
					#else
						AND B.OWN_DEPT_ID IN (
						
							SELECT TARGET_ID 
							FROM TGW_AUDIT_DEPT 
							WHERE AUDITOR_ID = :vo.userId 
							AND COMP_ID = :vo.compId 
							AND TARGET_ID != 'N' 
							AND AUDITOR_TYPE = 'O' 
						)
					#end
					
					AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDrafter"))
							AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchApproval"))
							AND A.PROCESSOR_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchDeptName"))
							AND UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#end 
					#end
					
					#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
						AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
					#end
					
					#if(!$vo.bindingId.equals(""))
						AND A.BINDING_ID = :vo.bindingId
					#end						
					
					#if ($vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'Y'
					#else
						#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
						#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
							AND A.ELECTRON_DOC_YN = 'Y'
						#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							AND A.ELECTRON_DOC_YN = 'N'
						#end
					#end						
					
					#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
						AND A.ENF_TYPE = :vo.searchDetType
					#end
					
					#if(!$vo.searchApprovalName.equals("") 
						&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
					   )
						AND A.DOC_ID IN (
					                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
					                     WHERE A.DOC_ID = LINE.DOC_ID
					                     AND A.COMP_ID = LINE.COMP_ID
					                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
					                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
				                  	  )
					#end
					
					
					AND A.DOC_ID = C.DOC_ID 
									
					
					
					AND A.DELETE_YN = 'N'
					AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
				#end 
			
				)
				
				ORDER BY APPROVAL_DATE DESC, BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listOfficerToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM ( 
					SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_ID, DRAFTER_NAME, DRAFT_DATE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,
						   APPROVER_ID, APPROVER_NAME, APPROVAL_DATE, ATTACH_COUNT, URGENCY_YN, ELECTRON_DOC_YN, TRANSFER_YN, 
						   BATCH_DRAFT_NUMBER, UNREGIST_YN, SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE
					FROM (	 
					
					#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )   
						SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
							   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
							   A.APPROVER_ID, A.APPROVER_NAME, 
							   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
							   A.ELECTRON_DOC_YN, A.TRANSFER_YN, A.BATCH_DRAFT_NUMBER, A.UNREGIST_YN,
							   A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
						FROM TGW_APP_DOC A, TGW_OWN_DEPT B
						WHERE A.COMP_ID = :vo.compId
						AND A.DOC_ID = B.DOC_ID 
						AND A.COMP_ID = B.COMP_ID
						AND B.OWN_YN = 'Y' 
						
						#if (!$vo.deptId.equals(""))
							AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
						#else
							AND B.OWN_DEPT_ID IN (
								
								SELECT TARGET_ID 
								FROM TGW_AUDIT_DEPT 
								WHERE AUDITOR_ID = :vo.userId 
								AND COMP_ID = :vo.compId 
								AND TARGET_ID != 'N' 
								AND AUDITOR_TYPE = 'O' 
								 
							)
						#end
						
						AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchApproval"))
								AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
							#end 
						#end
						
						#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
							AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
						#end
						
						#if(!$vo.bindingId.equals(""))
							AND A.BINDING_ID = :vo.bindingId
						#end						
						
						#if ($vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
							AND A.ELECTRON_DOC_YN = 'Y'
						#else
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end
						#end						
						
						#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
							AND A.ENF_TYPE = :vo.searchDetType
						#end
						
						#if(!$vo.searchApprovalName.equals("") 
							&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
						   )
							AND A.DOC_ID IN (
						                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
						                     WHERE A.DOC_ID = LINE.DOC_ID
						                     AND A.COMP_ID = LINE.COMP_ID
						                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
						                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
					                  	  )
						#end
						
						AND A.DELETE_YN = 'N'
						AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
					#end
					
					#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
						UNION
					#end
					
					#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
					
						SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPTER_ID DRAFTER_ID, A.ACCEPTER_NAME DRAFTER_NAME, 
							   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
							   A.ACCEPT_DEPT_ID DRAFTER_DEPT_ID,  A.ACCEPT_DEPT_NAME DRAFTER_DEPT_NAME,
							   D.PROCESSOR_ID APPROVER_ID, D.PROCESSOR_NAME APPROVER_NAME, 
							   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
							   A.ELECTRON_DOC_YN, A.TRANSFER_YN, 0 BATCH_DRAFT_NUMBER, A.UNREGIST_YN,
							   A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
						FROM TGW_ENF_DOC A, TGW_OWN_DEPT B, 
									(
										 SELECT MAX(ORIGIN.DOC_ID) DOC_ID 
										 FROM TGW_ENF_DOC ORIGIN, TGW_OWN_DEPT DEPT
										 WHERE ORIGIN.COMP_ID = :vo.compId									 
										 AND ORIGIN.DOC_ID = DEPT.DOC_ID
										 
										 #if (!$vo.deptId.equals(""))
											AND DEPT.OWN_DEPT_ID IN ( {{vo.deptId}} )
										 #else
											AND DEPT.OWN_DEPT_ID IN (
												
												SELECT TARGET_ID 
												FROM TGW_AUDIT_DEPT 
												WHERE AUDITOR_ID = :vo.userId 
												AND COMP_ID = :vo.compId 
												AND TARGET_ID != 'N' 
												AND AUDITOR_TYPE = 'O' 
												 
											)
										 #end
										 
										 AND ( ORIGIN.DOC_STATE IN ( {{vo.docEnfState}} ) OR ORIGIN.TRANSFER_YN = 'Y' )
										 AND ORIGIN.DELETE_YN = 'N'
										 AND ORIGIN.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
										 AND DEPT.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
										 GROUP BY DECODE(ELECTRON_DOC_YN,'Y',ORIGIN.ORIGIN_DOC_ID,'N',ORIGIN.DOC_ID)
										 
									) C,
									TGW_ENF_LINE D
						WHERE A.COMP_ID = :vo.compId
						AND A.DOC_ID = B.DOC_ID
						AND A.COMP_ID = B.COMP_ID
						AND B.OWN_YN = 'Y' 
						AND A.DOC_ID = D.DOC_ID(+)
						AND A.COMP_ID = D.COMP_ID(+)
						AND 'ART070' = D.ASK_TYPE(+) 
						AND 'APT001' = D.PROC_TYPE(+)
						AND A.LAST_UPDATE_DATE = D.PROCESS_DATE(+)
						 				
						#if (!$vo.deptId.equals(""))
							AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
						#else
							AND B.OWN_DEPT_ID IN (
								
								SELECT TARGET_ID 
								FROM TGW_AUDIT_DEPT 
								WHERE AUDITOR_ID = :vo.userId 
								AND COMP_ID = :vo.compId 
								AND TARGET_ID != 'N' 
								AND AUDITOR_TYPE = 'O' 
								 
							)
						#end
						
						AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchApproval"))
								AND A.PROCESSOR_NAME LIKE '%' || :vo.searchWord || '%'
							#end 
						#end
						
						#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
							AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
						#end
						
						#if(!$vo.bindingId.equals(""))
							AND A.BINDING_ID = :vo.bindingId
						#end						
						
						#if ($vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
							AND A.ELECTRON_DOC_YN = 'Y'
						#else
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end
						#end						
						
						#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
							AND A.ENF_TYPE = :vo.searchDetType
						#end
						
						#if(!$vo.searchApprovalName.equals("") 
							&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
						   )
							AND A.DOC_ID IN (
						                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
						                     WHERE A.DOC_ID = LINE.DOC_ID
						                     AND A.COMP_ID = LINE.COMP_ID
						                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
						                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
					                  	  )
						#end
						
						AND A.DOC_ID = C.DOC_ID 
						
						AND A.DELETE_YN = 'N'
						AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
					#end 
				
					)
					
					ORDER BY APPROVAL_DATE DESC, BATCH_DRAFT_NUMBER DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listOfficerApproval">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
					   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
					   A.APPROVER_ID, A.APPROVER_NAME, 
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
					   A.ELECTRON_DOC_YN, A.TRANSFER_YN, A.UNREGIST_YN, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
				FROM TGW_APP_DOC A, TGW_OWN_DEPT B
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID 
				AND A.COMP_ID = B.COMP_ID		
				AND B.OWN_YN = 'Y' 	
									
				#if (!$vo.deptId.equals(""))
				AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
				#end
								
				AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchApproval"))
						AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
					AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
				#end
				
				#if(!$vo.bindingId.equals(""))
					AND A.BINDING_ID = :vo.bindingId
				#end						
				
				#if ($vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'Y'
				#else
					#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
					#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'Y'
					#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'N'
					#end
				#end						
				
				#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
					AND A.ENF_TYPE = :vo.searchDetType
				#end
				
				AND A.DOC_ID IN ( 
								 SELECT DOC_ID FROM TGW_APP_LINE APPLINE
								 WHERE A.DOC_ID = APPLINE.DOC_ID
				                 AND A.COMP_ID = APPLINE.COMP_ID
				                 AND ( APPLINE.APPROVER_ROLE LIKE '%' || :vo.approverRole || '%' OR APPLINE.APPROVER_ROLE LIKE '%' || :vo.approverAddRole || '%' )
				                 
				                 #if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
								   	AND (APPLINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR APPLINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
				                    AND APPLINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								 #end
								 
				                 AND APPLINE.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				                )
				
								
				AND A.DELETE_YN = 'N'
				AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY A.APPROVAL_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listConductTeam">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
					   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
					   A.APPROVER_ID, A.APPROVER_NAME, 
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
					   A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.UNREGIST_YN,A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
				FROM TGW_APP_DOC A
				WHERE A.COMP_ID = :vo.compId
				AND A.EXEC_DEPT_ID = :vo.deptId				
				AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchApproval"))
						AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				AND A.DRAFT_DATE > TO_DATE('2000','YYYY') 	/* TUNNING ADD JTH8172*/
				AND A.DELETE_YN = 'N'
				AND A.DOUBLE_YN = 'Y'
				AND A.ELECTRON_DOC_YN = 'Y'
				AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY A.DRAFT_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listHQ">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_ID, DRAFTER_NAME, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,
					   APPROVER_ID, APPROVER_NAME, ELECTRON_DOC_YN, APPROVAL_DATE, ATTACH_COUNT, URGENCY_YN,
					   LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, TRANSFER_YN, UNREGIST_YN	,SECURITY_PASS, SECURITY_YN, 
					   SECURITY_START_DATE, SECURITY_END_DATE
				FROM (	   
						#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
						
							SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
								   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
								   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
								   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
								   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, 
								   A.TRANSFER_YN, A.UNREGIST_YN, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
							FROM TGW_APP_DOC A, TGW_OWN_DEPT B
							WHERE A.COMP_ID = :vo.compId
							AND A.DOC_ID = B.DOC_ID 
							AND A.COMP_ID = B.COMP_ID
							AND A.READ_RANGE = :vo.readingRange
							AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
							AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
							AND B.OWN_YN = 'Y' 
							AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchApproval"))
									AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end
							
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end		
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							AND A.DELETE_YN = 'N'
							AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
						#end
						
						#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
							UNION
						#end
						
						#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
						
							SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPTER_ID DRAFTER_ID, A.ACCEPTER_NAME DRAFTER_NAME, 
								   A.ACCEPT_DEPT_ID DRAFTER_DEPT_ID, A.ACCEPT_DEPT_NAME DRAFTER_DEPT_NAME,
								   A.PROCESSOR_ID APPROVER_ID, A.PROCESSOR_NAME APPROVER_NAME, A.ELECTRON_DOC_YN, 
								   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
								   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 0 BATCH_DRAFT_NUMBER, 
								   A.TRANSFER_YN, A.UNREGIST_YN, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
							FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
							WHERE A.COMP_ID = :vo.compId
							AND A.DOC_ID = B.DOC_ID 
							AND A.COMP_ID = B.COMP_ID
							AND A.READ_RANGE = :vo.readingRange							
							AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
							AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
							AND B.OWN_YN = 'Y' 
							AND A.RECEIVE_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchApproval"))
									AND A.PROCESSOR_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end
							
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end		
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							AND A.DELETE_YN = 'N'
							AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
						#end
						
						
					)
				
				ORDER BY APPROVAL_DATE DESC, BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listHQOnlyApp">
			<statement>
			<![CDATA[
				
				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
					   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
					   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
					   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, A.BATCH_DRAFT_NUMBER, 
					   A.TRANSFER_YN, A.UNREGIST_YN
				FROM TGW_APP_DOC A, TGW_OWN_DEPT B
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID 
				AND A.COMP_ID = B.COMP_ID
				AND A.READ_RANGE = :vo.readingRange
				AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
				AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
				AND B.OWN_YN = 'Y' 
				AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchApproval"))
						AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
					AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
				#end
				
				#if(!$vo.bindingId.equals(""))
					AND A.BINDING_ID = :vo.bindingId
				#end
				
				#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
				#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'Y'
				#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'N'
				#end		
				
				#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
					AND A.ENF_TYPE = :vo.searchDetType
				#end
				
				#if(!$vo.searchApprovalName.equals("") 
					&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
				   )
					AND A.DOC_ID IN (
				                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
				                     WHERE A.DOC_ID = LINE.DOC_ID
				                     AND A.COMP_ID = LINE.COMP_ID
				                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
				                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
			                  	  )
				#end
				
				AND A.DELETE_YN = 'N'
				AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY APPROVAL_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listInstitution">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_ID, DRAFTER_NAME, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,
					   APPROVER_ID, APPROVER_NAME, ELECTRON_DOC_YN, APPROVAL_DATE, ATTACH_COUNT, URGENCY_YN,
					   LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, TRANSFER_YN, UNREGIST_YN,SECURITY_PASS, SECURITY_YN, 
					   SECURITY_START_DATE, SECURITY_END_DATE 
				
				FROM (	   
						#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
						
							SELECT /*+ INDEX(A IDX_TGW_APP_DOC_02) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
								   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
								   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
								   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
								   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, 
								   A.TRANSFER_YN, A.UNREGIST_YN, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
							FROM TGW_APP_DOC A, TGW_OWN_DEPT B
							WHERE A.COMP_ID = :vo.compId
							AND A.DOC_ID = B.DOC_ID 
							AND A.COMP_ID = B.COMP_ID
							AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
							AND B.OWN_YN = 'Y' 
							AND A.READ_RANGE = :vo.readingRange							
							AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
							AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchApproval"))
									AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end
							
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end		
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							AND A.DELETE_YN = 'N'
							AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
						#end
						
						#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
							UNION
						#end
						
						#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
						
							SELECT /*+ INDEX(A IDX_TGW_ENF_DOC_13) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPTER_ID DRAFTER_ID, A.ACCEPTER_NAME DRAFTER_NAME, 
								   A.ACCEPT_DEPT_ID DRAFTER_DEPT_ID, A.ACCEPT_DEPT_NAME DRAFTER_DEPT_NAME,
								   A.PROCESSOR_ID APPROVER_ID, A.PROCESSOR_NAME APPROVER_NAME, A.ELECTRON_DOC_YN, 
								   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
								   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 0 BATCH_DRAFT_NUMBER, 
								   A.TRANSFER_YN, A.UNREGIST_YN, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
							FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
							WHERE A.COMP_ID = :vo.compId
							AND A.DOC_ID = B.DOC_ID 
							AND A.COMP_ID = B.COMP_ID
							AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
							AND B.OWN_YN = 'Y' 
							AND A.READ_RANGE = :vo.readingRange							
							AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
							AND A.RECEIVE_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchApproval"))
									AND A.PROCESSOR_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end
							
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end		
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							AND A.DELETE_YN = 'N'
							AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
						#end
						
						
					)
				
				ORDER BY APPROVAL_DATE DESC, BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listInstitutionOnlyApp">
			<statement>
			<![CDATA[

				
				SELECT /*+ INDEX(A IDX_TGW_APP_DOC_02) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
					   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
					   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
					   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, A.BATCH_DRAFT_NUMBER, 
					   A.TRANSFER_YN, A.UNREGIST_YN
				FROM TGW_APP_DOC A, TGW_OWN_DEPT B
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID 
				AND A.COMP_ID = B.COMP_ID
				AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
				AND B.OWN_YN = 'Y' 
				AND A.READ_RANGE = :vo.readingRange							
				AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
				AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchApproval"))
						AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
					AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
				#end
				
				#if(!$vo.bindingId.equals(""))
					AND A.BINDING_ID = :vo.bindingId
				#end
				
				#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
				#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'Y'
				#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'N'
				#end		
				
				#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
					AND A.ENF_TYPE = :vo.searchDetType
				#end
				
				#if(!$vo.searchApprovalName.equals("") 
					&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
				   )
					AND A.DOC_ID IN (
				                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
				                     WHERE A.DOC_ID = LINE.DOC_ID
				                     AND A.COMP_ID = LINE.COMP_ID
				                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
				                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
			                  	  )
				#end
				
				AND A.DELETE_YN = 'N'
				AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')						
				
				ORDER BY APPROVAL_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listInstitutionToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
				
					SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_ID, DRAFTER_NAME, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,
						   APPROVER_ID, APPROVER_NAME, ELECTRON_DOC_YN, DRAFT_DATE, ATTACH_COUNT, URGENCY_YN,
						   LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, TRANSFER_YN 
					
					FROM (	   
							#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
							
								SELECT /*+ INDEX(A IDX_TGW_APP_DOC_02) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
									   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
									   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
									   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
									   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, A.TRANSFER_YN
								FROM TGW_APP_DOC A, TGW_OWN_DEPT B
								WHERE A.COMP_ID = :vo.compId
								AND A.DOC_ID = B.DOC_ID 
								AND A.COMP_ID = B.COMP_ID
								AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
								AND B.OWN_YN = 'Y' 
								AND A.READ_RANGE = :vo.readingRange							
								AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
								AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
									#elseif ($vo.searchType.equals("searchApproval"))
										AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
								#end
								
								#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end		
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
									AND A.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
								#end
								
								AND A.DELETE_YN = 'N'
								AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
							#end
							
							#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
								UNION
							#end
							
							#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
							
								SELECT /*+ INDEX(A IDX_TGW_ENF_DOC_13) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPTER_ID DRAFTER_ID, A.ACCEPTER_NAME DRAFTER_NAME, 
									   A.ACCEPT_DEPT_ID DRAFTER_DEPT_ID, A.ACCEPT_DEPT_NAME DRAFTER_DEPT_NAME,
									   A.PROCESSOR_ID APPROVER_ID, A.PROCESSOR_NAME APPROVER_NAME, A.ELECTRON_DOC_YN, 
									   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
									   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 0 BATCH_DRAFT_NUMBER, A.TRANSFER_YN 
								FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
								WHERE A.COMP_ID = :vo.compId
								AND A.DOC_ID = B.DOC_ID 
								AND A.COMP_ID = B.COMP_ID
								AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
								AND B.OWN_YN = 'Y' 
								AND A.READ_RANGE = :vo.readingRange							
								AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
								AND A.RECEIVE_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
									#elseif ($vo.searchType.equals("searchApproval"))
										AND A.PROCESSOR_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
								#end
								
								#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end		
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
									AND A.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
								#end
								
								AND A.DELETE_YN = 'N'
								AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								
							#end
							
							
						)
					
					ORDER BY LAST_UPDATE_DATE DESC, BATCH_DRAFT_NUMBER DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listInstitutionToListOnlyApp">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
							
					SELECT /*+ INDEX(A IDX_TGW_APP_DOC_02) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
						   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
						   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
						   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
						   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN
					FROM TGW_APP_DOC A, TGW_OWN_DEPT B
					WHERE A.COMP_ID = :vo.compId
					AND A.DOC_ID = B.DOC_ID 
					AND A.COMP_ID = B.COMP_ID
					AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
					AND B.OWN_YN = 'Y' 
					AND A.READ_RANGE = :vo.readingRange							
					AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
					AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDrafter"))
							AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchApproval"))
							AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
						#end 
					#end
					
					#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
						AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
					#end
					
					#if(!$vo.bindingId.equals(""))
						AND A.BINDING_ID = :vo.bindingId
					#end
					
					#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
					#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'Y'
					#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'N'
					#end		
					
					#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
						AND A.ENF_TYPE = :vo.searchDetType
					#end
					
					#if(!$vo.searchApprovalName.equals("") 
						&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
					   )
						AND A.DOC_ID IN (
					                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
					                     WHERE A.DOC_ID = LINE.DOC_ID
					                     AND A.COMP_ID = LINE.COMP_ID
					                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
					                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
				                  	  )
					#end
					
					AND A.DELETE_YN = 'N'
					AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								
						
					ORDER BY LAST_UPDATE_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
					
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>


		<query id="list.listCompany">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_ID, DRAFTER_NAME, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,
					   APPROVER_ID, APPROVER_NAME, ELECTRON_DOC_YN, APPROVAL_DATE, ATTACH_COUNT, URGENCY_YN,
					   LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, TRANSFER_YN, UNREGIST_YN,SECURITY_PASS, SECURITY_YN, 
					   SECURITY_START_DATE, SECURITY_END_DATE 
				
				FROM (	   
						#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
						
							SELECT /*+ INDEX(A IDX_TGW_APP_DOC_02) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
								   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
								   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
								   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
								   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, 
								   A.TRANSFER_YN, A.UNREGIST_YN, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
							FROM TGW_APP_DOC A, TGW_OWN_DEPT B
							WHERE A.COMP_ID = :vo.compId
							AND A.DOC_ID = B.DOC_ID 
							AND A.COMP_ID = B.COMP_ID
							AND B.OWN_YN = 'Y' 
							AND A.READ_RANGE = :vo.readingRange							
							AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
							AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchApproval"))
									AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end
							
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end		
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							AND A.DELETE_YN = 'N'
							AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
						#end
						
						#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
							UNION
						#end
						
						#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
						
							SELECT /*+ INDEX(A IDX_TGW_ENF_DOC_13) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPTER_ID DRAFTER_ID, A.ACCEPTER_NAME DRAFTER_NAME, 
								   A.ACCEPT_DEPT_ID DRAFTER_DEPT_ID, A.ACCEPT_DEPT_NAME DRAFTER_DEPT_NAME,
								   A.PROCESSOR_ID APPROVER_ID, A.PROCESSOR_NAME APPROVER_NAME, A.ELECTRON_DOC_YN, 
								   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
								   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 0 BATCH_DRAFT_NUMBER, 
								   A.TRANSFER_YN, A.UNREGIST_YN, A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE 
							FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
							WHERE A.COMP_ID = :vo.compId
							AND A.DOC_ID = B.DOC_ID 
							AND A.COMP_ID = B.COMP_ID
							AND B.OWN_YN = 'Y' 
							AND A.READ_RANGE = :vo.readingRange							
							AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
							AND A.RECEIVE_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
								#elseif ($vo.searchType.equals("searchApproval"))
									AND A.PROCESSOR_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end
							
							#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end		
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							AND A.DELETE_YN = 'N'
							AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
						#end
						
						
					)
				
				ORDER BY APPROVAL_DATE DESC, BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listCompanyOnlyApp">
			<statement>
			<![CDATA[

				
				SELECT /*+ INDEX(A IDX_TGW_APP_DOC_02) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
					   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
					   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
					   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, A.BATCH_DRAFT_NUMBER, 
					   A.TRANSFER_YN, A.UNREGIST_YN
				FROM TGW_APP_DOC A, TGW_OWN_DEPT B
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID 
				AND A.COMP_ID = B.COMP_ID
				AND B.OWN_YN = 'Y' 
				AND A.READ_RANGE = :vo.readingRange							
				AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
				AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchApproval"))
						AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
					AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
				#end
				
				#if(!$vo.bindingId.equals(""))
					AND A.BINDING_ID = :vo.bindingId
				#end
				
				#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
				#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'Y'
				#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'N'
				#end		
				
				#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
					AND A.ENF_TYPE = :vo.searchDetType
				#end
				
				#if(!$vo.searchApprovalName.equals("") 
					&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
				   )
					AND A.DOC_ID IN (
				                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
				                     WHERE A.DOC_ID = LINE.DOC_ID
				                     AND A.COMP_ID = LINE.COMP_ID
				                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
				                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
			                  	  )
				#end
				
				AND A.DELETE_YN = 'N'
				AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')						
				
				ORDER BY APPROVAL_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listCompanyToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
				
					SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_ID, DRAFTER_NAME, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,
						   APPROVER_ID, APPROVER_NAME, ELECTRON_DOC_YN, DRAFT_DATE, ATTACH_COUNT, URGENCY_YN,
						   LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, TRANSFER_YN 
					
					FROM (	   
							#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
							
								SELECT /*+ INDEX(A IDX_TGW_APP_DOC_02) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
									   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
									   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
									   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
									   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, BATCH_DRAFT_NUMBER, A.TRANSFER_YN
								FROM TGW_APP_DOC A, TGW_OWN_DEPT B
								WHERE A.COMP_ID = :vo.compId
								AND A.DOC_ID = B.DOC_ID 
								AND A.COMP_ID = B.COMP_ID
								AND B.OWN_YN = 'Y' 
								AND A.READ_RANGE = :vo.readingRange							
								AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
								AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
									#elseif ($vo.searchType.equals("searchApproval"))
										AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
								#end
								
								#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end		
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
									AND A.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
								#end
								
								AND A.DELETE_YN = 'N'
								AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
							#end
							
							#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
								UNION
							#end
							
							#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
							
								SELECT /*+ INDEX(A IDX_TGW_ENF_DOC_13) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPTER_ID DRAFTER_ID, A.ACCEPTER_NAME DRAFTER_NAME, 
									   A.ACCEPT_DEPT_ID DRAFTER_DEPT_ID, A.ACCEPT_DEPT_NAME DRAFTER_DEPT_NAME,
									   A.PROCESSOR_ID APPROVER_ID, A.PROCESSOR_NAME APPROVER_NAME, A.ELECTRON_DOC_YN, 
									   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
									   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 0 BATCH_DRAFT_NUMBER, A.TRANSFER_YN 
								FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
								WHERE A.COMP_ID = :vo.compId
								AND A.DOC_ID = B.DOC_ID 
								AND A.COMP_ID = B.COMP_ID
								AND B.OWN_YN = 'Y' 
								AND A.READ_RANGE = :vo.readingRange							
								AND ( A.DOC_STATE IN ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
								AND A.RECEIVE_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
									#elseif ($vo.searchType.equals("searchApproval"))
										AND A.PROCESSOR_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
								#end
								
								#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end		
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
									AND A.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
								#end
								
								AND A.DELETE_YN = 'N'
								AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								
							#end
							
							
						)
					
					ORDER BY LAST_UPDATE_DATE DESC, BATCH_DRAFT_NUMBER DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listCompanyToListOnlyApp">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
							
					SELECT /*+ INDEX(A IDX_TGW_APP_DOC_02) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, 
						   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
						   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
						   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.ATTACH_COUNT, A.URGENCY_YN,
						   TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN
					FROM TGW_APP_DOC A, TGW_OWN_DEPT B
					WHERE A.COMP_ID = :vo.compId
					AND A.DOC_ID = B.DOC_ID 
					AND A.COMP_ID = B.COMP_ID
					AND B.OWN_YN = 'Y' 
					AND A.READ_RANGE = :vo.readingRange							
					AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
					AND A.REGIST_DATE > TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDrafter"))
							AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchApproval"))
							AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
						#end 
					#end
					
					#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
						AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
					#end
					
					#if(!$vo.bindingId.equals(""))
						AND A.BINDING_ID = :vo.bindingId
					#end
					
					#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
					#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'Y'
					#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
						AND A.ELECTRON_DOC_YN = 'N'
					#end		
					
					#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
						AND A.ENF_TYPE = :vo.searchDetType
					#end
					
					#if(!$vo.searchApprovalName.equals("") 
						&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
					   )
						AND A.DOC_ID IN (
					                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
					                     WHERE A.DOC_ID = LINE.DOC_ID
					                     AND A.COMP_ID = LINE.COMP_ID
					                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
					                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
				                  	  )
					#end
					
					AND A.DELETE_YN = 'N'
					AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								
						
					ORDER BY LAST_UPDATE_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
					
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listLoanBusiness">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,
					   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
					   A.APPROVER_ID, A.APPROVER_NAME, A.ELECTRON_DOC_YN, 
					   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, A.URGENCY_YN, A.TRANSFER_YN, A.UNREGIST_YN 
				FROM TGW_APP_DOC A, TGW_OWN_DEPT B, TGW_APP_DOC_OPT C
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.DOC_ID = C.DOC_ID 
				AND A.COMP_ID = B.COMP_ID
				AND A.COMP_ID = C.COMP_ID
				AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
				AND C.WORK_TYPE = :vo.workType
				AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
				AND B.OWN_YN = 'Y' 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchApproval"))
						AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
					AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
				#end
				
				#if(!$vo.bindingId.equals(""))
					AND A.BINDING_ID = :vo.bindingId
				#end
				
				#if (!$vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
				#elseif (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'Y'
				#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
					AND A.ELECTRON_DOC_YN = 'N'
				#end
				
				#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
					AND A.ENF_TYPE = :vo.searchDetType
				#end
				
				#if(!$vo.searchApprovalName.equals("") 
					&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
				   )
					AND A.DOC_ID IN (
				                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
				                     WHERE A.DOC_ID = LINE.DOC_ID
				                     AND A.COMP_ID = LINE.COMP_ID
				                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
				                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
			                  	  )
				#end
				
				AND A.DELETE_YN = 'N'
				AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY A.DRAFT_DATE DESC, A.BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listCustomerComplete">
			<statement>
			<![CDATA[
				     
				SELECT A.DOC_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
					   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE,  
					   (
						  SELECT CATEGORY_NAME FROM TGW_CATEGORY WHERE COMP_ID = :vo.compId AND CATEGORY_ID = A.DOC_TYPE
					   ) CATEGORY_NAME
					   , A.UNREGIST_YN
					   
				FROM TGW_APP_DOC A  
    				 
				WHERE A.COMP_ID = :vo.compId 			
				AND A.DOC_STATE IN ( {{vo.docAppState}} )
				AND A.DRAFTER_DEPT_ID = :vo.deptId
				AND A.ELECTRON_DOC_YN = 'Y' 
				
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchCustomCode"))
						AND 0 < (
               	            		SELECT COUNT(DOC_ID) FROM TGW_CUSTOMER WHERE COMP_ID = :vo.compId AND DOC_ID = A.DOC_ID AND CUSTOMER_ID LIKE '%' || :vo.searchWord || '%'
               	        		)						
					#elseif ($vo.searchType.equals("searchCustomName"))
						AND 0 < (
               	            		SELECT COUNT(DOC_ID) FROM TGW_CUSTOMER WHERE COMP_ID = :vo.compId AND DOC_ID = A.DOC_ID AND CUSTOMER_NAME LIKE '%' || :vo.searchWord || '%'
               	        		)
					#end 
				#end	
								
				AND A.DELETE_YN = 'N'
				AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				AND 0 < (
               	            SELECT COUNT(DOC_ID) FROM TGW_CUSTOMER WHERE COMP_ID = :vo.compId AND DOC_ID = A.DOC_ID
               	        )
				
				ORDER BY A.APPROVAL_DATE DESC, A.SERIAL_NUMBER DESC, A.DEPT_CATEGORY DESC, A.BATCH_DRAFT_NUMBER DESC
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listDeptAssistant">
			<statement>
			<![CDATA[
				
				SELECT DISTINCT(DOC_ID), COMP_ID, TITLE, ATTACH_COUNT, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME, 
				       DRAFTER_ID, DRAFTER_NAME, DRAFT_DATE, URGENCY_YN, ELECTRON_DOC_YN, BATCH_DRAFT_NUMBER, 
				       TRANSFER_YN, DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, UNREGIST_YN
				       ,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE
				FROM (
						SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT,  
							   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, A.DRAFTER_ID, A.DRAFTER_NAME, 
							   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
							   A.URGENCY_YN, A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
							   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.UNREGIST_YN, A.SECURITY_PASS, 
							   A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
						FROM TGW_APP_DOC A, TGW_APP_LINE B
						WHERE A.COMP_ID =  :vo.compId 
						AND A.DOC_ID = B.DOC_ID
						AND A.COMP_ID = B.COMP_ID	
						AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/						
						AND A.DOC_STATE IN ( {{vo.docAppState}} )
						AND A.TRANSFER_YN = 'N'
						AND B.APPROVER_DEPT_ID = :vo.deptId
						AND B.ASK_TYPE IN ({{vo.askType}})
						AND B.PROC_TYPE IN ({{vo.procType}})
						AND A.DELETE_YN = 'N'
						AND B.TEMP_YN = 'N'
						AND A.ELECTRON_DOC_YN = 'Y'
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDeptName"))
								AND UPPER(A.DRAFTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')  
							#end 
						#end
						
						#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
							AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
						#end
						
						#if(!$vo.bindingId.equals(""))
							AND A.BINDING_ID = :vo.bindingId
						#end
						
						AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					    AND B.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					    
					    UNION
					    
					    SELECT DISTINCT(A.DOC_ID), A.COMP_ID, A.TITLE, A.ATTACH_COUNT,  
							   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, A.DRAFTER_ID, A.DRAFTER_NAME, 
							   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 
							   A.URGENCY_YN, A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN,
							   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.UNREGIST_YN
							   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
						FROM TGW_APP_DOC A, TGW_APP_LINE B
						WHERE A.COMP_ID =  :vo.compId 
						AND A.DOC_ID = B.DOC_ID
						AND A.COMP_ID = B.COMP_ID	
						AND A.DRAFT_DATE	> TO_DATE('2000','YYYY')	/* TUNNING ADD JTH8172*/						
						AND A.DOC_STATE IN ( {{vo.docAppState}} )
						AND A.TRANSFER_YN = 'Y'
						AND B.APPROVER_DEPT_ID = :vo.deptId
						AND A.DRAFTER_DEPT_ID <> B.APPROVER_DEPT_ID
						AND B.ASK_TYPE IN ({{vo.askType2}})
						AND B.PROC_TYPE IN  ({{vo.procType}})
						AND A.DELETE_YN = 'N'
						AND B.TEMP_YN = 'N'
						AND A.ELECTRON_DOC_YN = 'Y'
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDeptName"))
								AND UPPER(A.DRAFTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')  
							#end 
						#end
						
						#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
							AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
						#end
						
						#if(!$vo.bindingId.equals(""))
							AND A.BINDING_ID = :vo.bindingId
						#end
						
						AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					    AND B.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				)
			  	ORDER BY DRAFT_DATE DESC, BATCH_DRAFT_NUMBER DESC     
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		
		<query id="list.listCategory">
			<statement>
			<![CDATA[
				SELECT CATEGORY_ID, 
				       FNC_GET_RESOURCE_NAME(:vo.compId, CATEGORY_NAME, :vo.langType) AS CATEGORY_NAME
				FROM TGW_CATEGORY
				WHERE COMP_ID = :vo.compId
				AND DELETE_YN IN ('N','T')
				ORDER BY CATEGORY_ORDER  
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.CategoryVO" />
		</query>
		
		
		
		<query id="list.listDocRegist">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, 
					   APPROVAL_DATE, ATTACH_COUNT, SENDER_COMP_NAME, RECV_DEPT_NAMES, RECV_DEPT_CNT, 
					   SENDER_ID, SENDER_NAME, ELECTRON_DOC_YN, URGENCY_YN, BATCH_DRAFT_NUMBER, ENF_TYPE, 
					   DRAFT_DATE, TRANSFER_YN, UNREGIST_YN, DRAFTER_ID, DRAFTER_NAME, DOC_STATE, DELETE_YN
					   	,SECURITY_PASS, SECURITY_YN, SECURITY_START_DATE, SECURITY_END_DATE
				FROM (  
				      
					#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D")) || (($vo.easyApprSearch.equals("Y") || $vo.easyApprSearch.equals("D")) && $vo.easyEnfSearch.equals("D")) )
					
						SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER,
							   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, 
							   '' SENDER_COMP_NAME, 
							   DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) RECV_DEPT_NAMES, 
							   LENGTH (B.RECEIVERS)- LENGTH (REPLACE (B.RECEIVERS, ',')) RECV_DEPT_CNT, '' SENDER_ID, '' SENDER_NAME,
							   A.ELECTRON_DOC_YN, A.URGENCY_YN, A.BATCH_DRAFT_NUMBER, A.ENF_TYPE
							   , TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.UNREGIST_YN,
							   A.DRAFTER_ID, A.DRAFTER_NAME, A.DOC_STATE, A.DELETE_YN
							   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE			   
						FROM TGW_APP_DOC A, TGW_SEND_INFO B, TGW_OWN_DEPT C 
						WHERE A.COMP_ID = :vo.compId 
						AND A.DOC_ID = B.DOC_ID(+)
						AND A.DOC_ID = C.DOC_ID
						AND A.COMP_ID = B.COMP_ID(+)
						AND A.COMP_ID = C.COMP_ID						
						AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
						AND C.OWN_DEPT_ID = :vo.deptId
						AND C.OWN_YN = 'Y' 
						
						#if (!$vo.docType.equals(""))
							AND A.DOC_TYPE = :vo.docType 
						#end
						
						
						
						#if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchRecvDeptName"))
								AND DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) LIKE '%' || :vo.searchWord || '%'
							#end 
						#end
						
						#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
							AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
						#end
						
						#if(!$vo.bindingId.equals(""))
							AND A.BINDING_ID = :vo.bindingId
						#end						
						
						#if($vo.mobileYn.equals("Y"))
							AND A.ELECTRON_DOC_YN = 'Y'
						#else
							#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end						
						#end
						
						#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
							AND A.ENF_TYPE = :vo.searchDetType
						#end
						
						#if(!$vo.searchApprovalName.equals("") 
							&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
						   )
							AND A.DOC_ID IN (
						                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
						                     WHERE A.DOC_ID = LINE.DOC_ID
						                     AND A.COMP_ID = LINE.COMP_ID
						                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
						                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
					                  	  )
						#end
						
						AND A.SERIAL_NUMBER > 0  				
						AND A.DELETE_YN = 'N'
						AND NVL(B.TEMP_YN, 'N') = 'N' 
						AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						AND C.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
					#end
					
					#if($vo.mobileYn.equals("N"))
					
						#if ( (($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )) || ($vo.easyApprSearch.equals("D") && $vo.easyEnfSearch.equals("D") ) )
							UNION ALL
						#end
						
						#if( ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D")) || (($vo.easyEnfSearch.equals("Y") || $vo.easyEnfSearch.equals("D")) && $vo.easyApprSearch.equals("D")) )
						
							SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, 
								   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT,
								   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME RECV_DEPT_NAMES, 0 RECV_DEPT_CNT, A.SENDER_ID, A.SENDER_NAME,
								   A.ELECTRON_DOC_YN, A.URGENCY_YN, 0 BATCH_DRAFT_NUMBER, A.ENF_TYPE 
								   , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.UNREGIST_YN,
								   A.ACCEPTER_ID DRAFTER_ID, A.ACCEPTER_NAME DRAFTER_NAME, A.DOC_STATE, A.DELETE_YN
								   , A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE				
							FROM TGW_ENF_DOC A, TGW_ENF_RECV B, TGW_OWN_DEPT C 
							
							WHERE B.RECV_COMP_ID = :vo.compId 
							AND A.DOC_ID = B.DOC_ID(+)
							AND A.DOC_ID = C.DOC_ID
							AND A.COMP_ID = B.COMP_ID(+)
							AND A.COMP_ID = C.COMP_ID							
							AND ( A.DOC_STATE IN  ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
							AND C.OWN_DEPT_ID = :vo.deptId 
							AND C.OWN_YN = 'Y' 
							
							#if (!$vo.docType.equals(""))
								AND A.DOC_TYPE = :vo.docType 
							#end
							 
							
							#if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchRecvDeptName"))
									AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
								#elseif ($vo.searchType.equals("searchSenderDocNumber"))
									AND A.DOC_NUMBER LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end						
							
							#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end						
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							AND A.DELETE_YN = 'N'							
							AND A.SERIAL_NUMBER > 0 
							AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND C.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
			  						  
			  			#end
		  						  
		  			#end
  				)
  				
				ORDER BY APPROVAL_DATE DESC, SERIAL_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listDocRegistToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
				
					SELECT DOC_ID, COMP_ID, TITLE, DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, 
						   APPROVAL_DATE, ATTACH_COUNT, SENDER_COMP_NAME, RECV_DEPT_NAMES, RECV_DEPT_CNT, 
						   SENDER_ID, SENDER_NAME, ELECTRON_DOC_YN, URGENCY_YN, BATCH_DRAFT_NUMBER, ENF_TYPE, DRAFT_DATE, TRANSFER_YN 
					FROM (  
					      
						#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
						
							SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER,
								   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, 
								   '' SENDER_COMP_NAME, 
								   DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) RECV_DEPT_NAMES, 
								   LENGTH (B.RECEIVERS)- LENGTH (REPLACE (B.RECEIVERS, ',')) RECV_DEPT_CNT, '' SENDER_ID, '' SENDER_NAME,
								   A.ELECTRON_DOC_YN, A.URGENCY_YN, A.BATCH_DRAFT_NUMBER, A.ENF_TYPE
								   , TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN					   
							FROM TGW_APP_DOC A, TGW_SEND_INFO B, TGW_OWN_DEPT C 
							WHERE A.COMP_ID = :vo.compId 
							AND A.DOC_ID = B.DOC_ID(+)
							AND A.DOC_ID = C.DOC_ID
							AND A.COMP_ID = B.COMP_ID(+)
							AND A.COMP_ID = C.COMP_ID						
							AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
							AND C.OWN_DEPT_ID = :vo.deptId
							AND C.OWN_YN = 'Y' 
							
							#if (!$vo.docType.equals(""))
								AND A.DOC_TYPE = :vo.docType 
							#end
							
							
							
							#if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchRecvDeptName"))
									AND DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end						
							
							#if($vo.mobileYn.equals("Y"))
								AND A.ELECTRON_DOC_YN = 'Y'
							#else
								#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end						
							#end
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							AND A.SERIAL_NUMBER > 0  				
							AND A.DELETE_YN = 'N'
							AND NVL(B.TEMP_YN, 'N') = 'N' 
							AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND C.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
						#end
						
						#if($vo.mobileYn.equals("N"))
						
							#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
								UNION ALL
							#end
							
							#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
							
								SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, 
									   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT,
									   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME RECV_DEPT_NAMES, 0 RECV_DEPT_CNT, A.SENDER_ID, A.SENDER_NAME,
									   A.ELECTRON_DOC_YN, A.URGENCY_YN, 0 BATCH_DRAFT_NUMBER, A.ENF_TYPE 
									   , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN					
								FROM TGW_ENF_DOC A, TGW_ENF_RECV B, TGW_OWN_DEPT C 
								
								WHERE B.RECV_COMP_ID = :vo.compId 
								AND A.DOC_ID = B.DOC_ID(+)
								AND A.DOC_ID = C.DOC_ID
								AND A.COMP_ID = B.COMP_ID(+)
								AND A.COMP_ID = C.COMP_ID							
								AND ( A.DOC_STATE IN  ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
								AND C.OWN_DEPT_ID = :vo.deptId 
								AND C.OWN_YN = 'Y' 
								
								#if (!$vo.docType.equals(""))
									AND A.DOC_TYPE = :vo.docType 
								#end
								 
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchRecvDeptName"))
										AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
								#end						
								
								#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end						
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
									AND A.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
								#end
								
								AND A.DELETE_YN = 'N'							
								AND A.SERIAL_NUMBER > 0 
								AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND C.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
				  						  
				  			#end
			  						  
			  			#end
	  				)
	  				
					ORDER BY APPROVAL_DATE DESC, SERIAL_NUMBER DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.docRegistCount">
			<statement>
			<![CDATA[

				SELECT COUNT(1) CNT FROM 
					(
					SELECT * FROM 
					( 
				      
						#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
						
							SELECT A.DOC_ID				   
							FROM TGW_APP_DOC A, TGW_SEND_INFO B, TGW_OWN_DEPT C 
							WHERE A.COMP_ID = :vo.compId 
							AND A.DOC_ID = B.DOC_ID(+)
							AND A.DOC_ID = C.DOC_ID
							AND A.COMP_ID = B.COMP_ID(+)
							AND A.COMP_ID = C.COMP_ID						
							AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
							AND C.OWN_DEPT_ID = :vo.deptId
							AND C.OWN_YN = 'Y' 
							
							#if (!$vo.docType.equals(""))
								AND A.DOC_TYPE = :vo.docType 
							#end
							
							
							
							#if (!$vo.searchType.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchRecvDeptName"))
									AND DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) LIKE '%' || :vo.searchWord || '%'
								#end 
							#end
							
							#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							#end
							
							#if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
							#end						
							
							#if($vo.mobileYn.equals("Y"))
								AND A.ELECTRON_DOC_YN = 'Y'
							#else
								#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end						
							#end
							
							#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
							#end
							
							#if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
							#end
							
							AND A.SERIAL_NUMBER > 0  				
							AND A.DELETE_YN = 'N'
							AND NVL(B.TEMP_YN, 'N') = 'N' 
							AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							AND C.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
						#end
						
						#if($vo.mobileYn.equals("N"))
						
							#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
								UNION ALL
							#end
							
							#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
							
								SELECT A.DOC_ID				
								FROM TGW_ENF_DOC A, TGW_ENF_RECV B, TGW_OWN_DEPT C 
								
								WHERE B.RECV_COMP_ID = :vo.compId 
								AND A.DOC_ID = B.DOC_ID(+)
								AND A.DOC_ID = C.DOC_ID
								AND A.COMP_ID = B.COMP_ID(+)
								AND A.COMP_ID = C.COMP_ID							
								AND ( A.DOC_STATE IN  ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
								AND C.OWN_DEPT_ID = :vo.deptId 
								AND C.OWN_YN = 'Y' 
								
								#if (!$vo.docType.equals(""))
									AND A.DOC_TYPE = :vo.docType 
								#end
								 
								
								#if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchRecvDeptName"))
										AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
									#end 
								#end
								
								#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								#end
								
								#if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
								#end						
								
								#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
								#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
								#end						
								
								#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
								#end
								
								#if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
									AND A.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
								#end
								
								AND A.DELETE_YN = 'N'							
								AND A.SERIAL_NUMBER > 0 
								AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								AND C.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							
				  						  
				  			#end
			  						  
			  			#end
  					)
  				)
				
			]]>
			</statement>
		</query>
		
		<query id="list.listRowRankDocRegist">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, DRAFT_DATE,  
				       DRAFTER_ID, DRAFTER_NAME, URGENCY_YN, ELECTRON_DOC_YN, BATCH_DRAFT_NUMBER, TRANSFER_YN,
				       BINDING_ID, BINDING_NAME 
				FROM (        
					SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, 
						   A.SUBSERIAL_NUMBER, 
						   TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.DRAFTER_ID, A.DRAFTER_NAME, A.URGENCY_YN, 
						   A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN, A.BINDING_ID, A.BINDING_NAME
						   
					FROM TGW_APP_DOC A, TGW_OWN_DEPT B  
	    				 
					WHERE A.COMP_ID = :vo.compId
					AND A.DOC_ID = B.DOC_ID
					AND A.COMP_ID = B.COMP_ID					
					AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
					AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
					AND B.OWN_YN = 'Y' 
					
					#if (!$vo.searchType.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDrafter"))
							AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchDeptName"))
							AND UPPER(A.DRAFTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDocNumber"))
							AND A.DEPT_CATEGORY ||'-'||	A.SERIAL_NUMBER LIKE '%' || :vo.searchWord || '%' 					
						#end 
					#end					
					
					AND A.SERIAL_NUMBER > 0 	
					AND A.DELETE_YN = 'N'
					AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
					#if ($vo.docType.equals("ALL"))
						UNION
						
						SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, 
							   A.SUBSERIAL_NUMBER, 
							   TO_CHAR(A.RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE, A.ACCEPTER_ID, A.ACCEPTER_NAME, A.URGENCY_YN, 
							   A.ELECTRON_DOC_YN, 0 BATCH_DRAFT_NUMBER, A.TRANSFER_YN, A.BINDING_ID, A.BINDING_NAME 
						FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
						
						WHERE B.COMP_ID = :vo.compId 
						AND A.DOC_ID = B.DOC_ID
						AND A.COMP_ID = B.COMP_ID
						AND ( A.DOC_STATE IN  ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
						AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
						AND B.OWN_YN = 'Y'  		 
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchDeptName"))
								AND UPPER(A.ACCEPT_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDocNumber"))
								AND A.DEPT_CATEGORY ||'-'||	A.SERIAL_NUMBER LIKE '%' || :vo.searchWord || '%'	
							#end 
						#end
						
						AND A.SERIAL_NUMBER > 0
						AND A.DELETE_YN = 'N'
						AND A.RECEIVE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
					#end 
					
  				)
  				
				ORDER BY DRAFT_DATE DESC, BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listRelationDocRegist">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, APPROVAL_DATE,  
				       DRAFTER_ID, DRAFTER_NAME, URGENCY_YN, ELECTRON_DOC_YN, BATCH_DRAFT_NUMBER, TRANSFER_YN 
				FROM (        
					SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER,
						   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.DRAFTER_ID, A.DRAFTER_NAME, 
						   A.URGENCY_YN, A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER, A.TRANSFER_YN 
						   
					FROM TGW_APP_DOC A, TGW_OWN_DEPT B  
	    				 
					WHERE A.COMP_ID = :vo.compId 
					AND A.DOC_ID = B.DOC_ID
					AND A.COMP_ID = B.COMP_ID
					AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
					AND B.OWN_DEPT_ID IN ( :vo.deptId )
					AND B.OWN_YN = 'Y' 					
					
					#if (!$vo.searchType.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDrafter"))
							AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
						#end 
					#end					
					
					AND A.DELETE_YN = 'N'
					AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
					UNION
					
					SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, 
						   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.ACCEPTER_ID, A.ACCEPTER_NAME, 
						   A.URGENCY_YN, A.ELECTRON_DOC_YN, 0 BATCH_DRAFT_NUMBER, A.TRANSFER_YN 
					FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
					
					WHERE B.COMP_ID = :vo.compId 
					AND A.DOC_ID = B.DOC_ID
					AND A.COMP_ID = B.COMP_ID					
					AND ( A.DOC_STATE IN  ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
					AND B.OWN_DEPT_ID IN ( :vo.deptId )
					AND B.OWN_YN = 'Y' 
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchDrafter"))
							AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
						#end 
					#end
					
					AND A.DELETE_YN = 'N'
					AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
  				)
  				
				ORDER BY APPROVAL_DATE DESC, BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listNoDocRegist">
			<statement>
			<![CDATA[
				SELECT DOC_ID, COMP_ID, TITLE, DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, 
					   APPROVAL_DATE, ATTACH_COUNT, SENDER_COMP_NAME, RECV_DEPT_NAMES, RECV_DEPT_CNT, 
					   SENDER_ID, SENDER_NAME, ELECTRON_DOC_YN, URGENCY_YN, BATCH_DRAFT_NUMBER, ENF_TYPE, 
					   DRAFT_DATE, TRANSFER_YN, UNREGIST_YN 
				FROM (  
				      
					#if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
					
						SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER,
							   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT, 
							   '' SENDER_COMP_NAME, 
							   DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) RECV_DEPT_NAMES, 
							   LENGTH (B.RECEIVERS)- LENGTH (REPLACE (B.RECEIVERS, ',')) RECV_DEPT_CNT, '' SENDER_ID, '' SENDER_NAME,
							   A.ELECTRON_DOC_YN, A.URGENCY_YN, A.BATCH_DRAFT_NUMBER, A.ENF_TYPE
							   , TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.UNREGIST_YN					   
						FROM TGW_APP_DOC A, TGW_SEND_INFO B, TGW_OWN_DEPT C 
						WHERE A.COMP_ID = :vo.compId 
						AND A.DOC_ID = B.DOC_ID(+)
						AND A.DOC_ID = C.DOC_ID
						AND A.COMP_ID = B.COMP_ID(+)
						AND A.COMP_ID = C.COMP_ID						
						AND ( A.DOC_STATE IN ( {{vo.docAppState}} ) OR A.TRANSFER_YN = 'Y' )
						AND C.OWN_DEPT_ID = :vo.deptId
						AND C.OWN_YN = 'Y' 
						
						#if (!$vo.docType.equals(""))
							AND A.DOC_TYPE = :vo.docType 
						#end
						
						
						
						#if (!$vo.searchType.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchRecvDeptName"))
								AND DECODE( B.DISPLAY_NAME_YN, 'Y', B.RECEIVERS, NVL(SUBSTR(B.RECEIVERS,1,INSTR(SUBSTR(B.RECEIVERS,1),',')-1),SUBSTR(B.RECEIVERS,1)) ) LIKE '%' || :vo.searchWord || '%'
							#end 
						#end
						
						#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
							AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
						#end
						
						#if(!$vo.bindingId.equals(""))
							AND A.BINDING_ID = :vo.bindingId
						#end						
						
						#if($vo.mobileYn.equals("Y"))
							AND A.ELECTRON_DOC_YN = 'Y'
						#else
							#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
							#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
							#end						
						#end
						
						#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
							AND A.ENF_TYPE = :vo.searchDetType
						#end
						
						#if(!$vo.searchApprovalName.equals("") 
							&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
						   )
							AND A.DOC_ID IN (
						                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
						                     WHERE A.DOC_ID = LINE.DOC_ID
						                     AND A.COMP_ID = LINE.COMP_ID
						                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
						                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
					                  	  )
						#end
						
						AND A.SERIAL_NUMBER = 0  				
						AND A.DELETE_YN = 'N'
						AND NVL(B.TEMP_YN, 'N') = 'N' 
						AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						AND C.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						
					#end
					
					#if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
						UNION ALL
					#end
					
					#if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
					
						SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, 
							   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.ATTACH_COUNT,
							   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME RECV_DEPT_NAMES, 0 RECV_DEPT_CNT, A.SENDER_ID, A.SENDER_NAME,
							   A.ELECTRON_DOC_YN, A.URGENCY_YN, 0 BATCH_DRAFT_NUMBER, A.ENF_TYPE 
							   , TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, A.TRANSFER_YN, A.UNREGIST_YN					
						FROM TGW_ENF_DOC A, TGW_ENF_RECV B, TGW_OWN_DEPT C 
						
						WHERE B.RECV_COMP_ID = :vo.compId 
						AND A.DOC_ID = B.DOC_ID(+)
						AND A.DOC_ID = C.DOC_ID
						AND A.COMP_ID = B.COMP_ID(+)
						AND A.COMP_ID = C.COMP_ID							
						AND ( A.DOC_STATE IN  ( {{vo.docEnfState}} ) OR A.TRANSFER_YN = 'Y' )
						AND C.OWN_DEPT_ID = :vo.deptId 
						AND C.OWN_YN = 'Y' 
						
						#if (!$vo.docType.equals(""))
							AND A.DOC_TYPE = :vo.docType 
						#end
						 
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchRecvDeptName"))
								AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
							#end 
						#end
						
						#if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
							AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
						#end
						
						#if(!$vo.bindingId.equals(""))
							AND A.BINDING_ID = :vo.bindingId
						#end						
						
						#if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
							AND A.ELECTRON_DOC_YN = 'Y'
						#elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
							AND A.ELECTRON_DOC_YN = 'N'
						#end						
						
						#if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
							AND A.ENF_TYPE = :vo.searchDetType
						#end
						
						#if(!$vo.searchApprovalName.equals("") 
							&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") || !$vo.searchApprTypeEtc.equals("") ) 
						   )
							AND A.DOC_ID IN (
						                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
						                     WHERE A.DOC_ID = LINE.DOC_ID
						                     AND A.COMP_ID = LINE.COMP_ID
						                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
						                     AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
					                  	  )
						#end
						
						AND A.DELETE_YN = 'N'							
						AND A.SERIAL_NUMBER = 0 
						AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						AND C.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
		  						  
		  			#end

  				)
  				
				ORDER BY APPROVAL_DATE DESC, SERIAL_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listDistributionRegist">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DISTRIBUTE_NUMBER,    
					   SENDER_COMP_NAME, SENDER_DEPT_NAME, ACCEPTER_ID, ACCEPTER_NAME,
					   ACCEPT_DEPT_ID, ACCEPT_DEPT_NAME, TO_CHAR(DISTRIBUTE_DATE, 'yyyy-mm-dd hh24:mi:ss') DISTRIBUTE_DATE, 
					   ELECTRON_DOC_YN, URGENCY_YN, TRANSFER_YN, DELETE_YN 
				FROM (
					SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DISTRIBUTE_NUMBER,    
						   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME, A.ACCEPTER_ID, A.ACCEPTER_NAME,
						   A.ACCEPT_DEPT_ID, A.ACCEPT_DEPT_NAME, A.DISTRIBUTE_DATE, 
						   A.ELECTRON_DOC_YN, A.URGENCY_YN, A.TRANSFER_YN, A.DELETE_YN,
						   ROW_NUMBER() OVER (PARTITION BY A.DISTRIBUTE_NUMBER ORDER BY A.ACCEPT_DATE) ACCEPT_ORDER
					FROM TGW_ENF_DOC A, TGW_ENF_RECV B 
					WHERE A.COMP_ID = B.COMP_ID AND A.DOC_ID = B.DOC_ID
			 		AND A.DISTRIBUTE_YN IN ('Y', 'YY')
			 		AND A.RECEIVE_DATE > TO_DATE('2000','YYYY')
			 		AND A.DISTRIBUTE_DATE != TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss') 
			 		AND A.DISTRIBUTE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss') 
					AND B.RECV_COMP_ID = :vo.compId
					AND B.ENF_TYPE IN ( {{vo.enfType}} )
					AND B.RECV_DEPT_ID = :vo.deptId
					AND B.REGIST_DATE > TO_DATE('2000','YYYY')
					AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
	
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchRecvName"))
							AND  A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%' 
						#end 
					#end
	
					ORDER BY A.DISTRIBUTE_DATE DESC
				) WHERE ACCEPT_ORDER = 1 
				
			]]>
			</statement>
			<result class="com.sds.acube.app.enforce.vo.EnfDocVO" />
		</query>
		
		<query id="list.listStampSealRegist">
			<statement>
			<![CDATA[
					
				SELECT STAMP_ID, DOC_ID, COMP_ID, TITLE, REQUESTER_ID, REQUESTER_NAME,
					   REQUESTER_DEPT_ID, REQUESTER_DEPT_NAME, DOC_NUMBER, SEAL_NUMBER, 
					   TO_CHAR(SEAL_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_DATE, ELECTRON_DOC_YN,
					   NVL(SUBSTR(RECEIVER,1,INSTR(SUBSTR(RECEIVER,1),',')-1),SUBSTR(RECEIVER,1)) RECEIVER_FRONT, 
					   LENGTH (RECEIVER)- LENGTH (REPLACE (RECEIVER, ',')) RECEIVER_CNT, DELETE_YN  
					   ,SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
				FROM TGW_STAMP_LIST
				WHERE COMP_ID = :vo.compId
				AND OWN_DEPT_ID = :vo.deptId
				AND SEAL_TYPE = :vo.sealType
				AND STAMP_ID > ' '	/* TUNNING ADD JTH8172*/
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchRequestDeptName"))
						AND UPPER(REQUESTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchRequestName"))
						AND REQUESTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchDocNumber"))
						AND DOC_NUMBER LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				AND SEAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
					
				ORDER BY SEAL_PROC_DATE DESC, REGIST_DATE DESC  
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.StampListVO" />
		</query>
		
		<query id="list.listSealRegist">
			<statement>
			<![CDATA[
				#if($vo.sealRegistExdYn.equals("N") )
					
					SELECT STAMP_ID, DOC_ID, COMP_ID, TITLE, REQUESTER_ID, REQUESTER_NAME,
					   REQUESTER_DEPT_ID, REQUESTER_DEPT_NAME, DOC_NUMBER, SEAL_NUMBER, 
					   TO_CHAR(SEAL_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_DATE, ELECTRON_DOC_YN,
					   NVL(SUBSTR(RECEIVER,1,INSTR(SUBSTR(RECEIVER,1),',')-1),SUBSTR(RECEIVER,1)) RECEIVER_FRONT, 
					   LENGTH (RECEIVER)- LENGTH (REPLACE (RECEIVER, ',')) RECEIVER_CNT, DELETE_YN,
					   TO_CHAR(SEAL_PROC_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_PROC_DATE 
					  , SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
					FROM TGW_STAMP_LIST
					WHERE COMP_ID = :vo.compId
					
					#if(!$vo.userId.equals(""))
						AND REGISTER_DEPT_ID = :vo.deptId
					#else
						AND REGISTER_DEPT_ID IN ( {{vo.deptId}} )
					#end
					
					AND SEAL_TYPE = :vo.sealType
					AND STAMP_ID > ' '	/* TUNNING ADD JTH8172*/				
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchRequestDeptName"))
							AND UPPER(REQUESTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchRequestName"))
							AND REQUESTER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchDocNumber"))
							AND DOC_NUMBER LIKE '%' || :vo.searchWord || '%'
						#end 
					#end
					
					AND SEAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
					ORDER BY SEAL_PROC_DATE DESC
					
				#else
				
					SELECT STAMP_ID, DOC_ID, COMP_ID, TITLE, REQUESTER_ID, REQUESTER_NAME,
						   REQUESTER_DEPT_ID, REQUESTER_DEPT_NAME, DOC_NUMBER, SEAL_NUMBER, 
						   TO_CHAR(SEAL_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_DATE, ELECTRON_DOC_YN,
						   NVL(SUBSTR(RECEIVER,1,INSTR(SUBSTR(RECEIVER,1),',')-1),SUBSTR(RECEIVER,1)) RECEIVER_FRONT, 
						   LENGTH (RECEIVER)- LENGTH (REPLACE (RECEIVER, ',')) RECEIVER_CNT, DELETE_YN,
						   TO_CHAR(SEAL_PROC_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_PROC_DATE 
						   , SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       	   TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
					FROM TGW_STAMP_LIST
					WHERE COMP_ID = :vo.compId
					
					#if(!$vo.userId.equals(""))
						AND REGISTER_DEPT_ID = :vo.deptId
					#else
						AND REGISTER_DEPT_ID IN ( {{vo.deptId}} )
					#end
					
					AND SEAL_TYPE = :vo.sealType
					AND STAMP_ID > ' '	/* TUNNING ADD JTH8172*/				
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchRequestDeptName"))
							AND UPPER(REQUESTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchRequestName"))
							AND REQUESTER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchDocNumber"))
							AND DOC_NUMBER LIKE '%' || :vo.searchWord || '%'
						#end 
					#end
					
					AND ELECTRON_DOC_YN = 'N' 
					AND SEAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
					UNION 
					
					SELECT STAMP_ID, DOC_ID, COMP_ID, TITLE, REQUESTER_ID, REQUESTER_NAME,
						   REQUESTER_DEPT_ID, REQUESTER_DEPT_NAME, DOC_NUMBER, SEAL_NUMBER, 
						   TO_CHAR(SEAL_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_DATE, ELECTRON_DOC_YN,
						   NVL(SUBSTR(RECEIVER,1,INSTR(SUBSTR(RECEIVER,1),',')-1),SUBSTR(RECEIVER,1)) RECEIVER_FRONT, 
						   LENGTH (RECEIVER)- LENGTH (REPLACE (RECEIVER, ',')) RECEIVER_CNT, DELETE_YN,
						   TO_CHAR(SEAL_PROC_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_PROC_DATE  
						   , SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       	    TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
					FROM TGW_STAMP_LIST
					WHERE COMP_ID = :vo.compId
					
					#if(!$vo.userId.equals(""))
						AND REQUESTER_DEPT_ID = :vo.deptId
					#else
						AND REQUESTER_DEPT_ID IN ( {{vo.deptId}} )
					#end
					
					AND SEAL_TYPE = :vo.sealType
					AND STAMP_ID > ' '	/* TUNNING ADD JTH8172*/				
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchRequestDeptName"))
							AND UPPER(REQUESTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchRequestName"))
							AND REQUESTER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchDocNumber"))
							AND DOC_NUMBER LIKE '%' || :vo.searchWord || '%'
						#end 
					#end
					
					AND ELECTRON_DOC_YN = 'Y' 
					AND SEAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					
					
					ORDER BY SEAL_PROC_DATE DESC
					
				#end
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.StampListVO" />
		</query>
		
		
		<query id="list.listDailyAuditRegist">
			<statement>
			<![CDATA[
					SELECT
						   A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME,
						   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
						   A.DEPT_CATEGORY, SERIAL_NUMBER, A.SUBSERIAL_NUMBER,
						   A.APPROVER_ID, A.APPROVER_NAME,
						   A.APPROVAL_DATE, A.URGENCY_YN, A.BATCH_DRAFT_NUMBER,
						   A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.DRAFT_DATE
						   , CASE WHEN SUM(A.AUDIT_DIVISION) > 2 THEN  'before'
						          WHEN SUM(A.AUDIT_DIVISION) > 1 THEN 'after'
						          ELSE 'before' END AUDIT_DIVISION
						   , A.SECURITY_PASS, A.SECURITY_YN, A.SECURITY_START_DATE, A.SECURITY_END_DATE
					FROM (
	
						SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME,
							   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
							   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER,
							   A.APPROVER_ID, A.APPROVER_NAME, 
							   TO_CHAR(A.APPROVAL_DATE, 'yyyy-mm-dd hh24:mi:ss') APPROVAL_DATE, A.URGENCY_YN, A.BATCH_DRAFT_NUMBER, 
							   A.TRANSFER_YN, A.ELECTRON_DOC_YN, TO_CHAR(A.DRAFT_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE, 2 AUDIT_DIVISION
							   ,A.SECURITY_PASS, A.SECURITY_YN, TO_CHAR(A.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       		   TO_CHAR(A.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
						FROM TGW_APP_DOC A 
						WHERE A.COMP_ID = :vo.compId				
						
						#if (!$vo.docType.equals(""))
							AND A.DOC_TYPE = :vo.docType 
						#end
						
						#if (!$vo.searchWord.equals(""))
							#if ($vo.searchType.equals("searchTitle"))
								AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
							#elseif ($vo.searchType.equals("searchDrafter"))
								AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
							#elseif ($vo.searchType.equals("searchApproval"))
								AND A.APPROVER_NAME LIKE '%' || :vo.searchWord || '%'
							#end 
						#end
										
						AND A.DELETE_YN = 'N'
						AND A.DRAFT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss') 
						AND A.DOC_ID IN (
												SELECT LINE.DOC_ID	
									              FROM TGW_APP_LINE LINE		
									             WHERE LINE.COMP_ID = :vo.compId	
									               AND LINE.TEMP_YN = 'N'
									               AND LINE.APPROVER_ROLE LIKE '%' || :vo.approverAddRole || '%'
										       	   AND LINE.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss')  AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							)			       	   
					) A
					GROUP BY A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME,
						   A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME,
						   A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER,
						   A.APPROVER_ID, A.APPROVER_NAME,
						   A.APPROVAL_DATE, A.URGENCY_YN, A.BATCH_DRAFT_NUMBER,
						   A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.DRAFT_DATE
						   ,A.SECURITY_PASS, A.SECURITY_YN, A.SECURITY_START_DATE, A.SECURITY_END_DATE
				
				ORDER BY DRAFT_DATE DESC, BATCH_DRAFT_NUMBER DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>		
		
		<query id="list.listDailyAudit">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, AUDIT_NUMBER, TO_CHAR(RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE,   
					   CHARGE_DEPT_ID, CHARGE_DEPT_NAME, APPROVER_TYPE, ELECTRON_DOC_YN, APPROVER_POS,
					   ASK_TYPE, PROC_TYPE,
					   DECODE(ELECTRON_DOC_YN, 'Y', (
					   	SELECT DELETE_YN FROM TGW_APP_DOC WHERE COMP_ID = :vo.compId AND DOC_ID = A.DOC_ID
					   ), 'N', DELETE_YN) DELETE_YN,
					   (
					       SELECT DOC_STATE FROM TGW_APP_DOC WHERE COMP_ID = :vo.compId AND DOC_ID = A.DOC_ID
					   )  DOC_STATE, SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE  
				FROM TGW_AUDIT_LIST A
				WHERE COMP_ID = :vo.compId
				AND REGISTER_DEPT_ID IN ( {{vo.deptId}} )
				
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchApproverType"))
						AND APPROVER_TYPE LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchChargeDeptName"))
						AND UPPER(CHARGE_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#end 
				#end
				
				#if(!$vo.searchApprTypeList.equals("") && $vo.searchAuditOpt009.equals("Y"))
					AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
				#end
				
				#if(!$vo.searchApprTypeList.equals("") && ($vo.searchAuditOpt021.equals("Y") || $vo.searchAuditOpt022.equals("Y") || $vo.searchAuditOpt023.equals("Y") ))
					AND A.DOC_ID IN (
										SELECT MAX(LINE.DOC_ID) 
										FROM TGW_APP_LINE LINE
										WHERE LINE.COMP_ID = :vo.compId
										AND LINE.DOC_ID = A.DOC_ID
										AND LINE.TEMP_YN = 'N'
										AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
									)
				#end
				
				AND REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				ORDER BY REGIST_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.AuditListVO" />
		</query>
		
		<query id="list.listAuditSealRegist">
			<statement>
			<![CDATA[

				SELECT STAMP_ID, DOC_ID, COMP_ID, TITLE, REQUESTER_ID, REQUESTER_NAME,
					   REQUESTER_DEPT_ID, REQUESTER_DEPT_NAME, DOC_NUMBER, SEAL_NUMBER, 
					   TO_CHAR(SEAL_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_DATE, ELECTRON_DOC_YN, DELETE_YN, SENDER, RECEIVER,
					   NVL(SUBSTR(RECEIVER,1,INSTR(SUBSTR(RECEIVER,1),',')-1),SUBSTR(RECEIVER,1)) RECEIVER_FRONT, 
					   LENGTH (RECEIVER)- LENGTH (REPLACE (RECEIVER, ',')) RECEIVER_CNT
				FROM TGW_STAMP_LIST
				WHERE COMP_ID = :vo.compId
				AND REGISTER_DEPT_ID IN ( {{vo.deptId}} )
				AND SEAL_TYPE = :vo.sealType	
				AND STAMP_ID > ' ' 		/* TUNNING ADD JTH8172*/				
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchSender"))
						AND SENDER LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchReceiver"))
						AND RECEIVER LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchRequester"))
						AND REQUESTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchDocNumber"))
						AND DOC_NUMBER LIKE '%' || :vo.searchWord || '%'	
					#end 
				#end
				
				AND SEAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY SEAL_PROC_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.StampListVO" />
		</query>
		
		<query id="list.listAuditSealRegistDetailSearch">
			<statement>
			<![CDATA[
				     
				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DEPT_CATEGORY, A.SERIAL_NUMBER, 
					   A.SUBSERIAL_NUMBER, A.DRAFTER_ID, A.DRAFTER_NAME, A.URGENCY_YN, 
					   A.ELECTRON_DOC_YN, A.BATCH_DRAFT_NUMBER,
					   C.RECEIVERS RECV_DEPT_NAMES, C.SENDER_TITLE, A.TRANSFER_YN 
					   
				FROM TGW_APP_DOC A, TGW_OWN_DEPT B, TGW_SEND_INFO C  
    				 
				WHERE A.COMP_ID = :vo.compId 
				AND A.DOC_ID = B.DOC_ID				
				AND A.DOC_ID = C.DOC_ID
				AND A.COMP_ID = B.COMP_ID
				AND A.COMP_ID = C.COMP_ID				
				AND A.DOC_STATE IN ( {{vo.docAppState}} )
				AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
				AND B.OWN_YN = 'Y' 
				
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#end 
				#end	
								
				AND A.DELETE_YN = 'N'
				AND C.TEMP_YN = 'N' 
				AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY A.APPROVAL_DATE DESC, A.SERIAL_NUMBER DESC, A.DEPT_CATEGORY DESC, A.BATCH_DRAFT_NUMBER DESC
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id= "list.insertStampSeal">
			<statement>
			<![CDATA[
				INSERT INTO  TGW_STAMP_LIST 
				(
					  STAMP_ID
					, COMP_ID
					, DOC_ID
					, TITLE
					, DOC_NUMBER
					, ELECTRON_DOC_YN
					, SEALER_ID
					, SEALER_NAME
					, SEALER_POS
					, PROXY_SEALER_ID
					, PROXY_SEALER_NAME
					, PROXY_SEALER_POS
					, SEAL_DEPT_ID
					, SEAL_DEPT_NAME
					, SEAL_DATE
					, SEAL_TYPE
					, SEAL_NUMBER
					, ENFORCE_DATE
					, REQUESTER_ID
					, REQUESTER_NAME
					, REQUESTER_POS
					, REQUESTER_DEPT_ID
					, REQUESTER_DEPT_NAME
					, REQUEST_DATE
					, SENDER
					, RECEIVER
					, REGISTER_ID
					, REGISTER_NAME
					, REGIST_DATE
					, REMARK
					, REGISTER_DEPT_ID
					, REGISTER_DEPT_NAME
					, DELETE_YN
					, OWN_DEPT_ID
					, OWN_DEPT_NAME
					, SEAL_PROC_DATE				
				) VALUES (
					 :vo.stampId
					,:vo.compId
					,:vo.docId
					,:vo.title
					,:vo.docNumber
					,:vo.electronDocYn
					,:vo.sealerId
					,:vo.sealerName
					,:vo.sealerPos
					,:vo.proxySealerId
					,:vo.proxySealerName
					,:vo.proxySealerPos
					,:vo.sealDeptId
					,:vo.sealDeptName
					,TO_DATE(:vo.sealDate, 'YYYY-MM-DD hh24:mi:ss')
					,:vo.sealType
					,:vo.sealNumber
					,TO_DATE(:vo.enforceDate, 'YYYY-MM-DD hh24:mi:ss')
					,:vo.requesterId
					,:vo.requesterName
					,:vo.requesterPos
					,:vo.requesterDeptId
					,:vo.requesterDeptName
					,TO_DATE(:vo.requestDate, 'YYYY-MM-DD hh24:mi:ss')
					,:vo.sender
					,:vo.receiver
					,:vo.registerId
					,:vo.registerName
					,TO_DATE(:vo.registDate, 'YYYY-MM-DD hh24:mi:ss')
					,:vo.remark
					,:vo.registerDeptId
					,:vo.registerDeptName
					,:vo.deleteYn
					,:vo.ownDeptId
					,:vo.ownDeptName
					,TO_DATE(:vo.sealProcDate, 'YYYY-MM-DD hh24:mi:ss')
				)
			]]>
			</statement>
		</query>
		
		<query id="list.slectStampList">
			<statement>
			<![CDATA[
				SELECT 
					  STAMP_ID
					, COMP_ID
					, DOC_ID
					, TITLE
					, DOC_NUMBER
					, ELECTRON_DOC_YN
					, SEALER_ID
					, SEALER_NAME
					, SEALER_POS
					, SEAL_DEPT_ID
					, SEAL_DEPT_NAME
					, TO_CHAR(SEAL_DATE, 'YYYY-MM-DD HH24:MI:SS') SEAL_DATE
					, SEAL_TYPE
					, SEAL_NUMBER
					, TO_CHAR(ENFORCE_DATE, 'YYYY-MM-DD HH24:MI:SS') ENFORCE_DATE
					, REQUESTER_ID
					, REQUESTER_NAME
					, REQUESTER_POS
					, REQUESTER_DEPT_ID
					, REQUESTER_DEPT_NAME
					, TO_CHAR(REQUEST_DATE, 'YYYY-MM-DD HH24:MI:SS') REQUEST_DATE
					, SENDER
					, RECEIVER
					, REGISTER_ID
					, REGISTER_NAME
					, REGIST_DATE
					, REMARK
					, REGISTER_DEPT_ID
					, REGISTER_DEPT_NAME
				FROM TGW_STAMP_LIST
				WHERE STAMP_ID 	= :stampId
				  AND COMP_ID 	= :compId
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.StampListVO" />
		</query>
		
		<query id= "list.updateStampSeal">
			<statement>
				UPDATE TGW_STAMP_LIST
				  SET TITLE				  = :vo.title
					, DOC_NUMBER          = :vo.docNumber
					, SEALER_ID           = :vo.sealerId
					, SEALER_NAME         = :vo.sealerName
					, SEALER_POS          = :vo.sealerPos
					, SEAL_DEPT_ID        = :vo.sealDeptId
					, SEAL_DEPT_NAME      = :vo.sealDeptName
					, SEAL_DATE           = TO_DATE(:vo.sealDate,'YYYY-MM-DD HH24:MI:SS')
					, REQUESTER_ID        = :vo.requesterId
					, REQUESTER_NAME      = :vo.requesterName
					, REQUESTER_POS       = :vo.requesterPos
					, REQUESTER_DEPT_ID   = :vo.requesterDeptId
					, REQUESTER_DEPT_NAME = :vo.requesterDeptName
					, REQUEST_DATE        = TO_DATE(:vo.requestDate,'YYYY-MM-DD HH24:MI:SS')
					, SENDER              = :vo.sender
					, RECEIVER            = :vo.receiver
					, REMARK              = :vo.remark
					, ENFORCE_DATE		  = TO_DATE(:vo.enforceDate,'YYYY-MM-DD HH24:MI:SS')
				WHERE STAMP_ID 	= :vo.stampId
				  AND COMP_ID 	= :vo.compId
			</statement>
		</query>
		
		<query id= "list.deleteStampSeal">
			<statement>
				UPDATE TGW_STAMP_LIST
				   SET DELETE_YN = 'Y'
				WHERE STAMP_ID = :vo.stampId AND COMP_ID	= :vo.compId			
			</statement>
		</query>
		
		<query id= "list.deleteStampSealByUnregist">
			<statement>
				UPDATE TGW_STAMP_LIST
				SET
					DELETE_YN = 'Y'
				WHERE COMP_ID = :compId AND DOC_ID = :docId
			</statement>
		</query>
		
		<query id= "list.undeleteStampSealByReregist">
			<statement>
				UPDATE TGW_STAMP_LIST
				SET
					DELETE_YN = 'N'
				WHERE COMP_ID = :compId AND DOC_ID = :docId
			</statement>
		</query>
		
		<query id= "list.updateStampSealNumber">
			<statement>
				UPDATE TGW_STAMP_LIST
				SET
					SEAL_NUMBER = :vo.sealNumber,
					SEAL_PROC_DATE = TO_DATE(:vo.sealProcDate, 'yyyy-MM-dd hh24:mi:ss') 
				WHERE COMP_ID = :vo.compId AND STAMP_ID = :vo.stampId
			</statement>
		</query>
		
		<query id= "list.selectStampSealNumber">
			<statement>
				SELECT
					SEAL_NUMBER SEALNUMBER
				FROM TGW_STAMP_LIST				
				WHERE COMP_ID = :vo.compId AND STAMP_ID = :vo.stampId
			</statement>
		</query>
		
		<query id= "list.deleteStampSealComplete">
			<statement>
				DELETE FROM 
				TGW_STAMP_LIST
				WHERE STAMP_ID = :vo.stampId AND COMP_ID	= :vo.compId			
			</statement>
		</query>
		
		<query id="list.slectAuditList">
			<statement>
			<![CDATA[
				SELECT 
					  DOC_ID
					, COMP_ID
					, TITLE
					, AUDIT_NUMBER
					, CHARGE_DEPT_ID
					, CHARGE_DEPT_NAME
					, ELECTRON_DOC_YN
					, APPROVER_TYPE
					, APPROVE_TYPE
					, APPROVER_ID
					, APPROVER_NAME
					, APPROVER_POS
					, APPROVER_DEPT_ID
					, APPROVER_DEPT_NAME
					, ASK_TYPE
					, PROC_TYPE
					, REGISTER_ID
					, REGISTER_NAME
					, TO_CHAR(REGIST_DATE, 'YYYY-MM-DD HH24:MI:SS') REGIST_DATE
					, REMARK
					, DELETE_YN
					, TO_CHAR(DELETE_DATE, 'YYYY-MM-DD HH24:MI:SS') DELETE_DATE
					, REGISTER_DEPT_ID
					, REGISTER_DEPT_NAME
					, TO_CHAR(RECEIVE_DATE, 'YYYY-MM-DD HH24:MI:SS') RECEIVE_DATE
				FROM TGW_AUDIT_LIST
				WHERE DOC_ID 	= :docId
				  AND COMP_ID 	= :compId
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.AuditListVO" />
		</query>
		<query id="list.updateAuditList">
			<statement>
			<![CDATA[
				UPDATE TGW_AUDIT_LIST
				SET 
					APPROVER_ID = :vo.approverId, APPROVER_NAME = :vo.approverName, APPROVER_POS = :vo.approverPos,
					APPROVER_DEPT_ID = :vo.approverDeptId, APPROVER_DEPT_NAME = :vo.approverDeptName, REMARK = :vo.remark
				WHERE 
					COMP_ID = :vo.compId AND DOC_ID = :vo.docId
			]]>
			</statement>
		</query>
		
		<query id="list.listAdminAll">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, DRAFTER_DEPT_ID, DRAFTER_DEPT_NAME,  
					   DRAFTER_ID, DRAFTER_NAME, LAST_UPDATE_DATE,
					   PROCESSOR_ID, PROCESSOR_NAME, PROCESSOR_POS, PROCESSOR_DEPT_ID, PROCESSOR_DEPT_NAME, 
					   URGENCY_YN, ELECTRON_DOC_YN, DOC_STATE,
					   DEPT_CATEGORY, SERIAL_NUMBER, SUBSERIAL_NUMBER, TRANSFER_YN, DELETE_YN, TEMP_YN, UNREGIST_YN, DOC_COMPLETE_YN  , SEAL_TYPE
				FROM (  						
				       
				       #if ( $vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") )
				       
					       #if($vo.searchDeptCategory.equals("") && $vo.searchSerialNumber.equals("") )
					       
						       SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
						       		  A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
						       		  A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME, 
						       		  A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE,
						       		  A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.TRANSFER_YN, A.DELETE_YN, A.TEMP_YN, 
						       		  A.UNREGIST_YN, 'ing' DOC_COMPLETE_YN  ,'' SEAL_TYPE
						       FROM TGW_APP_DOC A
						       WHERE A.COMP_ID = :vo.compId
							   AND A.DOC_STATE IN ( {{vo.docAppState}} )
							   #if (!$vo.searchWord.equals(""))
									#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
							  #end
							  
							  #if (!$vo.docType.equals(""))
									AND A.DOC_TYPE = :vo.docType 
							  #end
							  
							  #if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
									AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
							  #end
								
							  #if(!$vo.bindingId.equals(""))
									AND A.BINDING_ID = :vo.bindingId
							  #end						
								
							  #if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'Y'
							  #elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
									AND A.ELECTRON_DOC_YN = 'N'
							  #end						
								
							  #if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
									AND A.ENF_TYPE = :vo.searchDetType
							  #end
								
							  #if(!$vo.searchApprovalName.equals("") 
									&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
								   )
									AND A.DOC_ID IN (
								                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
								                     WHERE A.DOC_ID = LINE.DOC_ID
								                     AND A.COMP_ID = LINE.COMP_ID
								                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
								                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
							                  	  )
							  #end
							  
							  #if(!$vo.deptId.equals("") )
								  AND A.DRAFTER_DEPT_ID IN ( {{vo.deptId}} )
							  #end
							  
							  AND A.BATCH_DRAFT_NUMBER = 1
							  AND A.DELETE_YN = 'N'
							  AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
							  
							   
							  UNION
							  
						  #end
						  
						  -- 생산문서 완료
						  
						  SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
					       		  A.DRAFTER_ID, A.DRAFTER_NAME, TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, 
					       		  A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME, 
					       		  A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE,
					       		  A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.TRANSFER_YN, A.DELETE_YN, A.TEMP_YN, 
					       		  A.UNREGIST_YN, 'complete' DOC_COMPLETE_YN,
					       		  NVL(C.SEAL_TYPE,'') SEAL_TYPE  
					       FROM TGW_APP_DOC A,  TGW_OWN_DEPT B,  TGW_SEND_INFO C
					       WHERE A.COMP_ID = :vo.compId
					       AND A.COMP_ID = B.COMP_ID
					       AND A.DOC_ID = B.DOC_ID
					       AND A.COMP_ID = C.COMP_ID
					       AND A.DOC_ID = C.DOC_ID
						   AND A.DOC_STATE IN ( {{vo.docAppCompleteState}} )
						   #if (!$vo.searchWord.equals(""))
								#if ($vo.searchType.equals("searchTitle"))
									AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
								#elseif ($vo.searchType.equals("searchDrafter"))
									AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
								#end 
						  #end
						  
						  #if (!$vo.docType.equals(""))
								AND A.DOC_TYPE = :vo.docType 
						  #end
						  
						  #if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
								AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
						  #end
							
						  #if(!$vo.bindingId.equals(""))
								AND A.BINDING_ID = :vo.bindingId
						  #end						
							
						  #if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'Y'
						  #elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
								AND A.ELECTRON_DOC_YN = 'N'
						  #end						
							
						  #if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
								AND A.ENF_TYPE = :vo.searchDetType
						  #end
							
						  #if(!$vo.searchApprovalName.equals("") 
								&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("") ) 
							   )
								AND A.DOC_ID IN (
							                     SELECT DOC_ID FROM TGW_APP_LINE LINE 
							                     WHERE A.DOC_ID = LINE.DOC_ID
							                     AND A.COMP_ID = LINE.COMP_ID
							                     AND (LINE.APPROVER_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
							                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
						                  	  )
						  #end
						  
						  #if(!$vo.deptId.equals("") )
							  AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
							  AND B.OWN_YN = 'Y' 
						  #end
						  
						  #if(!$vo.searchDeptCategory.equals("") && !$vo.searchSerialNumber.equals("") )
						  	AND A.DEPT_CATEGORY = :vo.searchDeptCategory 
						  	AND A.SERIAL_NUMBER = :vo.searchSerialNumber 
						  #end

						  
						  --AND A.BATCH_DRAFT_NUMBER = 1
						  AND A.DELETE_YN = 'N'
						  AND A.APPROVAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						  AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						  
					  #end 
					  
					  #if ( ($vo.appDocYn.equals("Y") || $vo.appDocYn.equals("D") ) && ($vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") ) )
					  	UNION ALL
					  #end 
					  
					  #if( $vo.enfDocYn.equals("Y") ||  $vo.enfDocYn.equals("D") )
					  	  
						  
						  #if(!$vo.deptId.equals("") )
						  	-- 접수문서 접수 이후
						  	SELECT
									A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPT_DEPT_ID DRAFTER_DEPT_ID, 
									A.ACCEPT_DEPT_NAME DRAFTER_DEPT_NAME, A.ACCEPTER_ID DRAFTER_ID, A.ACCEPTER_NAME DRAFTER_NAME, 
									TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss')  LAST_UPDATE_DATE,
									A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME,
									A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE,
									A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.TRANSFER_YN, A.DELETE_YN, 'N' TEMP_YN,
									A.UNREGIST_YN, 'complete' DOC_COMPLETE_YN   ,'' SEAL_TYPE
								FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
						  		WHERE A.COMP_ID = :vo.compId
						  		AND A.COMP_ID = B.COMP_ID
						  		AND A.DOC_ID = B.DOC_ID 
						  		AND A.DOC_STATE IN ( {{vo.docEnfCompleteState}} ) 
						  		AND B.OWN_DEPT_ID IN ( {{vo.deptId}} )
								AND B.OWN_YN = 'Y'
						  								  
	  					  
								  #if (!$vo.searchWord.equals(""))
								  	#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
								  #end
								  
								  #if (!$vo.docType.equals(""))
										AND A.DOC_TYPE = :vo.docType 
								  #end
								  
								  #if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								  #end
									
								  #if(!$vo.bindingId.equals(""))
										AND A.BINDING_ID = :vo.bindingId
								  #end						
									
								  #if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND A.ELECTRON_DOC_YN = 'Y'
								  #elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND A.ELECTRON_DOC_YN = 'N'
								  #end						
									
								  #if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND A.ENF_TYPE = :vo.searchDetType
								  #end
									
								  #if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("")  ) 
									   )
										AND A.DOC_ID IN (
									                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
									                     WHERE A.DOC_ID = LINE.DOC_ID
									                     AND A.COMP_ID = LINE.COMP_ID
									                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
									                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	  )
								  #end
								  
								  #if(!$vo.searchDeptCategory.equals("") && !$vo.searchSerialNumber.equals("") )
								  	AND A.DEPT_CATEGORY = :vo.searchDeptCategory 
								  	AND A.SERIAL_NUMBER = :vo.searchSerialNumber 
								  #end
								  
								  AND A.DELETE_YN = 'N' 
								  AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						  		  AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
								  
							  -- 접수문서 접수 이전
							  /*
							  UNION
							  
							  SELECT A.* ,'' SEAL_TYPE
								FROM   ENF_DOC_VIEW A
								     , TGW_ENF_RECV B
								WHERE A.COMP_ID = B.COMP_ID
								  AND A.DOC_ID = B.DOC_ID
								  AND A.DOC_STATE IN ( {{vo.docEnfState}} )
							  	  AND
	                              (
	                              	(
	                              		 ENF_TYPE = :vo.enfType
	                              		 AND RECV_DEPT_ID IN ( {{vo.deptId}} )
	                              	 )
	                              	 OR
	                              	 (
	                              	 	 ENF_TYPE = :vo.enfTypeAdd
	                              	 	 AND REF_DEPT_ID IN ( {{vo.deptId}} )
	                              	  )
	                              	)
	                              	*/
						  #else
						  	-- 접수문서 접수 이전
						  	/*
						  	SELECT  A.*  ,'' SEAL_TYPE FROM ENF_DOC_VIEW A  
						  	WHERE A.DOC_STATE IN ( {{vo.docEnfState}} ) 
						  	
						  	UNION
						  	*/ 
						  	
						  	SELECT
									A.DOC_ID, A.COMP_ID, A.TITLE, A.ACCEPT_DEPT_ID DRAFTER_DEPT_ID, 
									A.ACCEPT_DEPT_NAME DRAFTER_DEPT_NAME, A.ACCEPTER_ID DRAFTER_ID, A.ACCEPTER_NAME DRAFTER_NAME, 
									TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss')  LAST_UPDATE_DATE,
									A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME,
									A.URGENCY_YN, A.ELECTRON_DOC_YN, A.DOC_STATE,
									A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.TRANSFER_YN, A.DELETE_YN, 'N' TEMP_YN,
									A.UNREGIST_YN, 'complete' DOC_COMPLETE_YN   ,'' SEAL_TYPE
								FROM TGW_ENF_DOC A, TGW_OWN_DEPT B
						  		WHERE A.COMP_ID = :vo.compId
						  		AND A.COMP_ID = B.COMP_ID
						  		AND A.DOC_ID = B.DOC_ID 
						  		AND A.DOC_STATE IN ( {{vo.docEnfCompleteState}} ) 
						  								  
	  					  
								  #if (!$vo.searchWord.equals(""))
								  	#if ($vo.searchType.equals("searchTitle"))
										AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
									#elseif ($vo.searchType.equals("searchDrafter"))
										AND A.ACCEPTER_NAME LIKE '%' || :vo.searchWord || '%'
									#end 
								  #end
								  
								  #if (!$vo.docType.equals(""))
										AND A.DOC_TYPE = :vo.docType 
								  #end
								  
								  #if (!$vo.startDocNum.equals("") && !$vo.endDocNum.equals(""))
										AND A.SERIAL_NUMBER BETWEEN $vo.startDocNum AND $vo.endDocNum
								  #end
									
								  #if(!$vo.bindingId.equals(""))
										AND A.BINDING_ID = :vo.bindingId
								  #end						
									
								  #if (!$vo.searchElecYn.equals("") && $vo.searchNonElecYn.equals(""))
										AND A.ELECTRON_DOC_YN = 'Y'
								  #elseif ($vo.searchElecYn.equals("") && !$vo.searchNonElecYn.equals(""))
										AND A.ELECTRON_DOC_YN = 'N'
								  #end						
									
								  #if(!$vo.searchDetType.equals("") && !$vo.searchDetType.equals("ALL") )
										AND A.ENF_TYPE = :vo.searchDetType
								  #end
									
								  #if(!$vo.searchApprovalName.equals("") 
										&& (!$vo.searchApprTypeApproval.equals("") || !$vo.searchApprTypeExam.equals("") || !$vo.searchApprTypeCoop.equals("") || !$vo.searchApprTypeAgree.equals("") || !$vo.searchApprTypeDraft.equals("") || !$vo.searchApprTypePreDis.equals("") || !$vo.searchApprTypeResponse.equals("") || !$vo.searchApprTypeAudit.equals("")  ) 
									   )
										AND A.DOC_ID IN (
									                     SELECT DOC_ID FROM TGW_ENF_LINE LINE 
									                     WHERE A.DOC_ID = LINE.DOC_ID
									                     AND A.COMP_ID = LINE.COMP_ID
									                     AND (LINE.PROCESSOR_NAME LIKE '%' || :vo.searchApprovalName || '%' OR LINE.REPRESENTATIVE_NAME LIKE '%' || :vo.searchApprovalName || '%' )
									                     AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
								                  	  )
								  #end
								  
								  #if(!$vo.searchDeptCategory.equals("") && !$vo.searchSerialNumber.equals("") )
								  	AND A.DEPT_CATEGORY = :vo.searchDeptCategory 
								  	AND A.SERIAL_NUMBER = :vo.searchSerialNumber 
								  #end
								  
								  AND A.DELETE_YN = 'N' 
								  AND A.ACCEPT_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						  		  AND B.REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
						  	                         	
						  #end
						  
						  
					   #end
					 
					)
					ORDER BY LAST_UPDATE_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listAdminStampSeal">
			<statement>
			<![CDATA[				
					
				SELECT STAMP_ID, DOC_ID, COMP_ID, TITLE, REQUESTER_ID, REQUESTER_NAME,
				   REQUESTER_DEPT_ID, REQUESTER_DEPT_NAME, DOC_NUMBER, SEAL_NUMBER, 
				   TO_CHAR(SEAL_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_DATE, ELECTRON_DOC_YN,
				   NVL(SUBSTR(RECEIVER,1,INSTR(SUBSTR(RECEIVER,1),',')-1),SUBSTR(RECEIVER,1)) RECEIVER_FRONT, 
				   LENGTH (RECEIVER)- LENGTH (REPLACE (RECEIVER, ',')) RECEIVER_CNT, DELETE_YN 
					   
				FROM TGW_STAMP_LIST
				WHERE COMP_ID = :vo.compId
				AND SEAL_TYPE = :vo.sealType
				AND STAMP_ID > ' ' 		/* TUNNING ADD JTH8172*/
				AND OWN_DEPT_ID IN ( {{vo.deptId}} )				 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchRequestDeptName"))
						AND UPPER(REQUESTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchRequestName"))
						AND REQUESTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchDocNumber"))
						AND DOC_NUMBER LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				AND SEAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
			
				ORDER BY SEAL_PROC_DATE DESC, REGIST_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.StampListVO" />
		</query>
		
		<query id="list.listAdminSeal">
			<statement>
			<![CDATA[

				SELECT STAMP_ID, DOC_ID, COMP_ID, TITLE, REQUESTER_ID, REQUESTER_NAME,
					   REQUESTER_DEPT_ID, REQUESTER_DEPT_NAME, DOC_NUMBER, SEAL_NUMBER, 
					   TO_CHAR(SEAL_DATE, 'yyyy-mm-dd hh24:mi:ss') SEAL_DATE, ELECTRON_DOC_YN,
					   NVL(SUBSTR(RECEIVER,1,INSTR(SUBSTR(RECEIVER,1),',')-1),SUBSTR(RECEIVER,1)) RECEIVER_FRONT, 
					   LENGTH (RECEIVER)- LENGTH (REPLACE (RECEIVER, ',')) RECEIVER_CNT, DELETE_YN 
					  
				FROM TGW_STAMP_LIST
				WHERE COMP_ID = :vo.compId
				AND SEAL_TYPE = :vo.sealType
				AND STAMP_ID > ' ' 		/* TUNNING ADD JTH8172*/
				AND REGISTER_DEPT_ID IN ( {{vo.deptId}} )				
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchRequestDeptName"))
						AND UPPER(REQUESTER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchRequestName"))
						AND REQUESTER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchDocNumber"))
						AND DOC_NUMBER LIKE '%' || :vo.searchWord || '%'
					#end 
				#end
				
				AND SEAL_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY SEAL_PROC_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.StampListVO" />
		</query>
		
		<query id="list.listAdminAudit">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, AUDIT_NUMBER, TO_CHAR(RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE,   
					   CHARGE_DEPT_ID, CHARGE_DEPT_NAME, APPROVER_TYPE, ELECTRON_DOC_YN, APPROVER_POS,
					   ASK_TYPE, PROC_TYPE,
					   DECODE(ELECTRON_DOC_YN, 'Y', (
					   	SELECT DELETE_YN FROM TGW_APP_DOC WHERE COMP_ID = :vo.compId AND DOC_ID = A.DOC_ID
                       ), 'N', DELETE_YN) DELETE_YN,
					   (
					       SELECT DOC_STATE FROM TGW_APP_DOC WHERE COMP_ID = :vo.compId AND DOC_ID = A.DOC_ID
					   )  DOC_STATE, SECURITY_PASS, SECURITY_YN, TO_CHAR(SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       TO_CHAR(SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE  
				FROM TGW_AUDIT_LIST A
				WHERE COMP_ID = :vo.compId
				AND REGISTER_DEPT_ID IN ( {{vo.deptId}} )
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchApproverType"))
						AND APPROVER_TYPE LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchChargeDeptName"))
						AND UPPER(CHARGE_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#end 
				#end
				
				#if(!$vo.searchApprTypeList.equals("") && $vo.searchAuditOpt009.equals("Y"))
					AND ASK_TYPE IN ( {{vo.searchApprTypeList}} )
				#end
				
				#if(!$vo.searchApprTypeList.equals("") && ($vo.searchAuditOpt021.equals("Y") || $vo.searchAuditOpt022.equals("Y") || $vo.searchAuditOpt023.equals("Y") ))
					AND A.DOC_ID IN (
										SELECT MAX(LINE.DOC_ID) 
										FROM TGW_APP_LINE LINE
										WHERE LINE.COMP_ID = :vo.compId
										AND LINE.DOC_ID = A.DOC_ID
										AND LINE.TEMP_YN = 'N'
										AND LINE.ASK_TYPE IN ( {{vo.searchApprTypeList}} )
									)
				#end
				
				AND REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				ORDER BY REGIST_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.AuditListVO" />
		</query>
		
		<query id="list.listAdminReceiveWait">
			<statement>
			<![CDATA[
				#if(!$vo.deptId.equals(""))
					SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.DOC_NUMBER,
				#else
					SELECT DISTINCT A.DOC_ID, A.COMP_ID, A.TITLE, A.DOC_NUMBER,
				#end  
					   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME, 
					   TO_CHAR(A.DISTRIBUTE_DATE, 'yyyy-mm-dd hh24:mi:ss') DISTRIBUTE_DATE, A.ATTACH_COUNT, B.ENF_TYPE, 
					   A.URGENCY_YN, A.ELECTRON_DOC_YN, 
					   TO_CHAR(A.ACCEPT_DATE, 'yyyy-mm-dd hh24:mi:ss') ACCEPT_DATE, A.TRANSFER_YN, A.ORIGIN_COMP_ID,
					   TO_CHAR(A.RECEIVE_DATE, 'yyyy-mm-dd hh24:mi:ss') RECEIVE_DATE, A.LAST_UPDATE_DATE
					   , B.RECEIVER_ORDER
				
				FROM TGW_ENF_DOC A, TGW_ENF_RECV B				
				WHERE B.RECV_COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID
				/*
				AND A.DOC_STATE IN ( {{vo.docEnfState}} )
				*/
				AND B.RECV_STATE IN ( {{vo.docEnfState}} )
				AND A.TRANSFER_YN = 'N'
				
				#if(!$vo.deptId.equals(""))
				
					AND 
					(
						(
						 B.ENF_TYPE IN ( {{vo.enfType}} )
						 AND B.RECV_DEPT_ID IN ( {{vo.deptId}} )
						 AND B.REF_DEPT_ID IS NULL  					 
						) 
						OR 
						(
						  B.REF_DEPT_ID IN ( {{vo.deptId}} ) 
						) 					
					
					)
				#else	
				
					AND 
					(
						(
						 B.ENF_TYPE IN ( {{vo.enfType}} )
						 AND B.RECV_DEPT_ID IS NOT NULL
						 AND B.REF_DEPT_ID IS NULL  					 
						) 
						OR 
						(
						  B.REF_DEPT_ID IS NOT NULL
						) 					
					
					)
				#end 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchSendDeptName"))
						AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
					#end 
				#end
				
				AND A.ACCEPT_DATE = TO_DATE('9999-12-31 23:59:59','yyyy-MM-dd hh24:mi:ss')
				AND B.RECEIVER_ORDER > 0						/* TUNNING ADD JTH8172*/
				AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/ 
				AND A.DELETE_YN = 'N' 
  					    
				ORDER BY A.LAST_UPDATE_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.enforce.vo.EnfDocVO" />
		</query>
		
		<query id="list.listBizResult">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, NVL(B.TITLE, C.BIZ_TYPE_NAME) AS TITLE, C.BIZ_SYSTEM_NAME, C.BIZ_TYPE_NAME, A.EX_PROC_TYPE, 
				       A.DOC_STATE, A.EX_PROC_STATE, TO_CHAR(A.EX_PROC_DATE, 'yyyy-mm-dd hh24:mi:ss') EX_PROC_DATE
				FROM TGW_BIZ_PROC A, TGW_APP_DOC B, TGW_BIZ_SYSTEM C
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID(+)
				AND A.COMP_ID = B.COMP_ID(+)
				AND A.COMP_ID = C.COMP_ID
				AND A.BIZ_SYSTEM_CODE = C.BIZ_SYSTEM_CODE
				AND A.BIZ_TYPE_CODE = C.BIZ_TYPE_CODE
				AND A.PROC_ORDER > 0 
				AND A.PROC_ORDER = (
				    SELECT MAX(BIZ.PROC_ORDER) FROM TGW_BIZ_PROC BIZ WHERE BIZ.COMP_ID = :vo.compId
				    AND BIZ.COMP_ID = A.COMP_ID
				    AND BIZ.DOC_ID = A.DOC_ID
				    AND BIZ.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				)
				
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(B.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchBizSystem"))
						AND C.BIZ_SYSTEM_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchBizProc"))
						AND C.BIZ_TYPE_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchOriginDocId"))
						AND A.ORIGIN_DOC_ID LIKE '%' || :vo.searchWord || '%'
					#end 
				#end	
				
				#if(!$vo.procType.equals(""))
					AND A.EX_PROC_STATE = :vo.procType
				#end
				
				AND A.PROCESS_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY A.PROCESS_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.BizProcVO" />
		</query>
		
		<query id="list.listBizResultDoc">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, NVL(B.TITLE, C.BIZ_TYPE_NAME) AS TITLE, A.EX_PROC_DIRECTION, A.EX_PROC_TYPE, 
					   A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.PROCESSOR_DEPT_ID, A.PROCESSOR_DEPT_NAME,
					   TO_CHAR(A.PROCESS_DATE, 'yyyy-mm-dd hh24:mi:ss') PROCESS_DATE,
					   C.BIZ_SYSTEM_NAME, C.BIZ_TYPE_NAME,
				       A.DOC_STATE, A.EX_PROC_STATE, TO_CHAR(A.EX_PROC_DATE, 'yyyy-mm-dd hh24:mi:ss') EX_PROC_DATE,
				       A.EX_PROC_COUNT, A.PROC_OPINION, A.EXCHANGE_XML, A.PROC_ORDER, 
				       A.ORIGIN_DOC_ID
				FROM TGW_BIZ_PROC A, TGW_APP_DOC B, TGW_BIZ_SYSTEM C
				WHERE A.COMP_ID = :vo.compId
				AND A.DOC_ID = :vo.docId
				AND A.DOC_ID = B.DOC_ID(+)
				AND A.COMP_ID = B.COMP_ID(+)
				AND A.COMP_ID = C.COMP_ID
				AND A.BIZ_SYSTEM_CODE = C.BIZ_SYSTEM_CODE
				AND A.BIZ_TYPE_CODE = C.BIZ_TYPE_CODE
				
				ORDER BY A.PROC_ORDER ASC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.BizProcVO" />
		</query>
		
		<query id="list.bizResultXmlDoc">
			<statement>
			<![CDATA[

				SELECT EXCHANGE_XML 
				FROM TGW_BIZ_PROC 
				WHERE COMP_ID = :vo.compId
				AND DOC_ID = :vo.docId
				AND PROC_ORDER = :vo.procOrder
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.BizProcVO" />
		</query>
		
		<query id="list.listAdminDocmgrResult">
			<statement>
			<![CDATA[

				SELECT DOC_ID, STATE_ORDER, TITLE, CHANGE_REASON, PROC_STATE, 
					   TO_CHAR(PROC_DATE, 'yyyy-mm-dd hh24:mi:ss') PROC_DATE, USING_TYPE, 
					   TO_CHAR(REGIST_DATE, 'yyyy-mm-dd hh24:mi:ss') REGIST_DATE
				FROM TGW_QUEUE_TO_DOCMGR A
				WHERE COMP_ID = :vo.compId
				AND STATE_ORDER > 0
				AND STATE_ORDER = 
									(
										SELECT MAX(STATE_ORDER) 
										FROM TGW_QUEUE_TO_DOCMGR 
										WHERE COMP_ID = A.COMP_ID 
										AND DOC_ID = A.DOC_ID
									)
				
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#end 
				#end
				
				#if(!$vo.procType.equals(""))
					AND A.PROC_STATE = :vo.procType
				#end	
				
				AND REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY REGIST_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.QueueToDocmgrVO" />
		</query>
		
		<query id="list.listAdminDocmgrResultDoc">
			<statement>
			<![CDATA[

				SELECT DOC_ID, STATE_ORDER, TITLE, CHANGE_REASON, PROC_STATE, 
					   TO_CHAR(PROC_DATE, 'yyyy-mm-dd hh24:mi:ss') PROC_DATE, USING_TYPE, 
					   TO_CHAR(REGIST_DATE, 'yyyy-mm-dd hh24:mi:ss') REGIST_DATE, PROC_MESSAGE
				FROM TGW_QUEUE_TO_DOCMGR 
				WHERE COMP_ID = :vo.compId
				AND DOC_ID = :vo.docId
				
				ORDER BY STATE_ORDER ASC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.QueueToDocmgrVO" />
		</query>
		
		<query id="list.listAdminAccHis">
			<statement>
			<![CDATA[

				SELECT HIS_ID, USER_ID, USER_NAME, POS, USER_IP, DEPT_ID, DEPT_NAME, USED_TYPE, 
					   TO_CHAR(USE_DATE, 'yyyy-mm-dd hh24:mi:ss') USE_DATE
				FROM TGW_ACC_HIS 
				WHERE COMP_ID = :vo.compId
				
				#if (!$vo.deptId.equals(""))
					AND DEPT_ID = :vo.deptId
				#end
				
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchUserName"))
						AND USER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchDeptName"))
						AND UPPER(DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchUserIp"))
						AND USER_IP LIKE '%' || :vo.searchWord || '%'
					#end  
				#end	
				
				AND USE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY USE_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.common.vo.AccessHisVO" />
		</query>
		
		<query id="list.deleteBizProc">
			<statement>
			<![CDATA[

				DELETE FROM TGW_BIZ_PROC WHERE COMP_ID = :compId AND DOC_ID = :docId
				
			]]>
			</statement>
		</query>
		
		
		<query id="list.deleteDocToMgr">
			<statement>
			<![CDATA[

				DELETE FROM TGW_QUEUE_TO_DOCMGR WHERE COMP_ID = :compId AND DOC_ID = :docId
				
			]]>
			</statement>
		</query>
		
		
		<query id="list.deleteAccHis">
			<statement>
			<![CDATA[

				DELETE FROM TGW_ACC_HIS WHERE COMP_ID = :compId AND HIS_ID = :hisId
				
			]]>
			</statement>
		</query>
		
		<query id="list.listDisplayNotice">
			<statement>
			<![CDATA[

				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.PUBLISH_ID, A.READ_COUNT, 
					   A.PUBLISHER_ID, A.PUBLISHER_NAME, A.PUBLISH_DEPT_ID, A.PUBLISH_DEPT_NAME, 
					   TO_CHAR(A.PUBLISH_DATE, 'yyyy-mm-dd hh24:mi:ss') PUBLISH_DATE,  A.ELECTRON_DOC_YN
					   , B.SECURITY_PASS, B.SECURITY_YN, TO_CHAR(B.SECURITY_START_DATE,'yyyyMMdd') SECURITY_START_DATE,
				       TO_CHAR(B.SECURITY_END_DATE,'yyyyMMdd') SECURITY_END_DATE
				       ,nvl((select min(READ_DATE) from TGW_APP_LINE where doc_id = B.doc_id and APPROVER_ID = :vo.userId),sysdate) as READ_DATE
				FROM TGW_PUB_POST A, TGW_APP_DOC B
				WHERE A.COMP_ID = :vo.compId
				AND A.COMP_ID = B.COMP_ID(+)
				AND A.DOC_ID = B.DOC_ID(+)
				#if (!$vo.readingRange.equals("DRS002") )
					AND A.READ_RANGE = :vo.readingRange 
				#end
				
				#if (!$vo.readingRange.equals("DRS005") )
					AND A.PUBLISH_DEPT_ID IN ( {{vo.deptId}} ) 
				#end
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchPublisher"))
						AND A.PUBLISHER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchPublisherDept"))
						AND UPPER(A.PUBLISH_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#end 
				#end
				
				AND A.PUBLISH_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				AND A.PUBLISH_END_DATE > TO_DATE(:vo.pubPostStdDate, 'yyyy-MM-dd hh24:mi:ss')
				ORDER BY A.PUBLISH_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.etc.vo.PubPostVO" />
		</query>
		
		<query id="list.listDisplayNoticeToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM (
					SELECT DOC_ID, COMP_ID, TITLE,  
						   PUBLISHER_ID DRAFTER_ID, PUBLISHER_NAME DRAFTER_NAME, PUBLISH_DEPT_ID DRAFTER_DEPT_ID, PUBLISH_DEPT_NAME DRAFTER_DEPT_NAME, 
						   TO_CHAR(PUBLISH_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,  ELECTRON_DOC_YN 
					FROM TGW_PUB_POST 
					WHERE COMP_ID = :vo.compId
					
					#if (!$vo.readingRange.equals("DRS002") )
						AND READ_RANGE = :vo.readingRange 
					#end
					
					AND PUBLISH_DEPT_ID IN ( {{vo.deptId}} ) 
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchPublisher"))
							AND PUBLISHER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchPublisherDept"))
							AND UPPER(PUBLISH_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#end 
					#end
					
					AND PUBLISH_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND PUBLISH_END_DATE > TO_DATE(:vo.pubPostStdDate, 'yyyy-MM-dd hh24:mi:ss')
					ORDER BY DRAFT_DATE DESC
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		
		<query id="list.listAllDisplayNotice">
			<statement>
			<![CDATA[

				SELECT DOC_ID, COMP_ID, TITLE, PUBLISH_ID, READ_COUNT, 
					   PUBLISHER_ID, PUBLISHER_NAME, PUBLISH_DEPT_ID, PUBLISH_DEPT_NAME, 
					   TO_CHAR(PUBLISH_DATE, 'yyyy-mm-dd hh24:mi:ss') PUBLISH_DATE,  ELECTRON_DOC_YN
				FROM TGW_PUB_POST 
				WHERE COMP_ID = :vo.compId
				
				
				AND PUBLISH_DEPT_ID IN ( {{vo.deptId}} ) 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchPublisher"))
						AND PUBLISHER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchPublisherDept"))
						AND UPPER(PUBLISH_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#end 
				#end
				
				AND PUBLISH_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				AND PUBLISH_END_DATE > TO_DATE(:vo.pubPostStdDate, 'yyyy-MM-dd hh24:mi:ss')
				
				UNION
				
				SELECT DOC_ID, COMP_ID, TITLE, PUBLISH_ID, READ_COUNT, 
					   PUBLISHER_ID, PUBLISHER_NAME, PUBLISH_DEPT_ID, PUBLISH_DEPT_NAME, 
					   TO_CHAR(PUBLISH_DATE, 'yyyy-mm-dd hh24:mi:ss') PUBLISH_DATE,  ELECTRON_DOC_YN 
				FROM TGW_PUB_POST 
				WHERE COMP_ID = :vo.compId
				
				AND READ_RANGE = :vo.headOfficeReadingRange 
				AND PUBLISH_DEPT_ID IN ( {{vo.searchHeadOffice}} ) 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchPublisher"))
						AND PUBLISHER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchPublisherDept"))
						AND UPPER(PUBLISH_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#end 
				#end
				
				AND PUBLISH_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				AND PUBLISH_END_DATE > TO_DATE(:vo.pubPostStdDate, 'yyyy-MM-dd hh24:mi:ss')
				
				UNION
				
				SELECT DOC_ID, COMP_ID, TITLE, PUBLISH_ID, READ_COUNT, 
					   PUBLISHER_ID, PUBLISHER_NAME, PUBLISH_DEPT_ID, PUBLISH_DEPT_NAME, 
					   TO_CHAR(PUBLISH_DATE, 'yyyy-mm-dd hh24:mi:ss') PUBLISH_DATE,  ELECTRON_DOC_YN 
				FROM TGW_PUB_POST 
				WHERE COMP_ID = :vo.compId
				
				AND READ_RANGE = :vo.institutionReadingRange 
				AND PUBLISH_DEPT_ID IN ( {{vo.searchInstitution}} ) 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchPublisher"))
						AND PUBLISHER_NAME LIKE '%' || :vo.searchWord || '%'
					#elseif ($vo.searchType.equals("searchPublisherDept"))
						AND UPPER(PUBLISH_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
					#end 
				#end
				
				AND PUBLISH_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				AND PUBLISH_END_DATE > TO_DATE(:vo.pubPostStdDate, 'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY PUBLISH_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.etc.vo.PubPostVO" />
		</query>
		
		<query id="list.listAllDisplayNoticeToList">
			<statement>
			<![CDATA[
				SELECT   INNER_TABLE.* , ROWNUM AS ROW_SEQ FROM ( 
					SELECT DOC_ID, COMP_ID, TITLE,  
						   PUBLISHER_ID DRAFTER_ID, PUBLISHER_NAME DRAFTER_NAME, PUBLISH_DEPT_ID DRAFTER_DEPT_ID, PUBLISH_DEPT_NAME DRAFTER_DEPT_NAME, 
						   TO_CHAR(PUBLISH_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,  ELECTRON_DOC_YN
					FROM TGW_PUB_POST 
					WHERE COMP_ID = :vo.compId
					
					
					AND PUBLISH_DEPT_ID IN ( {{vo.deptId}} ) 
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchPublisher"))
							AND PUBLISHER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchPublisherDept"))
							AND UPPER(PUBLISH_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#end 
					#end
					
					AND PUBLISH_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND PUBLISH_END_DATE > TO_DATE(:vo.pubPostStdDate, 'yyyy-MM-dd hh24:mi:ss')
					
					UNION
					
					SELECT DOC_ID, COMP_ID, TITLE,  
						   PUBLISHER_ID DRAFTER_ID, PUBLISHER_NAME DRAFTER_NAME, PUBLISH_DEPT_ID DRAFTER_DEPT_ID, PUBLISH_DEPT_NAME DRAFTER_DEPT_NAME, 
						   TO_CHAR(PUBLISH_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,  ELECTRON_DOC_YN
					FROM TGW_PUB_POST 
					WHERE COMP_ID = :vo.compId
					
					AND READ_RANGE = :vo.headOfficeReadingRange 
					AND PUBLISH_DEPT_ID IN ( {{vo.searchHeadOffice}} ) 
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchPublisher"))
							AND PUBLISHER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchPublisherDept"))
							AND UPPER(PUBLISH_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#end 
					#end
					
					AND PUBLISH_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND PUBLISH_END_DATE > TO_DATE(:vo.pubPostStdDate, 'yyyy-MM-dd hh24:mi:ss')
					
					UNION
					
					SELECT DOC_ID, COMP_ID, TITLE,  
						   PUBLISHER_ID DRAFTER_ID, PUBLISHER_NAME DRAFTER_NAME, PUBLISH_DEPT_ID DRAFTER_DEPT_ID, PUBLISH_DEPT_NAME DRAFTER_DEPT_NAME, 
						   TO_CHAR(PUBLISH_DATE, 'yyyy-mm-dd hh24:mi:ss') DRAFT_DATE,  ELECTRON_DOC_YN
					FROM TGW_PUB_POST 
					WHERE COMP_ID = :vo.compId
					
					AND READ_RANGE = :vo.institutionReadingRange 
					AND PUBLISH_DEPT_ID IN ( {{vo.searchInstitution}} ) 
					
					#if (!$vo.searchWord.equals(""))
						#if ($vo.searchType.equals("searchTitle"))
							AND UPPER(TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
						#elseif ($vo.searchType.equals("searchPublisher"))
							AND PUBLISHER_NAME LIKE '%' || :vo.searchWord || '%'
						#elseif ($vo.searchType.equals("searchPublisherDept"))
							AND UPPER(PUBLISH_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%')
						#end 
					#end
					
					AND PUBLISH_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
					AND PUBLISH_END_DATE > TO_DATE(:vo.pubPostStdDate, 'yyyy-MM-dd hh24:mi:ss')
					
					ORDER BY DRAFT_DATE DESC
					
				) INNER_TABLE WHERE ROWNUM <=  :vo.pageSize
				
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.getAppIngBindCount">
			<statement>
			<![CDATA[

				SELECT /* index(t idx_tgw_app_doc_08) */ COUNT(DOC_ID) CNT 
				FROM TGW_APP_DOC t 
				WHERE COMP_ID = :compId 
				AND BINDING_ID = :bindingId
				AND DOC_STATE < {{docAppState}}
				AND DELETE_YN = 'N'				
			]]>
			</statement>
		</query>
		
		<query id="list.listAppIngBind">
			<statement>
			<![CDATA[
				     
				SELECT /* index(A idx_tgw_app_doc_08) */ A.DOC_ID, A.COMP_ID, A.TITLE, A.DRAFTER_ID, A.DRAFTER_NAME, A.DRAFTER_POS,
						A.DEPT_CATEGORY, A.SERIAL_NUMBER, A.SUBSERIAL_NUMBER, A.ELECTRON_DOC_YN, A.DRAFTER_DEPT_ID, A.DRAFTER_DEPT_NAME, 
						A.PROCESSOR_ID, A.PROCESSOR_NAME, A.PROCESSOR_POS, A.DOC_STATE,
						TO_CHAR(A.LAST_UPDATE_DATE, 'yyyy-mm-dd hh24:mi:ss') LAST_UPDATE_DATE, A.TRANSFER_YN, 
					    (
			       		  	SELECT PROC_TYPE 
			       		  	FROM TGW_APP_LINE 
			       		  	WHERE COMP_ID = :vo.compId 
			       		  	AND DOC_ID = A.DOC_ID 
			       		  	AND APPROVER_ID = A.PROCESSOR_ID
			       		  	AND TEMP_YN = 'N'
			       		) PROC_TYPE
				FROM TGW_APP_DOC A      				 
				WHERE A.COMP_ID = :vo.compId 			
				AND A.DOC_STATE < {{vo.docAppState}} 
				AND A.BINDING_ID = :vo.bindingId
				AND A.DELETE_YN = 'N'
				
				 #if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchDrafter"))
						AND A.DRAFTER_NAME LIKE '%' || :vo.searchWord || '%'
					#end  
			    #end	
				
				AND A.LAST_UPDATE_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				
				ORDER BY A.APPROVAL_DATE DESC, A.SERIAL_NUMBER DESC, A.DEPT_CATEGORY DESC, A.BATCH_DRAFT_NUMBER DESC
			]]>
			</statement>
			<result class="com.sds.acube.app.approval.vo.AppDocVO" />
		</query>
		
		<query id="list.listAdminRelayResult">
			<statement>
			<![CDATA[
				SELECT ERROR_ID, ERROR_TYPE, DOC_ID, TITLE, SEND_DEPT_ID, SEND_DEPT_NAME, SEND_NAME, FILE_ID, FILE_NAME, DESCRIPTION, REGIST_DATE
				  FROM TGW_APP_RELAY_DOC_ERROR 
				 WHERE 1=1
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTypeSendId"))
				   AND UPPER(SEND_DEPT_ID) LIKE UPPER('%' || :vo.searchWord || '%')
					#end
				#end
				   AND REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				 ORDER BY REGIST_DATE DESC
			]]>
			</statement>
			<result class="com.sds.acube.app.relay.vo.RelayExceptionVO" />
		</query>
		
		<query id="list.getAdminRelayResultDetail">
			<statement>
			<![CDATA[
				SELECT ERROR_ID, ERROR_TYPE, DOC_ID, TITLE, SEND_DEPT_ID, SEND_DEPT_NAME, SEND_NAME, FILE_ID, FILE_NAME, DESCRIPTION, REGIST_DATE
				  FROM TGW_APP_RELAY_DOC_ERROR
				 WHERE ERROR_ID = :vo.errorId
			]]>
			</statement>
			<result class="com.sds.acube.app.relay.vo.RelayExceptionVO" />
		</query>
		
		<query id="list.listAdminRelayAckResult">
			<statement>
			<![CDATA[
				SELECT HIS_ID, DOC_ID, COMP_ID, RECEIVE_ID, ACK_TYPE, ACK_DATE, ACK_DEPT, ACK_NAME, ACK_XML, REGIST_DATE
				  FROM APP_USER.TGW_APP_RELAY_ACK_HIS A 
				 WHERE REGIST_DATE = 
				       (SELECT MAX(REGIST_DATE) 
				         FROM APP_USER.TGW_APP_RELAY_ACK_HIS 
				        WHERE DOC_ID = A.DOC_ID)
				#if (!$vo.searchType.equals(""))
					#if ($vo.searchType.equals("searchTypeSendId"))
				   AND UPPER(COMP_ID) LIKE UPPER('%' || :vo.searchWord || '%')
					#end
					#if ($vo.searchType.equals("searchTypeReceiveId"))
				   AND UPPER(RECEIVE_ID) LIKE UPPER('%' || :vo.searchWord || '%')
					#end
				#end
				   AND REGIST_DATE BETWEEN TO_DATE(:vo.startDate,'yyyy-MM-dd hh24:mi:ss') AND TO_DATE(:vo.endDate,'yyyy-MM-dd hh24:mi:ss')
				 ORDER BY REGIST_DATE DESC
			]]>
			</statement>
			<result class="com.sds.acube.app.relay.vo.RelayAckHisVO" />
		</query>
		
		<query id="list.getAdminRelayAckResultDetail">
			<statement>
			<![CDATA[
				SELECT HIS_ID, DOC_ID, COMP_ID, RECEIVE_ID, ACK_TYPE, ACK_DATE, ACK_DEPT, ACK_NAME, ACK_XML, REGIST_DATE
				  FROM TGW_APP_RELAY_ACK_HIS
				 WHERE DOC_ID = :vo.docId
				 ORDER BY REGIST_DATE ASC
			]]>
			</statement>
			<result class="com.sds.acube.app.relay.vo.RelayAckHisVO" />
		</query>
		
		<query id="list.getAdminRelayAttachFile">
			<statement>
			<![CDATA[
				SELECT DOC_ID, COMP_ID, PROCESSOR_ID, TEMP_YN, FILE_ID, FILE_NAME, DISPLAY_NAME, FILE_TYPE, FILE_SIZE, IMAGE_WIDTH, IMAGE_HEIGHT, FILE_ORDER, REGISTER_ID, REGISTER_NAME, REGIST_DATE
				  FROM TGW_FILE_INFO
				 WHERE FILE_ID = :vo.fileId
			]]>
			</statement>
			<result class="com.sds.acube.app.appcom.vo.FileVO" />
		</query>
		
		<query id="list.relayResultXmlDoc">
			<statement>
			<![CDATA[

				SELECT ACK_XML 
				FROM TGW_APP_RELAY_ACK_HIS 
				WHERE HIS_ID = :vo.hisId
			]]>
			</statement>
			<result class="com.sds.acube.app.relay.vo.RelayAckHisVO" />
		</query>
		
		<query id="list.listAdminDistributionWait">
			<statement>
			<![CDATA[
				SELECT A.DOC_ID, A.COMP_ID, A.TITLE, A.ENF_TYPE, A.DOC_NUMBER,   
					   A.SENDER_COMP_NAME, A.SENDER_DEPT_NAME, 
					   TO_CHAR(A.SEND_DATE, 'yyyy-mm-dd hh24:mi:ss') SEND_DATE, A.ATTACH_COUNT, A.URGENCY_YN, 
					   A.TRANSFER_YN, A.ELECTRON_DOC_YN, A.ORIGIN_COMP_ID					
				FROM TGW_ENF_DOC A, TGW_ENF_RECV B
				
				WHERE B.RECV_COMP_ID = :vo.compId
				AND A.DOC_ID = B.DOC_ID
				AND A.COMP_ID = B.COMP_ID	
				AND B.RECEIVER_ORDER > 0						/* TUNNING ADD JTH8172*/
				AND B.REGIST_DATE > TO_DATE('2000','YYYY')		/* TUNNING ADD JTH8172*/ 
				
				#if(!$vo.deptId.equals(""))
				
					AND 
					(
						
						 B.ENF_TYPE IN ( {{vo.enfType}} )
						 AND B.RECV_DEPT_ID IN ( {{vo.deptId}} )
						 AND B.REF_DEPT_ID IS NULL  					 
					)
				#else	
				
					AND 
					(
						(
						 B.ENF_TYPE IN ( {{vo.enfType}} )
						 AND B.RECV_DEPT_ID IS NOT NULL
						 AND B.REF_DEPT_ID IS NULL  					 
						) 
					)
				#end    		 
				
				#if (!$vo.searchWord.equals(""))
					#if ($vo.searchType.equals("searchTitle"))
						AND UPPER(A.TITLE) LIKE UPPER('%' || :vo.searchWord || '%')
					#elseif ($vo.searchType.equals("searchSendDeptName"))
						AND ( A.SENDER_COMP_NAME LIKE '%' || :vo.searchWord || '%' OR UPPER(A.SENDER_DEPT_NAME) LIKE UPPER('%' || :vo.searchWord || '%') )
					#end 
				#end
				
				AND A.DELETE_YN = 'N' 
				AND A.ELECTRON_DOC_YN = 'Y'
				AND A.DISTRIBUTE_YN IN ('T', 'TT') 
				AND A.TRANSFER_YN = 'N'
				
				ORDER BY A.SEND_DATE DESC
				
			]]>
			</statement>
			<result class="com.sds.acube.app.enforce.vo.EnfDocVO" />
		</query>
						
	</queries>
</queryservice>